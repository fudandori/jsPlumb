(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"4ZMo":function(t,e,n){(function(){void 0===Math.sgn&&(Math.sgn=function(t){return 0==t?0:t>0?1:-1});var t=function(t,e){return{x:t.x-e.x,y:t.y-e.y}},n=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},r=Math.pow(2,-65),o=function(e,r){for(var o=[],a=i(e,r),u=r.length-1,l=s(a,2*u-1,o,0),h=t(e,r[0]),p=n(h),d=0,f=0;f<l;f++){h=t(e,c(r,u,o[f],null,null));var v=n(h);v<p&&(p=v,d=o[f])}return h=t(e,r[u]),(v=n(h))<p&&(p=v,d=1),{location:d,distance:p}},i=function(e,n){for(var r=n.length-1,o=2*r-1,i=[],s=[],a=[],u=[],l=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],c=0;c<=r;c++)i[c]=t(n[c],e);for(c=0;c<=r-1;c++)s[c]=t(n[c+1],n[c]),s[c]={x:(h=s[c]).x*3,y:3*h.y};for(var h,p,d,f=0;f<=r-1;f++)for(var v=0;v<=r;v++)a[f]||(a[f]=[]),a[f][v]=(p=s[f]).x*(d=i[v]).x+p.y*d.y;for(c=0;c<=o;c++)u[c]||(u[c]=[]),u[c].y=0,u[c].x=parseFloat(c)/o;for(var g=r,m=r-1,y=0;y<=g+m;y++){var b=Math.max(0,y-m),_=Math.min(y,g);for(c=b;c<=_;c++){var w=y-c;u[c+w].y+=a[w][c]*l[w][c]}}return u},s=function(t,e,n,r){var o,i,h=[],p=[],d=[],f=[];switch(a(t,e)){case 0:return 0;case 1:if(r>=64)return n[0]=(t[0].x+t[e].x)/2,1;if(u(t,e))return n[0]=l(t,e),1}c(t,e,.5,h,p),o=s(h,e,d,r+1),i=s(p,e,f,r+1);for(var v=0;v<o;v++)n[v]=d[v];for(v=0;v<i;v++)n[v+o]=f[v];return o+i},a=function(t,e){var n,r,o=0;n=r=Math.sgn(t[0].y);for(var i=1;i<=e;i++)(n=Math.sgn(t[i].y))!=r&&o++,r=n;return o},u=function(t,e){var n,o,i,s,a,u,l,c,h;s=t[0].y-t[e].y,a=t[e].x-t[0].x,u=t[0].x*t[e].y-t[e].x*t[0].y,c=h=0;for(var p=1;p<e;p++){var d=s*t[p].x+a*t[p].y+u;d>c?c=d:d<h&&(h=d)}return n=(1*(u-c)-0*(l=a))*(1/(0*l-1*s)),o=(1*(u-h)-0*(l=a))*(1/(0*l-1*s)),i=Math.min(n,o),Math.max(n,o)-i<r?1:0},l=function(t,e){var n=t[e].x-t[0].x,r=t[e].y-t[0].y;return 0+1/(0*n-1*r)*(n*(t[0].y-0)-r*(t[0].x-0))*1},c=function(t,e,n,r,o){for(var i=[[]],s=0;s<=e;s++)i[0][s]=t[s];for(var a=1;a<=e;a++)for(s=0;s<=e-a;s++)i[a]||(i[a]=[]),i[a][s]||(i[a][s]={}),i[a][s].x=(1-n)*i[a-1][s].x+n*i[a-1][s+1].x,i[a][s].y=(1-n)*i[a-1][s].y+n*i[a-1][s+1].y;if(null!=r)for(s=0;s<=e;s++)r[s]=i[s][0];if(null!=o)for(s=0;s<=e;s++)o[s]=i[e-s][s];return i[e][0]},h={},p=function(t,e){for(var n=function(t){var e=h[t];if(!e){var n=function(t){return function(e){return t}},r=function(){return function(t){return t}},o=function(){return function(t){return 1-t}},i=function(t){return function(e){for(var n=1,r=0;r<t.length;r++)n*=t[r](e);return n}};(e=[]).push(new function(){return function(e){return Math.pow(e,t)}});for(var s=1;s<t;s++){for(var a=[new n(t)],u=0;u<t-s;u++)a.push(new r);for(u=0;u<s;u++)a.push(new o);e.push(new i(a))}e.push(new function(){return function(e){return Math.pow(1-e,t)}}),h[t]=e}return e}(t.length-1),r=0,o=0,i=0;i<t.length;i++)r+=t[i].x*n[i](e),o+=t[i].y*n[i](e);return{x:r,y:o}},d=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},f=function(t){return t[0].x===t[1].x&&t[0].y===t[1].y},v=function(t,e,n){if(f(t))return{point:t[0],location:e};for(var r=p(t,e),o=0,i=e,s=n>0?1:-1,a=null;o<Math.abs(n);)a=p(t,i+=.005*s),o+=d(a,r),r=a;return{point:a,location:i}},g=function(t,e){var n=p(t,e),r=p(t.slice(0,t.length-1),e),o=r.y-n.y;return 0===o?1/0:Math.atan(o/(r.x-n.x))},m=function(t,e,n,r,o){var i=r-e,s=t-n,a=t*(e-r)+e*(n-t),u=function(t){return[y(t,"x"),y(t,"y")]}(o),l=(function(t,e,n,r){var o,i,s=e/t,a=n/t,u=r/t,l=(3*a-Math.pow(s,2))/9,c=(9*s*a-27*u-2*Math.pow(s,3))/54,h=Math.pow(l,3)+Math.pow(c,2),p=[];if(h>=0)o=b(c+Math.sqrt(h))*Math.pow(Math.abs(c+Math.sqrt(h)),1/3),i=b(c-Math.sqrt(h))*Math.pow(Math.abs(c-Math.sqrt(h)),1/3),p[0]=-s/3+(o+i),p[1]=-s/3-(o+i)/2,p[2]=-s/3-(o+i)/2,0!==Math.abs(Math.sqrt(3)*(o-i)/2)&&(p[1]=-1,p[2]=-1);else{var d=Math.acos(c/Math.sqrt(-Math.pow(l,3)));p[0]=2*Math.sqrt(-l)*Math.cos(d/3)-s/3,p[1]=2*Math.sqrt(-l)*Math.cos((d+2*Math.PI)/3)-s/3,p[2]=2*Math.sqrt(-l)*Math.cos((d+4*Math.PI)/3)-s/3}for(var f=0;f<3;f++)(p[f]<0||p[f]>1)&&(p[f]=-1);return p}).apply(null,[i*u[0][0]+s*u[1][0],i*u[0][1]+s*u[1][1],i*u[0][2]+s*u[1][2],i*u[0][3]+s*u[1][3]+a]),c=[];if(null!=l)for(var h=0;h<3;h++){var p,d=l[h],f=Math.pow(d,2),v=Math.pow(d,3),g=[u[0][0]*v+u[0][1]*f+u[0][2]*d+u[0][3],u[1][0]*v+u[1][1]*f+u[1][2]*d+u[1][3]];p=n-t!=0?(g[0]-t)/(n-t):(g[1]-e)/(r-e),d>=0&&d<=1&&p>=0&&p<=1&&c.push(g)}return c};function y(t,e){return[3*t[1][e]-t[0][e]+-3*t[2][e]+t[3][e],3*t[0][e]-6*t[1][e]+3*t[2][e],-3*t[0][e]+3*t[1][e],t[0][e]]}function b(t){return t<0?-1:t>0?1:0}var _=this.jsBezier={distanceFromCurve:o,gradientAtPoint:g,gradientAtPointAlongCurveFrom:function(t,e,n){var r=v(t,e,n);return r.location>1&&(r.location=1),r.location<0&&(r.location=0),g(t,r.location)},nearestPointOnCurve:function(t,e){var n=o(t,e);return{point:c(e,e.length-1,n.location,null,null),location:n.location}},pointOnCurve:p,pointAlongCurveFrom:function(t,e,n){return v(t,e,n).point},perpendicularToCurveAt:function(t,e,n,r){var o=v(t,e,r=null==r?0:r),i=g(t,o.location),s=Math.atan(-1/i),a=n/2*Math.sin(s),u=n/2*Math.cos(s);return[{x:o.point.x+u,y:o.point.y+a},{x:o.point.x-u,y:o.point.y-a}]},locationAlongCurveFrom:function(t,e,n){return v(t,e,n).location},getLength:function(t){if(f(t))return 0;for(var e=p(t,0),n=0,r=0,o=null;r<1;)o=p(t,r+=.005),n+=d(o,e),e=o;return n},lineIntersection:m,boxIntersection:function(t,e,n,r,o){var i=[];return i.push.apply(i,m(t,e,t+n,e,o)),i.push.apply(i,m(t+n,e,t+n,e+r,o)),i.push.apply(i,m(t+n,e+r,t,e+r,o)),i.push.apply(i,m(t,e+r,t,e,o)),i},boundingBoxIntersection:function(t,e){var n=[];return n.push.apply(n,m(t.x,t.y,t.x+t.w,t.y,e)),n.push.apply(n,m(t.x+t.w,t.y,t.x+t.w,t.y+t.h,e)),n.push.apply(n,m(t.x+t.w,t.y+t.h,t.x,t.y+t.h,e)),n.push.apply(n,m(t.x,t.y+t.h,t.x,t.y,e)),n},version:"0.9.0"};e.jsBezier=_}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.Biltong={version:"0.4.0"};e.Biltong=t;var n=function(t){return"[object Array]"===Object.prototype.toString.call(t)},r=function(t,e,r){return r(t=n(t)?t:[t.x,t.y],e=n(e)?e:[e.x,e.y])},o=t.gradient=function(t,e){return r(t,e,function(t,e){return e[0]==t[0]?e[1]>t[1]?1/0:-1/0:e[1]==t[1]?e[0]>t[0]?0:-0:(e[1]-t[1])/(e[0]-t[0])})},i=(t.normal=function(t,e){return-1/o(t,e)},t.lineLength=function(t,e){return r(t,e,function(t,e){return Math.sqrt(Math.pow(e[1]-t[1],2)+Math.pow(e[0]-t[0],2))})},t.quadrant=function(t,e){return r(t,e,function(t,e){return e[0]>t[0]?e[1]>t[1]?2:1:e[0]==t[0]?e[1]>t[1]?2:1:e[1]>t[1]?3:4})}),s=(t.theta=function(t,e){return r(t,e,function(t,e){var n=o(t,e),r=Math.atan(n),s=i(t,e);return 4!=s&&3!=s||(r+=Math.PI),r<0&&(r+=2*Math.PI),r})},t.intersects=function(t,e){var n=t.x,r=t.x+t.w,o=t.y,i=t.y+t.h,s=e.x,a=e.x+e.w,u=e.y,l=e.y+e.h;return n<=s&&s<=r&&o<=u&&u<=i||n<=a&&a<=r&&o<=u&&u<=i||n<=s&&s<=r&&o<=l&&l<=i||n<=a&&s<=r&&o<=l&&l<=i||s<=n&&n<=a&&u<=o&&o<=l||s<=r&&r<=a&&u<=o&&o<=l||s<=n&&n<=a&&u<=i&&i<=l||s<=r&&n<=a&&u<=i&&i<=l},t.encloses=function(t,e,n){var r=t.y,o=t.y+t.h,i=e.y,s=e.y+e.h,a=function(t,e,r,o){return n?t<=e&&r>=o:t<e&&r>o};return a(t.x,e.x,t.x+t.w,e.x+e.w)&&a(r,i,o,s)},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),a=[null,[-1,-1],[-1,1],[1,1],[1,-1]];t.pointOnLine=function(t,e,n){var r=o(t,e),u=i(t,e),l=n>0?s[u]:a[u],c=Math.atan(r),h=Math.abs(n*Math.sin(c))*l[1],p=Math.abs(n*Math.cos(c))*l[0];return{x:t.x+p,y:t.y+h}},t.perpendicularLineTo=function(t,e,n){var r=o(t,e),i=Math.atan(-1/r),s=n/2*Math.sin(i),a=n/2*Math.cos(i);return[{x:e.x+a,y:e.y+s},{x:e.x-a,y:e.y-s}]}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=function(t,e,n){for(var r=(n=n||t.parentNode).querySelectorAll(e),o=0;o<r.length;o++)if(r[o]===t)return!0;return!1},n=function(t){return"string"==typeof t||t.constructor===String?document.getElementById(t):t},r=function(t){return t.srcElement||t.target},o=function(t,e,n,r){if(r){if(void 0!==t.path&&t.path.indexOf)return{path:t.path,end:t.path.indexOf(n)};var o={path:[],end:-1},i=function(t){o.path.push(t),t===n?o.end=o.path.length-1:null!=t.parentNode&&i(t.parentNode)};return i(e),o}return{path:[e],end:1}},i=function(t,e){for(var n=0,r=t.length;n<r&&t[n]!=e;n++);n<t.length&&t.splice(n,1)},s=1,a=function(t,e,n){var r=s++;return t.__ta=t.__ta||{},t.__ta[e]=t.__ta[e]||{},t.__ta[e][r]=n,n.__tauid=r,r},u=function(e,n,i,s){if(null==e)return i;var a=e.split(","),u=function(s){u.__tauid=i.__tauid;var l=r(s),c=l,h=o(s,l,n,null!=e);if(-1!=h.end)for(var p=0;p<h.end;p++){c=h.path[p];for(var d=0;d<a.length;d++)t(c,a[d],n)&&i.apply(c,arguments)}};return l(i,s,u),u},l=function(t,e,n){t.__taExtra=t.__taExtra||[],t.__taExtra.push([e,n])},c=function(t,e,n,r){if(v&&m[e]){var o=u(r,t,n,m[e]);E(t,m[e],o,n)}"focus"===e&&null==t.getAttribute("tabindex")&&t.setAttribute("tabindex","1"),E(t,e,u(r,t,n,e),n)},h={tap:{touches:1,taps:1},dbltap:{touches:1,taps:2},contextmenu:{touches:2,taps:1}},p=function(e,n){return function(s,a,u,l){if("contextmenu"==a&&g)c(s,a,u,l);else{if(null==s.__taTapHandler){var p=s.__taTapHandler={tap:[],dbltap:[],contextmenu:[],down:!1,taps:0,downSelectors:[]},d=function(){p.down=!1},f=function(){p.taps=0};c(s,"mousedown",function(i){for(var a=r(i),u=o(i,a,s,null!=l),c=!1,h=0;h<u.end;h++){if(c)return;a=u.path[h];for(var v=0;v<p.downSelectors.length;v++)if(null==p.downSelectors[v]||t(a,p.downSelectors[v],s)){p.down=!0,setTimeout(d,e),setTimeout(f,n),c=!0;break}}}),c(s,"mouseup",function(e){if(p.down){var n,i,a=r(e);p.taps++;var u=P(e);for(var l in h)if(h.hasOwnProperty(l)){var c=h[l];if(c.touches===u&&(1===c.taps||c.taps===p.taps))for(var d=0;d<p[l].length;d++){i=o(e,a,s,null!=p[l][d][1]);for(var f=0;f<i.end;f++)if(n=i.path[f],null==p[l][d][1]||t(n,p[l][d][1],s)){p[l][d][0].apply(n,[e]);break}}}}})}s.__taTapHandler.downSelectors.push(l),s.__taTapHandler[a].push([u,l]),u.__taUnstore=function(){i(s.__taTapHandler[a],u)}}}},d=function(t,e,n,r){for(var o in n.__tamee[t])n.__tamee[t].hasOwnProperty(o)&&n.__tamee[t][o].apply(r,[e])},f=function(){var e=[];return function(n,o,i,s){if(!n.__tamee){n.__tamee={over:!1,mouseenter:[],mouseexit:[]};var l=function(o){var i=r(o);(null==s&&i==n&&!n.__tamee.over||t(i,s,n)&&(null==i.__tamee||!i.__tamee.over))&&(d("mouseenter",o,n,i),i.__tamee=i.__tamee||{},i.__tamee.over=!0,e.push(i))},c=function(o){for(var i=r(o),s=0;s<e.length;s++)i!=e[s]||t(o.relatedTarget||o.toElement,"*",i)||(i.__tamee.over=!1,e.splice(s,1),d("mouseexit",o,n,i))};E(n,"mouseover",u(s,n,l,"mouseover"),l),E(n,"mouseout",u(s,n,c,"mouseout"),c)}i.__taUnstore=function(){delete n.__tamee[o][i.__tauid]},a(n,o,i),n.__tamee[o][i.__tauid]=i}},v="ontouchstart"in document.documentElement,g="onmousedown"in document.documentElement,m={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},y=function(){var t=-1;if("Microsoft Internet Explorer"==navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),b=y>-1&&y<9,_=function(t,e){if(null==t)return[0,0];var n=x(t),r=C(n,0);return[r[e+"X"],r[e+"Y"]]},w=function(t){return null==t?[0,0]:b?[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop]:_(t,"page")},C=function(t,e){return t.item?t.item(e):t[e]},x=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},P=function(t){return x(t).length},E=function(t,e,n,r){if(a(t,e,n),r.__tauid=n.__tauid,t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var o=e+n.__tauid;t["e"+o]=n,t[o]=function(){t["e"+o]&&t["e"+o](window.event)},t.attachEvent("on"+e,t[o])}},S=function(t,e,r){null!=r&&j(t,function(){var o=n(this);if(function(t,n,r){if(t.__ta&&t.__ta[e]&&delete t.__ta[e][r.__tauid],r.__taExtra){for(var o=0;o<r.__taExtra.length;o++)S(t,r.__taExtra[o][0],r.__taExtra[o][1]);r.__taExtra.length=0}r.__taUnstore&&r.__taUnstore()}(o,0,r),null!=r.__tauid)if(o.removeEventListener)o.removeEventListener(e,r,!1),v&&m[e]&&o.removeEventListener(m[e],r,!1);else if(this.detachEvent){var i=e+r.__tauid;o[i]&&o.detachEvent("on"+e,o[i]),o[i]=null,o["e"+i]=null}r.__taTouchProxy&&S(t,r.__taTouchProxy[1],r.__taTouchProxy[0])})},j=function(t,e){if(null!=t){t="undefined"!=typeof Window&&"unknown"!=typeof t.top&&t==t.top?[t]:"string"!=typeof t&&null==t.tagName&&null!=t.length?t:"string"==typeof t?document.querySelectorAll(t):[t];for(var n=0;n<t.length;n++)e.apply(t[n])}};this.Mottle=function(t){var e=(t=t||{}).clickThreshold||250,o=t.dblClickThreshold||450,s=new f,a=new p(e,o),u=t.smartClicks;this.remove=function(t){return j(t,function(){var t=n(this);if(t.__ta)for(var e in t.__ta)if(t.__ta.hasOwnProperty(e))for(var r in t.__ta[e])t.__ta[e].hasOwnProperty(r)&&S(t,e,t.__ta[e][r]);t.parentNode&&t.parentNode.removeChild(t)}),this},this.on=function(t,e,o,l){return function(t,e,o,l){null!=o&&j(t,function(){var t=n(this);u&&"click"===e?function(t,e,n,o){null==t.__taSmartClicks&&(c(t,"mousedown",function(e){t.__tad=w(e)},o),c(t,"mouseup",function(e){t.__tau=w(e)},o),c(t,"click",function(e){if(t.__tad&&t.__tau&&t.__tad[0]===t.__tau[0]&&t.__tad[1]===t.__tau[1])for(var n=0;n<t.__taSmartClicks.length;n++)t.__taSmartClicks[n].apply(r(e),[e])},o),t.__taSmartClicks=[]),t.__taSmartClicks.push(n),n.__taUnstore=function(){i(t.__taSmartClicks,n)}}(t,0,o,l):"tap"===e||"dbltap"===e||"contextmenu"===e?a(t,e,o,l):"mouseenter"===e||"mouseexit"==e?s(t,e,o,l):c(t,e,o,l)})}(arguments[0],arguments[1],arguments[arguments.length-1],4==arguments.length?arguments[2]:null),this},this.off=function(t,e,n){return S(t,e,n),this},this.trigger=function(t,e,r,o){var i=g&&("undefined"==typeof MouseEvent||null==r||r.constructor===MouseEvent),s=v&&!g&&m[e]?m[e]:e,a=!(v&&!g&&m[e]),u=w(r),l=_(r,"screen"),c=_(r,"client");return j(t,function(){var t,h=n(this);r=r||{screenX:l[0],screenY:l[1],clientX:c[0],clientY:c[1]};var p=function(t){o&&(t.payload=o)},d={TouchEvent:function(t){var e=function(t,e,n,r,o,i,s,a){return function(){var t=[];return Array.prototype.push.apply(t,arguments),t.item=function(t){return this[t]},t}((function(t,e,n,r,o,i,s,a){return new Touch({target:e,identifier:"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)}),pageX:n,pageY:r,screenX:o,screenY:i,clientX:s||o,clientY:a||i})}).apply(null,arguments))}(window,h,0,u[0],u[1],l[0],l[1],c[0],c[1]);(t.initTouchEvent||t.initEvent)(s,!0,!0,window,null,l[0],l[1],c[0],c[1],!1,!1,!1,!1,e,e,e,1,0)},MouseEvents:function(t){t.initMouseEvent(s,!0,!0,window,0,l[0],l[1],c[0],c[1],!1,!1,!1,!1,1,h)}};if(document.createEvent){var f=!a&&!i&&v&&m[e]?"TouchEvent":"MouseEvents";t=document.createEvent(f),d[f](t),p(t),h.dispatchEvent(t)}else document.createEventObject&&((t=document.createEventObject()).eventType=t.eventName=s,t.screenX=l[0],t.screenY=l[1],t.clientX=c[0],t.clientY=c[1],p(t),h.fireEvent("on"+s,t))}),this}},this.Mottle.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.Mottle.pageLocation=w,this.Mottle.setForceTouchEvents=function(t){v=t},this.Mottle.setForceMouseEvents=function(t){g=t},this.Mottle.version="0.8.0",e.Mottle=this.Mottle}).call("undefined"==typeof window?this:window),(function(){"use strict";var t=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},n=function(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)},r=function(t){return null!=t&&("string"==typeof t||t.constructor===String)},o=function(t,e,n){for(var r=(n=n||t.parentNode).querySelectorAll(e),o=0;o<r.length;o++)if(r[o]===t)return!0;return!1},i=function(){var t=-1;if("Microsoft Internet Explorer"===navigator.appName){var e=navigator.userAgent;null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(e)&&(t=parseFloat(RegExp.$1))}return t}(),s=i>-1&&i<9,a=9===i,u=function(t){if(s)return[t.clientX+document.documentElement.scrollLeft,t.clientY+document.documentElement.scrollTop];var e=c(t),n=l(e,0);return a?[n.pageX||n.clientX,n.pageY||n.clientY]:[n.pageX,n.pageY]},l=function(t,e){return t.item?t.item(e):t[e]},c=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},h={draggable:"katavorio-draggable",droppable:"katavorio-droppable",drag:"katavorio-drag",selected:"katavorio-drag-selected",active:"katavorio-drag-active",hover:"katavorio-drag-hover",noSelect:"katavorio-drag-no-select",ghostProxy:"katavorio-ghost-proxy",clonedDrag:"katavorio-clone-drag"},p=["stop","start","drag","drop","over","out","beforeStart"],d=function(){},f=function(){return!0},v=function(t,e,n){for(var r=0;r<t.length;r++)t[r]!=n&&e(t[r])},g=function(t,e,n,r){v(t,function(t){t.setActive(e),e&&t.updatePosition(),n&&t.setHover(r,e)})},m=function(t,e){if(null!=t){t=r(t)||null!=t.tagName||null==t.length?[t]:t;for(var n=0;n<t.length;n++)e.apply(t[n],[t[n]])}},y=function(t){t.stopPropagation?(t.stopPropagation(),t.preventDefault()):t.returnValue=!1},b=function(t,e,n,r){this.params=e||{},this.el=t,this.params.addClass(this.el,this._class),this.uuid=P();var o=!0;return this.setEnabled=function(t){o=t},this.isEnabled=function(){return o},this.toggleEnabled=function(){o=!o},this.setScope=function(t){this.scopes=t?t.split(/\s+/):[r]},this.addScope=function(t){var e={};for(var n in m(this.scopes,function(t){e[t]=!0}),m(t?t.split(/\s+/):[],function(t){e[t]=!0}),this.scopes=[],e)this.scopes.push(n)},this.removeScope=function(t){var e={};for(var n in m(this.scopes,function(t){e[t]=!0}),m(t?t.split(/\s+/):[],function(t){delete e[t]}),this.scopes=[],e)this.scopes.push(n)},this.toggleScope=function(t){var e={};for(var n in m(this.scopes,function(t){e[t]=!0}),m(t?t.split(/\s+/):[],function(t){e[t]?delete e[t]:e[t]=!0}),this.scopes=[],e)this.scopes.push(n)},this.setScope(e.scope),this.k=e.katavorio,e.katavorio},_=function(){return!0},w=function(){return!1},C=function(t,e,n,i){this._class=n.draggable;var s=b.apply(this,arguments);this.rightButtonCanDrag=this.params.rightButtonCanDrag;var a,l=[0,0],c=null,p=null,d=[0,0],v=!1,m=[0,0],C=!1!==this.params.consumeStartEvent,x=this.el,S=this.params.clone,j=!1!==e.multipleDrop,I=!1,D=!0===e.ghostProxy?_:e.ghostProxy&&"function"==typeof e.ghostProxy?e.ghostProxy:w,A=e.selector,k=null,T=e.snapThreshold,O=function(t,e,n,r,o){var i=e*Math.floor(t[0]/e),s=i+e,a=Math.abs(t[0]-i)<=r?i:Math.abs(s-t[0])<=r?s:t[0],u=n*Math.floor(t[1]/n),l=u+n;return[a,Math.abs(t[1]-u)<=o?u:Math.abs(l-t[1])<=o?l:t[1]]};this.posses=[],this.posseRoles={},this.toGrid=function(t){return null==this.params.grid?t:O(t,this.params.grid[0],this.params.grid[1],this.params.grid?this.params.grid[0]/2:T||5,this.params.grid?this.params.grid[1]/2:T||5)},this.snap=function(t,e){if(null!=x){t=t||(this.params.grid?this.params.grid[0]:10),e=e||(this.params.grid?this.params.grid[1]:10);var n=this.params.getPosition(x);this.params.setPosition(x,O(n,t,e,this.params.grid?this.params.grid[0]/2:T,this.params.grid?this.params.grid[1]/2:T))}},this.setUseGhostProxy=function(t){D=t?_:w};var M,R=function(t){return!1===e.allowNegative?[Math.max(0,t[0]),Math.max(0,t[1])]:t},N=(function(t){a="function"==typeof t?t:t?(function(t,e,n,r){return R([Math.max(0,Math.min(n.w-r[0],t[0])),Math.max(0,Math.min(n.h-r[1],t[1]))])}).bind(this):function(t){return R(t)}}).bind(this);N("function"==typeof this.params.constrain?this.params.constrain:this.params.constrain||this.params.containment),this.setConstrain=function(t){N(t)},this.setRevert=function(t){M=t};var L={},F=this.setFilter=function(e,n){if(e){var i="function"==typeof(s=e)?(s._katavorioId=P(),s._katavorioId):s;L[i]=[function(n){var i,s=n.srcElement||n.target;return r(e)?i=o(s,e,t):"function"==typeof e&&(i=e(n,t)),i},!1!==n]}var s};this.addFilter=F,this.removeFilter=function(t){delete L["function"==typeof t?t._katavorioId:t]},this.clearAllFilters=function(){L={}},this.canDrag=this.params.canDrag||f;var U,H=[],V=[];this.downListener=(function(t){var e,r,i,a,p,d;if((this.rightButtonCanDrag||3!==t.which&&2!==t.button)&&this.isEnabled()&&this.canDrag())if(function(t){for(var e in L){var n=L[e],r=n[0](t);if(n[1]&&(r=!r),!r)return!1}return!0}(t)&&function(t,e,n){return!o(t.srcElement||t.target,n.getInputFilterSelector(),e)}(t,this.el,this.k)){if(A){if(null==(k=function(t,e,n){if(o(e,n,t))return e;for(var r=e.parentNode;null!=r&&r!==t;){if(o(r,n,t))return r;r=r.parentNode}}(this.el,t.target||t.srcElement,A)))return}else k=this.el;if(S)if(x=k.cloneNode(!0),this.params.addClass(x,h.clonedDrag),x.setAttribute("id",null),x.style.position="absolute",null!=this.params.parent){var f=this.params.getPosition(this.el);x.style.left=f[0]+"px",x.style.top=f[1]+"px",this.params.parent.appendChild(x)}else{var v=(e=k.getBoundingClientRect(),r=document.body,i=document.documentElement,a=window.pageYOffset||i.scrollTop||r.scrollTop,p=window.pageXOffset||i.scrollLeft||r.scrollLeft,d=e.left+p-(i.clientLeft||r.clientLeft||0),{top:Math.round(e.top+a-(i.clientTop||r.clientTop||0)),left:Math.round(d)});x.style.left=v.left+"px",x.style.top=v.top+"px",document.body.appendChild(x)}else x=k;C&&y(t),l=u(t),x&&x.parentNode&&(m=[x.parentNode.scrollLeft,x.parentNode.scrollTop]),this.params.bind(document,"mousemove",this.moveListener),this.params.bind(document,"mouseup",this.upListener),s.markSelection(this),s.markPosses(this),this.params.addClass(document.body,n.noSelect),G("beforeStart",{el:this.el,pos:c,e:t,drag:this})}else this.params.consumeFilteredEvents&&y(t)}).bind(this),this.moveListener=(function(t){if(l){if(!v)if(!1!==G("start",{el:this.el,pos:c,e:t,drag:this})){if(!l)return;this.mark(!0),v=!0}else this.abort();if(l){V.length=0;var e=u(t),n=e[0]-l[0],r=e[1]-l[1],o=this.params.ignoreZoom?1:s.getZoom();x&&x.parentNode&&(n+=x.parentNode.scrollLeft-m[0],r+=x.parentNode.scrollTop-m[1]),this.moveBy(n/=o,r/=o,t),s.updateSelection(n,r,this),s.updatePosses(n,r,this)}}}).bind(this),this.upListener=(function(t){l&&(l=null,this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.params.removeClass(document.body,n.noSelect),this.unmark(t),s.unmarkSelection(this,t),s.unmarkPosses(this,t),this.stop(t),s.notifyPosseDragStop(this,t),v=!1,S&&(x&&x.parentNode&&x.parentNode.removeChild(x),x=null),V.length=0,M&&!0===M(this.el,this.params.getPosition(this.el))&&(this.params.setPosition(this.el,c),G("revert",this.el)))}).bind(this),this.getFilters=function(){return L},this.abort=function(){null!=l&&this.upListener()},this.getDragElement=function(t){return t?k||this.el:x||this.el};var B={start:[],drag:[],stop:[],over:[],out:[],beforeStart:[],revert:[]};e.events.start&&B.start.push(e.events.start),e.events.beforeStart&&B.beforeStart.push(e.events.beforeStart),e.events.stop&&B.stop.push(e.events.stop),e.events.drag&&B.drag.push(e.events.drag),e.events.revert&&B.revert.push(e.events.revert),this.on=function(t,e){B[t]&&B[t].push(e)},this.off=function(t,e){if(B[t]){for(var n=[],r=0;r<B[t].length;r++)B[t][r]!==e&&n.push(B[t][r]);B[t]=n}};var z,G=function(t,e){var n=null;if(B[t])for(var r=0;r<B[t].length;r++)try{var o=B[t][r](e);null!=o&&(n=o)}catch(i){}return n};this.notifyStart=function(t){G("start",{el:this.el,pos:this.params.getPosition(x),e:t,drag:this})},this.stop=function(t,e){if(e||v){var n=[],r=s.getSelection(),o=this.params.getPosition(x);if(r.length>1)for(var i=0;i<r.length;i++){var a=this.params.getPosition(r[i].el);n.push([r[i].el,{left:a[0],top:a[1]},r[i]])}else n.push([x,{left:o[0],top:o[1]},this]);G("stop",{el:x,pos:z||o,finalPos:o,e:t,drag:this,selection:n})}},this.mark=function(t){var e;c=this.params.getPosition(x),p=this.params.getPosition(x,!0),d=[p[0]-c[0],p[1]-c[1]],this.size=this.params.getSize(x),H=s.getMatchingDroppables(this),g(H,!0,!1,this),this.params.addClass(x,this.params.dragClass||n.drag),e=this.params.getConstrainingRectangle?this.params.getConstrainingRectangle(x):this.params.getSize(x.parentNode),U={w:e[0],h:e[1]},t&&s.notifySelectionDragStart(this)},this.unmark=function(t,r){if(g(H,!1,!0,this),I&&D(k)?(z=[x.offsetLeft,x.offsetTop],k.parentNode.removeChild(x),x=k):z=null,this.params.removeClass(x,this.params.dragClass||n.drag),H.length=0,I=!1,!r){V.length>0&&z&&e.setPosition(k,z),V.sort(E);for(var o=0;o<V.length&&!0!==V[o].drop(this,t);o++);}},this.moveBy=function(t,n,r){V.length=0;var o=this.toGrid([c[0]+t,c[1]+n]),i=a(o,x,U,this.size);if(D(this.el))if(o[0]!==i[0]||o[1]!==i[1]){if(!I){var s=k.cloneNode(!0);e.addClass(s,h.ghostProxy),k.parentNode.appendChild(s),x=s,I=!0}i=o}else I&&(k.parentNode.removeChild(x),x=k,I=!1);var u={x:i[0],y:i[1],w:this.size[0],h:this.size[1]},l={x:u.x+d[0],y:u.y+d[1],w:u.w,h:u.h},p=null;this.params.setPosition(x,i);for(var f=0;f<H.length;f++)this.params.intersects(l,{x:H[f].pagePosition[0],y:H[f].pagePosition[1],w:H[f].size[0],h:H[f].size[1]})&&(j||null==p||p===H[f].el)&&H[f].canDrop(this)?(p||(p=H[f].el),V.push(H[f]),H[f].setHover(this,!0,r)):H[f].isHover()&&H[f].setHover(this,!1,r);G("drag",{el:this.el,pos:i,e:r,drag:this})},this.destroy=function(){this.params.unbind(this.el,"mousedown",this.downListener),this.params.unbind(document,"mousemove",this.moveListener),this.params.unbind(document,"mouseup",this.upListener),this.downListener=null,this.upListener=null,this.moveListener=null},this.params.bind(this.el,"mousedown",this.downListener),this.params.handle?F(this.params.handle,!1):F(this.params.filter,this.params.filterExclude)},x=function(t,e,n,r){this._class=n.droppable,this.params=e||{},this.rank=e.rank||0,this._activeClass=this.params.activeClass||n.active,this._hoverClass=this.params.hoverClass||n.hover,b.apply(this,arguments);var o=!1;this.allowLoopback=!1!==this.params.allowLoopback,this.setActive=function(t){this.params[t?"addClass":"removeClass"](this.el,this._activeClass)},this.updatePosition=function(){this.position=this.params.getPosition(this.el),this.pagePosition=this.params.getPosition(this.el,!0),this.size=this.params.getSize(this.el)},this.canDrop=this.params.canDrop||function(t){return!0},this.isHover=function(){return o},this.setHover=function(t,e,n){(e||null==this.el._katavorioDragHover||this.el._katavorioDragHover===t.el._katavorio)&&(this.params[e?"addClass":"removeClass"](this.el,this._hoverClass),this.el._katavorioDragHover=e?t.el._katavorio:null,o!==e&&this.params.events[e?"over":"out"]({el:this.el,e:n,drag:t,drop:this}),o=e)},this.drop=function(t,e){return this.params.events.drop({drag:t,e:e,drop:this})},this.destroy=function(){this._class=null,this._activeClass=null,this._hoverClass=null,o=null}},P=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})},E=function(t,e){return t.rank<e.rank?1:t.rank>e.rank?-1:0},S=function(t){return null==t?null:null==(t="string"==typeof t||t.constructor===String?document.getElementById(t):t)?null:(t._katavorio=t._katavorio||P(),t)};this.Katavorio=function(e){var o=[],i={};this._dragsByScope={},this._dropsByScope={};var s=1,a=function(t,e){m(t,function(t){for(var n=0;n<t.scopes.length;n++)e[t.scopes[n]]=e[t.scopes[n]]||[],e[t.scopes[n]].push(t)})},u=function(t,n){var r=0;return m(t,function(t){for(var o=0;o<t.scopes.length;o++)if(n[t.scopes[o]]){var i=e.indexOf(n[t.scopes[o]],t);-1!==i&&(n[t.scopes[o]].splice(i,1),r++)}}),r>0},l=(this.getMatchingDroppables=function(t){for(var e=[],n={},r=0;r<t.scopes.length;r++){var o=this._dropsByScope[t.scopes[r]];if(o)for(var i=0;i<o.length;i++)!o[i].canDrop(t)||n[o[i].uuid]||!o[i].allowLoopback&&o[i].el===t.el||(n[o[i].uuid]=!0,e.push(o[i]))}return e.sort(E),e},(function(t){t=t||{};var n,r={events:{}};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];for(n=0;n<p.length;n++)r.events[p[n]]=t[p[n]]||d;return r.katavorio=this,r}).bind(this)),c=(function(t,e){for(var n=0;n<p.length;n++)e[p[n]]&&t.on(p[n],e[p[n]])}).bind(this),f={},g=e.css||{},y=e.scope||"katavorio-drag-scope";for(var b in h)f[b]=h[b];for(var b in g)f[b]=g[b];var _=e.inputFilterSelector||"input,textarea,select,button,option";this.getInputFilterSelector=function(){return _},this.setInputFilterSelector=function(t){return _=t,this},this.draggable=function(t,n){var r=[];return m(t,(function(t){if(null!=(t=S(t)))if(null==t._katavorioDrag){var o=l(n);t._katavorioDrag=new C(t,o,f,y),a(t._katavorioDrag,this._dragsByScope),r.push(t._katavorioDrag),e.addClass(t,f.draggable)}else c(t._katavorioDrag,n)}).bind(this)),r},this.droppable=function(t,n){var r=[];return m(t,(function(t){if(null!=(t=S(t))){var o=new x(t,l(n),f,y);t._katavorioDrop=t._katavorioDrop||[],t._katavorioDrop.push(o),a(o,this._dropsByScope),r.push(o),e.addClass(t,f.droppable)}}).bind(this)),r},this.select=function(t){return m(t,function(){var t=S(this);t&&t._katavorioDrag&&(i[t._katavorio]||(o.push(t._katavorioDrag),i[t._katavorio]=[t,o.length-1],e.addClass(t,f.selected)))}),this},this.deselect=function(t){return m(t,function(){var t=S(this);if(t&&t._katavorio&&i[t._katavorio]){for(var n=[],r=0;r<o.length;r++)o[r].el!==t&&n.push(o[r]);o=n,delete i[t._katavorio],e.removeClass(t,f.selected)}}),this},this.deselectAll=function(){for(var t in i)e.removeClass(i[t][0],f.selected);o.length=0,i={}},this.markSelection=function(t){v(o,function(t){t.mark()},t)},this.markPosses=function(t){t.posses&&m(t.posses,function(e){t.posseRoles[e]&&D[e]&&v(D[e].members,function(t){t.mark()},t)})},this.unmarkSelection=function(t,e){v(o,function(t){t.unmark(e)},t)},this.unmarkPosses=function(t,e){t.posses&&m(t.posses,function(n){t.posseRoles[n]&&D[n]&&v(D[n].members,function(t){t.unmark(e,!0)},t)})},this.getSelection=function(){return o.slice(0)},this.updateSelection=function(t,e,n){v(o,function(n){n.moveBy(t,e)},n)};var w=function(t,e){e.posses&&m(e.posses,function(n){e.posseRoles[n]&&D[n]&&v(D[n].members,function(e){t(e)},e)})};this.updatePosses=function(t,e,n){w(function(n){n.moveBy(t,e)},n)},this.notifyPosseDragStop=function(t,e){w(function(t){t.stop(e,!0)},t)},this.notifySelectionDragStop=function(t,e){v(o,function(t){t.stop(e,!0)},t)},this.notifySelectionDragStart=function(t,e){v(o,function(t){t.notifyStart(e)},t)},this.setZoom=function(t){s=t},this.getZoom=function(){return s};var P=function(t,e,n,r){m(t,function(t){u(t,n),t[r](e),a(t,n)})};m(["set","add","remove","toggle"],(function(t){this[t+"Scope"]=(function(e,n){P(e._katavorioDrag,n,this._dragsByScope,t+"Scope"),P(e._katavorioDrop,n,this._dropsByScope,t+"Scope")}).bind(this),this[t+"DragScope"]=(function(e,n){P(e.constructor===C?e:e._katavorioDrag,n,this._dragsByScope,t+"Scope")}).bind(this),this[t+"DropScope"]=(function(e,n){P(e.constructor===x?e:e._katavorioDrop,n,this._dropsByScope,t+"Scope")}).bind(this)}).bind(this)),this.snapToGrid=function(t,e){for(var n in this._dragsByScope)v(this._dragsByScope[n],function(n){n.snap(t,e)})},this.getDragsForScope=function(t){return this._dragsByScope[t]},this.getDropsForScope=function(t){return this._dropsByScope[t]};var j=function(t,e,n){if((t=S(t))[e]){var r=o.indexOf(t[e]);r>=0&&o.splice(r,1),u(t[e],n)&&m(t[e],function(t){t.destroy()}),delete t[e]}},I=function(t,e,n,r){(t=S(t))[e]&&t[e].off(n,r)};this.elementRemoved=function(t){this.destroyDraggable(t),this.destroyDroppable(t)},this.destroyDraggable=function(t,e,n){1===arguments.length?j(t,"_katavorioDrag",this._dragsByScope):I(t,"_katavorioDrag",e,n)},this.destroyDroppable=function(t,e,n){1===arguments.length?j(t,"_katavorioDrop",this._dropsByScope):I(t,"_katavorioDrop",e,n)},this.reset=function(){this._dragsByScope={},this._dropsByScope={},o=[],i={},D={}};var D={},A=function(e,n,o){var i,s=r(n)?n:n.id,a=!!r(n)||!1!==n.active,u=D[s]||(D[s]=i={name:s,members:[]},i);return m(e,function(e){if(e._katavorioDrag){if(o&&null!=e._katavorioDrag.posseRoles[u.name])return;t(u.members,e._katavorioDrag),t(e._katavorioDrag.posses,u.name),e._katavorioDrag.posseRoles[u.name]=a}}),u};this.addToPosse=function(t,e){for(var n=[],r=1;r<arguments.length;r++)n.push(A(t,arguments[r]));return 1===n.length?n[0]:n},this.setPosse=function(t,e){for(var n=[],r=1;r<arguments.length;r++)n.push(A(t,arguments[r],!0).name);return m(t,(function(t){if(t._katavorioDrag){var e=function(t,e){for(var n=[],r=0;r<t.length;r++)-1===e.indexOf(t[r])&&n.push(t[r]);return n}(t._katavorioDrag.posses,n);Array.prototype.push.apply([],t._katavorioDrag.posses);for(var r=0;r<e.length;r++)this.removeFromPosse(t,e[r])}}).bind(this)),1===n.length?n[0]:n},this.removeFromPosse=function(t,e){if(arguments.length<2)throw new TypeError("No posse id provided for remove operation");for(var r=1;r<arguments.length;r++)e=arguments[r],m(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var r=t._katavorioDrag;m(e,function(t){n(D[t].members,r),n(r.posses,t),delete r.posseRoles[t]})}})},this.removeFromAllPosses=function(t){m(t,function(t){if(t._katavorioDrag&&t._katavorioDrag.posses){var e=t._katavorioDrag;m(e.posses,function(t){n(D[t].members,e)}),e.posses.length=0,e.posseRoles={}}})},this.setPosseState=function(t,e,n){var r=D[e];r&&m(t,function(t){t._katavorioDrag&&t._katavorioDrag.posses&&(t._katavorioDrag.posseRoles[r.name]=n)})}},this.Katavorio.version="1.0.0",e.Katavorio=this.Katavorio}).call("undefined"!=typeof window?window:this),(function(){this.jsPlumbUtil=this.jsPlumbUtil||{};var t=this.jsPlumbUtil;function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}function i(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function s(t){return"[object Date]"===Object.prototype.toString.call(t)}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}function u(t){if(r(t))return""+t;if(o(t))return!!t;if(s(t))return new Date(t.getTime());if(a(t))return t;if(n(t)){for(var e=[],l=0;l<t.length;l++)e.push(u(t[l]));return e}if(i(t)){var c={};for(var h in t)c[h]=u(t[h]);return c}return t}function l(t,e,s,a){var l,c,h={},p={};for(s=s||[],a=a||[],c=0;c<s.length;c++)h[s[c]]=!0;for(c=0;c<a.length;c++)p[a[c]]=!0;var d=u(t);for(c in e)if(null==d[c]||p[c])d[c]=e[c];else if(r(e[c])||o(e[c]))h[c]?((l=[]).push.apply(l,n(d[c])?d[c]:[d[c]]),l.push.apply(l,o(e[c])?e[c]:[e[c]]),d[c]=l):d[c]=e[c];else if(n(e[c]))l=[],n(d[c])&&l.push.apply(l,d[c]),l.push.apply(l,e[c]),d[c]=l;else if(i(e[c]))for(var f in i(d[c])||(d[c]={}),e[c])d[c][f]=e[c][f];return d}function c(t,e){if(t)for(var n=0;n<t.length;n++)if(e(t[n]))return n;return-1}function h(t,e){var n=t.indexOf(e);return n>-1&&t.splice(n,1),-1!==n}function p(t,e,n,r){var o=t[e];return null==o&&(t[e]=o=[]),o[r?"unshift":"push"](n),o}function d(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}function f(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.logEnabled&&"undefined"!=typeof console)try{console.log(arguments[arguments.length-1])}catch(r){}}e.jsPlumbUtil=t,t.isArray=n,t.isNumber=function(t){return"[object Number]"===Object.prototype.toString.call(t)},t.isString=r,t.isBoolean=o,t.isNull=function(t){return null==t},t.isObject=i,t.isDate=s,t.isFunction=a,t.isNamedFunction=function(t){return a(t)&&null!=t.name&&t.name.length>0},t.isEmpty=function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0},t.clone=u,t.merge=l,t.replace=function(t,e,n){if(null!=t){var r=t;return e.replace(/([^\.])+/g,function(t,e,o,i){var s=t.match(/([^\[0-9]+){1}(\[)([0-9+])/),a=function(){return r[s[1]]||(r[s[1]]=[],r[s[1]])};if(o+t.length>=i.length)s?a()[s[3]]=n:r[t]=n;else if(s){var u=a();r=u[s[3]]||(u[s[3]]={},u[s[3]])}else r=r[t]||(r[t]={},r[t]);return""}),t}},t.functionChain=function(t,e,n){for(var r=0;r<n.length;r++){var o=n[r][0][n[r][1]].apply(n[r][0],n[r][2]);if(o===e)return o}return t},t.populate=function(t,e,o,s){var u=function(t){if(null!=t){if(r(t))return function(t){var n=t.match(/(\${.*?})/g);if(null!=n)for(var r=0;r<n.length;r++){var o=e[n[r].substring(2,n[r].length-1)]||"";null!=o&&(t=t.replace(n[r],o))}return t}(t);if(!a(t)||s||null!=o&&0!==(t.name||"").indexOf(o)){if(n(t)){for(var l=[],c=0;c<t.length;c++)l.push(u(t[c]));return l}if(i(t)){var h={};for(var p in t)h[p]=u(t[p]);return h}return t}return t(e)}};return u(t)},t.findWithFunction=c,t.removeWithFunction=function(t,e){var n=c(t,e);return n>-1&&t.splice(n,1),-1!==n},t.remove=h,t.addWithFunction=function(t,e,n){-1===c(t,n)&&t.push(e)},t.addToList=p,t.suggest=function(t,e,n){return-1===t.indexOf(e)&&(n?t.unshift(e):t.push(e),!0)},t.extend=function(t,e,r){var o;e=n(e)?e:[e];var i=function(e){for(var n=e.__proto__;null!=n;)if(null!=n.prototype){for(var r in n.prototype)n.prototype.hasOwnProperty(r)&&!t.prototype.hasOwnProperty(r)&&(t.prototype[r]=n.prototype[r]);n=n.prototype.__proto__}else n=null};for(o=0;o<e.length;o++){for(var s in e[o].prototype)e[o].prototype.hasOwnProperty(s)&&!t.prototype.hasOwnProperty(s)&&(t.prototype[s]=e[o].prototype[s]);i(e[o])}var a=function(t,n){return function(){for(o=0;o<e.length;o++)e[o].prototype[t]&&e[o].prototype[t].apply(this,arguments);return n.apply(this,arguments)}},u=function(e){for(var n in e)t.prototype[n]=a(n,e[n])};if(arguments.length>2)for(o=2;o<arguments.length;o++)u(arguments[o]);return t},t.uuid=d,t.fastTrim=function(t){if(null==t)return null;for(var e=t.replace(/^\s\s*/,""),n=/\s/,r=e.length;n.test(e.charAt(--r)););return e.slice(0,r+1)},t.each=function(t,e){t=null==t.length||"string"==typeof t?[t]:t;for(var n=0;n<t.length;n++)e(t[n])},t.map=function(t,e){for(var n=[],r=0;r<t.length;r++)n.push(e(t[r]));return n},t.mergeWithParents=function(t,e,n){n=n||"parent";var r=function(t){return t?e[t]:null},o=function(t){return t?r(t[n]):null},i=function(t,e){if(null==t)return e;var n=l(t,e);return i(o(t),n)},s=function(t){if(null==t)return{};if("string"==typeof t)return r(t);if(t.length){for(var e=!1,n=0,o=void 0;!e&&n<t.length;)(o=s(t[n]))?e=!0:n++;return o}},a=s(t);return a?i(o(a),a):{}},t.logEnabled=!0,t.log=f,t.wrap=function(t,e,n){return function(){var r=null;try{null!=e&&(r=e.apply(this,arguments))}catch(o){f("jsPlumb function failed : "+o)}if(null!=t&&(null==n||r!==n))try{r=t.apply(this,arguments)}catch(o){f("wrapped function failed : "+o)}return r}},t.EventGenerator=function(){var t=this;this._listeners={},this.eventsSuspended=!1,this.tick=!1,this.eventsToDieOn={ready:!0},this.queue=[],this.bind=function(e,n,r){var o=function(e){p(t._listeners,e,n,r),n.__jsPlumb=n.__jsPlumb||{},n.__jsPlumb[d()]=e};if("string"==typeof e)o(e);else if(null!=e.length)for(var i=0;i<e.length;i++)o(e[i]);return t},this.fire=function(t,e,n){if(this.tick)this.queue.unshift(arguments);else{if(this.tick=!0,!this.eventsSuspended&&this._listeners[t]){var r=this._listeners[t].length,o=0,i=!1,s=null;if(!this.shouldFireEvent||this.shouldFireEvent(t,e,n))for(;!i&&o<r&&!1!==s;){if(this.eventsToDieOn[t])this._listeners[t][o].apply(this,[e,n]);else try{s=this._listeners[t][o].apply(this,[e,n])}catch(a){f("jsPlumb: fire failed for event "+t+" : "+a)}o++,null!=this._listeners&&null!=this._listeners[t]||(i=!0)}}this.tick=!1,this._drain()}return this},this._drain=function(){var e=t.queue.pop();e&&t.fire.apply(t,e)},this.unbind=function(t,e){if(0===arguments.length)this._listeners={};else if(1===arguments.length){if("string"==typeof t)delete this._listeners[t];else if(t.__jsPlumb)for(var n in t.__jsPlumb)h(this._listeners[t.__jsPlumb[n]]||[],t)}else 2===arguments.length&&h(this._listeners[t]||[],e);return this},this.getListener=function(e){return t._listeners[e]},this.setSuspendEvents=function(e){t.eventsSuspended=e},this.isSuspendEvents=function(){return t.eventsSuspended},this.silently=function(e){t.setSuspendEvents(!0);try{e()}catch(n){f("Cannot execute silent function "+n)}t.setSuspendEvents(!1)},this.cleanupListeners=function(){for(var e in t._listeners)t._listeners[e]=null}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";this.jsPlumbUtil.matchesSelector=function(t,e,n){for(var r=(n=n||t.parentNode).querySelectorAll(e),o=0;o<r.length;o++)if(r[o]===t)return!0;return!1},this.jsPlumbUtil.consume=function(t,e){t.stopPropagation?t.stopPropagation():t.returnValue=!1,!e&&t.preventDefault&&t.preventDefault()},this.jsPlumbUtil.sizeElement=function(t,e,n,r,o){t&&(t.style.height=o+"px",t.height=o,t.style.width=r+"px",t.width=r,t.style.left=e+"px",t.style.top=n+"px")}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,n=t.jsPlumbUtil,r=function(){return""+(new Date).getTime()},o=function(t){if(t._jsPlumb.paintStyle&&t._jsPlumb.hoverPaintStyle){var e={};f.extend(e,t._jsPlumb.paintStyle),f.extend(e,t._jsPlumb.hoverPaintStyle),delete t._jsPlumb.hoverPaintStyle,e.gradient&&t._jsPlumb.paintStyle.fill&&delete e.gradient,t._jsPlumb.hoverPaintStyle=e}},i=["tap","dbltap","click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","contextmenu"],s=function(t){return null==t?null:t.split(" ")},a=function(t,e,n){for(var r in e)t[r]=n},u=function(t,e){e=n.isArray(e)||null!=e.length&&!n.isString(e)?e:[e];for(var r=0;r<e.length;r++)try{t.apply(e[r],[e[r]])}catch(o){n.log(".each iteration failed : "+o)}},l=function(t,e,r){if(t.getDefaultType){var o=t.getTypeDescriptor(),i={},s=t.getDefaultType(),u=n.merge({},s);a(i,s,"__default");for(var l=0,c=t._jsPlumb.types.length;l<c;l++){var h=t._jsPlumb.types[l];if("__default"!==h){var p=t._jsPlumb.instance.getType(h,o);null!=p&&(u=n.merge(u,p,["cssClass"],["connector"]),a(i,p,h))}}e&&(u=n.populate(u,e,"_")),t.applyType(u,r,i),r||t.repaint()}},c=t.jsPlumbUIComponent=function(t){n.EventGenerator.apply(this,arguments);var e=arguments,r=this.idPrefix+(new Date).getTime();this._jsPlumb={instance:t._jsPlumb,parameters:t.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:t.beforeDetach,beforeDrop:t.beforeDrop,overlayPlacements:[],hoverClass:t.hoverClass||t._jsPlumb.Defaults.HoverClass,types:[],typeCache:{}},this.cacheTypeItem=function(t,e,n){this._jsPlumb.typeCache[n]=this._jsPlumb.typeCache[n]||{},this._jsPlumb.typeCache[n][t]=e},this.getCachedTypeItem=function(t,e){return this._jsPlumb.typeCache[e]?this._jsPlumb.typeCache[e][t]:null},this.getId=function(){return r};var o=t.overlays||[],i={};if(this.defaultOverlayKeys){for(var s=0;s<this.defaultOverlayKeys.length;s++)Array.prototype.push.apply(o,this._jsPlumb.instance.Defaults[this.defaultOverlayKeys[s]]||[]);for(s=0;s<o.length;s++){var a=f.convertToFullOverlaySpec(o[s]);i[a[1].id]=a}}var u={overlays:i,parameters:t.parameters||{},scope:t.scope||this._jsPlumb.instance.getDefaultScope()};if(this.getDefaultType=function(){return u},this.appendToDefaultType=function(t){for(var e in t)u[e]=t[e]},t.events)for(var l in t.events)this.bind(l,t.events[l]);this.clone=(function(){var t=Object.create(this.constructor.prototype);return this.constructor.apply(t,e),t}).bind(this),this.isDetachAllowed=function(t){var e=!0;if(this._jsPlumb.beforeDetach)try{e=this._jsPlumb.beforeDetach(t)}catch(r){n.log("jsPlumb: beforeDetach callback failed",r)}return e},this.isDropAllowed=function(t,e,r,o,i,s,a){var u=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:t,targetId:e,scope:r,connection:o,dropEndpoint:i,source:s,target:a});if(this._jsPlumb.beforeDrop)try{u=this._jsPlumb.beforeDrop({sourceId:t,targetId:e,scope:r,connection:o,dropEndpoint:i,source:s,target:a})}catch(l){n.log("jsPlumb: beforeDrop callback failed",l)}return u};var c=[];this.setListenerComponent=function(t){for(var e=0;e<c.length;e++)c[e][3]=t}},h=function(t,e){var n=t._jsPlumb.instance.getType(t._jsPlumb.types[e],t.getTypeDescriptor());null!=n&&n.cssClass&&t.canvas&&t._jsPlumb.instance.removeClass(t.canvas,n.cssClass)};n.extend(t.jsPlumbUIComponent,n.EventGenerator,{getParameter:function(t){return this._jsPlumb.parameters[t]},setParameter:function(t,e){this._jsPlumb.parameters[t]=e},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(t){this._jsPlumb.parameters=t},getClass:function(){return f.getClass(this.canvas)},hasClass:function(t){return f.hasClass(this.canvas,t)},addClass:function(t){f.addClass(this.canvas,t)},removeClass:function(t){f.removeClass(this.canvas,t)},updateClasses:function(t,e){f.updateClasses(this.canvas,t,e)},setType:function(t,e,n){this.clearTypes(),this._jsPlumb.types=s(t)||[],l(this,e,n)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(t,e){l(this,t,e)},hasType:function(t){return-1!==this._jsPlumb.types.indexOf(t)},addType:function(t,e,n){var r=s(t),o=!1;if(null!=r){for(var i=0,a=r.length;i<a;i++)this.hasType(r[i])||(this._jsPlumb.types.push(r[i]),o=!0);o&&l(this,e,n)}},removeType:function(t,e,n){var r=s(t),o=!1,i=(function(t){var e=this._jsPlumb.types.indexOf(t);return-1!==e&&(h(this,e),this._jsPlumb.types.splice(e,1),!0)}).bind(this);if(null!=r){for(var a=0,u=r.length;a<u;a++)o=i(r[a])||o;o&&l(this,e,n)}},clearTypes:function(t,e){for(var n=this._jsPlumb.types.length,r=0;r<n;r++)h(this,0),this._jsPlumb.types.splice(0,1);l(this,t,e)},toggleType:function(t,e,n){var r=s(t);if(null!=r){for(var o=0,i=r.length;o<i;o++){var a=this._jsPlumb.types.indexOf(r[o]);-1!==a?(h(this,a),this._jsPlumb.types.splice(a,1)):this._jsPlumb.types.push(r[o])}l(this,e,n)}},applyType:function(t,e){if(this.setPaintStyle(t.paintStyle,e),this.setHoverPaintStyle(t.hoverPaintStyle,e),t.parameters)for(var n in t.parameters)this.setParameter(n,t.parameters[n]);this._jsPlumb.paintStyleInUse=this.getPaintStyle()},setPaintStyle:function(t,e){this._jsPlumb.paintStyle=t,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,o(this),e||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(t,e){this._jsPlumb.hoverPaintStyle=t,o(this),e||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},destroy:function(t){(t||null==this.typeId)&&(this.cleanupListeners(),this.clone=null,this._jsPlumb=null)},isHover:function(){return this._jsPlumb.hover},setHover:function(t,e,n){if(this._jsPlumb&&!this._jsPlumb.instance.currentlyDragging&&!this._jsPlumb.instance.isHoverSuspended()){this._jsPlumb.hover=t;var o=t?"addClass":"removeClass";null!=this.canvas&&(null!=this._jsPlumb.instance.hoverClass&&this._jsPlumb.instance[o](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverClass&&this._jsPlumb.instance[o](this.canvas,this._jsPlumb.hoverClass)),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=t?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(n=n||r(),this.repaint({timestamp:n,recalc:!1}))),this.getAttachedElements&&!e&&function(t,e,n,r){var o=t.getAttachedElements();if(o)for(var i=0,s=o.length;i<s;i++)r&&r===o[i]||o[i].setHover(e,!0,n)}(this,t,r(),this)}}});var p=0,d=t.jsPlumbInstance=function(e){this.version="2.8.8",this.Defaults={Anchor:"Bottom",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fill:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{"stroke-width":4,stroke:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},e&&f.extend(this.Defaults,e),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},n.EventGenerator.apply(this);var o=this,s=function(){var t=p+1;return p++,t}(),a=o.bind,l={},h=1,d=function(t){if(null==t)return null;if(3===t.nodeType||8===t.nodeType)return{el:t,text:!0};var e=o.getElement(t);return{el:e,id:n.isString(t)&&null==e?t:z(e)}};for(var v in this.getInstanceIndex=function(){return s},this.setZoom=function(t,e){return o.fire("zoom",h=t),e&&o.repaintEverything(),!0},this.getZoom=function(){return h},this.Defaults)l[v]=this.Defaults[v];var g,m=[];this.unbindContainer=function(){if(null!=g&&m.length>0)for(var t=0;t<m.length;t++)o.off(g,m[t][0],m[t][1])},this.setContainer=function(t){this.unbindContainer(),t=this.getElement(t),this.select().each(function(e){e.moveParent(t)}),this.selectEndpoints().each(function(e){e.moveParent(t)});var e=g;g=t,m.length=0;for(var n={endpointclick:"endpointClick",endpointdblclick:"endpointDblClick"},r=function(t,e,r){var i=e.srcElement||e.target,s=(i&&i.parentNode?i.parentNode._jsPlumb:null)||(i?i._jsPlumb:null)||(i&&i.parentNode&&i.parentNode.parentNode?i.parentNode.parentNode._jsPlumb:null);s&&(s.fire(t,s,e),o.fire(r&&n[r+t]||t,s.component||s,e))},s=function(t,e,n){m.push([t,n]),o.on(g,t,e,n)},a=function(t){s(t,".jtk-connector",function(e){r(t,e)}),s(t,".jtk-endpoint",function(e){r(t,e,"endpoint")}),s(t,".jtk-overlay",function(e){r(t,e)})},u=0;u<i.length;u++)a(i[u]);for(var l in x){var c=x[l].el;c.parentNode===e&&(e.removeChild(c),g.appendChild(c))}},this.getContainer=function(){return g},this.bind=function(t,e){"ready"===t&&b?e():a.apply(o,[t,e])},o.importDefaults=function(t){for(var e in t)o.Defaults[e]=t[e];return t.Container&&o.setContainer(t.Container),o},o.restoreDefaults=function(){return o.Defaults=f.extend({},l),o};var y=null,b=!1,_=[],w={},C={},x={},P={},E={},S={},j=!1,I=[],D=!1,A=null,k=this.Defaults.Scope,T=1,O=function(){return""+T++},M=(function(t,e){g?g.appendChild(t):e?this.getElement(e).appendChild(t):this.appendToRoot(t)}).bind(this),R=function(t,e,n,i){if(!D){var s,a=z(t),u=o.getDragManager();u&&(s=u.getElementsForDraggable(a)),null==n&&(n=r());var l=st({elId:a,offset:e,recalc:!1,timestamp:n});if(s&&l&&l.o)for(var c in s)st({elId:s[c].id,offset:{left:l.o.left+s[c].offset.left,top:l.o.top+s[c].offset.top},recalc:!1,timestamp:n});if(o.anchorManager.redraw(a,e,n,null,i),s)for(var h in s)o.anchorManager.redraw(s[h].id,e,n,s[h].offset,i,!0)}},N=function(t){return C[t]},L=(function(t,e){var r=f.extend({},t);if(e&&f.extend(r,e),r.source&&(r.source.endpoint?r.sourceEndpoint=r.source:r.source=o.getElement(r.source)),r.target&&(r.target.endpoint?r.targetEndpoint=r.target:r.target=o.getElement(r.target)),t.uuids&&(r.sourceEndpoint=N(t.uuids[0]),r.targetEndpoint=N(t.uuids[1])),r.sourceEndpoint&&r.sourceEndpoint.isFull())n.log(o,"could not add connection; source endpoint is full");else if(r.targetEndpoint&&r.targetEndpoint.isFull())n.log(o,"could not add connection; target endpoint is full");else{if(!r.type&&r.sourceEndpoint&&(r.type=r.sourceEndpoint.connectionType),r.sourceEndpoint&&r.sourceEndpoint.connectorOverlays){r.overlays=r.overlays||[];for(var i=0,s=r.sourceEndpoint.connectorOverlays.length;i<s;i++)r.overlays.push(r.sourceEndpoint.connectorOverlays[i])}r.sourceEndpoint&&r.sourceEndpoint.scope&&(r.scope=r.sourceEndpoint.scope),!r["pointer-events"]&&r.sourceEndpoint&&r.sourceEndpoint.connectorPointerEvents&&(r["pointer-events"]=r.sourceEndpoint.connectorPointerEvents);var a=function(t,e,n,i){if(r[t]&&!r[t].endpoint&&!r[t+"Endpoint"]&&!r.newConnection){var s=n[z(r[t])];if(s=s?s[i]:null){if(!s.enabled)return!1;var a=null!=s.endpoint&&s.endpoint._jsPlumb?s.endpoint:function(e,n,i){return o.addEndpoint(r[t],function(t,e){var n=f.extend({},t);for(var r in e)e[r]&&(n[r]=e[r]);return n}(s.def,{anchor:r.anchors?r.anchors[i]:r.anchor,endpoint:r.endpoints?r.endpoints[i]:r.endpoint,paintStyle:r.endpointStyles?r.endpointStyles[i]:r.endpointStyle,hoverPaintStyle:r.endpointHoverStyles?r.endpointHoverStyles[i]:r.endpointHoverStyle}))}(0,0,e);if(a.isFull())return!1;r[t+"Endpoint"]=a,!r.scope&&s.def.scope&&(r.scope=s.def.scope),s.uniqueEndpoint?s.endpoint?a.finalEndpoint=s.endpoint:(s.endpoint=a,a.setDeleteOnEmpty(!1)):a.setDeleteOnEmpty(!0),0===e&&s.def.connectorOverlays&&(r.overlays=r.overlays||[],Array.prototype.push.apply(r.overlays,s.def.connectorOverlays))}}};if(!1!==a("source",0,this.sourceEndpointDefinitions,r.type||"default")&&!1!==a("target",1,this.targetEndpointDefinitions,r.type||"default"))return r.sourceEndpoint&&r.targetEndpoint&&(function(t,e){for(var n=r.sourceEndpoint.scope.split(/\s/),o=e.scope.split(/\s/),i=0;i<n.length;i++)for(var s=0;s<o.length;s++)if(o[s]===n[i])return!0;return!1}(0,r.targetEndpoint)||(r=null)),r}}).bind(o),F=function(t){var e=o.Defaults.ConnectionType||o.getDefaultConnectionType();t._jsPlumb=o,t.newConnection=F,t.newEndpoint=H,t.endpointsByUUID=C,t.endpointsByElement=w,t.finaliseConnection=U,t.id="con_"+O();var n=new e(t);return n.isDetachable()&&(n.endpoints[0].initDraggable("_jsPlumbSource"),n.endpoints[1].initDraggable("_jsPlumbTarget")),n},U=o.finaliseConnection=function(t,e,n,r){e=e||{},t.suspendedEndpoint||_.push(t),t.pending=null,t.endpoints[0].isTemporarySource=!1,!1!==r&&o.anchorManager.newConnection(t),R(t.source),e.doNotFireConnectionEvent||!1===e.fireEvent||o.fire("connection",{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]},n)},H=function(t,e){var n=o.Defaults.EndpointType||f.Endpoint,r=f.extend({},t);r._jsPlumb=o,r.newConnection=F,r.newEndpoint=H,r.endpointsByUUID=C,r.endpointsByElement=w,r.fireDetachEvent=q,r.elementId=e||z(r.source);var i=new n(r);return i.id="ep_"+O(),it(r.elementId,r.source),f.headless||o.getDragManager().endpointAdded(r.source,e),i},V=function(t,e,n){var r=w[t];if(r&&r.length)for(var o=0,i=r.length;o<i;o++){for(var s=0,a=r[o].connections.length;s<a;s++)if(e(r[o].connections[s]))return;n&&n(r[o])}},B=function(t,e,n){e="block"===e;var r=null;n&&(r=function(t){t.setVisible(e,!0,!0)});var o=d(t);V(o.id,function(t){e&&n?t.endpoints[t.sourceId===o.id?1:0].isVisible()&&t.setVisible(!0):t.setVisible(e)},r)},z=function(t,e,r){if(n.isString(t))return t;if(null==t)return null;var i=o.getAttribute(t,"id");return i&&"undefined"!==i||(2===arguments.length&&void 0!==arguments[1]?i=e:(1===arguments.length||3===arguments.length&&!arguments[2])&&(i="jsPlumb_"+s+"_"+O()),r||o.setAttribute(t,"id",i)),i};this.setConnectionBeingDragged=function(t){j=t},this.isConnectionBeingDragged=function(){return j},this.getManagedElements=function(){return x},this.connectorClass="jtk-connector",this.connectorOutlineClass="jtk-connector-outline",this.connectedClass="jtk-connected",this.hoverClass="jtk-hover",this.endpointClass="jtk-endpoint",this.endpointConnectedClass="jtk-endpoint-connected",this.endpointFullClass="jtk-endpoint-full",this.endpointDropAllowedClass="jtk-endpoint-drop-allowed",this.endpointDropForbiddenClass="jtk-endpoint-drop-forbidden",this.overlayClass="jtk-overlay",this.draggingClass="jtk-dragging",this.elementDraggingClass="jtk-element-dragging",this.sourceElementDraggingClass="jtk-source-element-dragging",this.targetElementDraggingClass="jtk-target-element-dragging",this.endpointAnchorClassPrefix="jtk-endpoint-anchor",this.hoverSourceClass="jtk-source-hover",this.hoverTargetClass="jtk-target-hover",this.dragSelectClass="jtk-drag-select",this.Anchors={},this.Connectors={svg:{}},this.Endpoints={svg:{}},this.Overlays={svg:{}},this.ConnectorRenderers={},this.SVG="svg",this.addEndpoint=function(t,e,r){var i=f.extend({},r=r||{});f.extend(i,e),i.endpoint=i.endpoint||o.Defaults.Endpoint,i.paintStyle=i.paintStyle||o.Defaults.EndpointStyle;for(var s=[],a=n.isArray(t)||null!=t.length&&!n.isString(t)?t:[t],u=0,l=a.length;u<l;u++){i.source=o.getElement(a[u]),ot(i.source);var c=z(i.source),h=H(i,c),p=it(c,i.source).info.o;n.addToList(w,c,h),D||h.paint({anchorLoc:h.anchor.compute({xy:[p.left,p.top],wh:I[c],element:h,timestamp:A}),timestamp:A}),s.push(h)}return 1===s.length?s[0]:s},this.addEndpoints=function(t,e,r){for(var i=[],s=0,a=e.length;s<a;s++){var u=o.addEndpoint(t,e[s],r);n.isArray(u)?Array.prototype.push.apply(i,u):i.push(u)}return i},this.animate=function(t,e,r){if(!this.animationSupported)return!1;r=r||{};var i=o.getElement(t),s=z(i),a=f.animEvents.step,u=f.animEvents.complete;r[a]=n.wrap(r[a],function(){o.revalidate(s)}),r[u]=n.wrap(r[u],function(){o.revalidate(s)}),o.doAnimate(i,e,r)},this.checkCondition=function(t,e){var r=o.getListener(t),i=!0;if(r&&r.length>0){var s=Array.prototype.slice.call(arguments,1);try{for(var a=0,u=r.length;a<u;a++)i=i&&r[a].apply(r[a],s)}catch(l){n.log(o,"cannot check condition ["+t+"]"+l)}}return i},this.connect=function(t,e){var r,o=L(t,e);if(o){if(null==o.source&&null==o.sourceEndpoint)return void n.log("Cannot establish connection - source does not exist");if(null==o.target&&null==o.targetEndpoint)return void n.log("Cannot establish connection - target does not exist");ot(o.source),r=F(o),U(r,o)}return r};var G=[{el:"source",elId:"sourceId",epDefs:"sourceEndpointDefinitions"},{el:"target",elId:"targetId",epDefs:"targetEndpointDefinitions"}],W=(function(t,e,n,r){var o,i,s,a=G[n],u=t[a.elId],l=t.endpoints[n],c={index:n,originalSourceId:0===n?u:t.sourceId,newSourceId:t.sourceId,originalTargetId:1===n?u:t.targetId,newTargetId:t.targetId,connection:t};if(e.constructor===f.Endpoint)(o=e).addConnection(t),e=o.element;else if(i=z(e),s=this[a.epDefs][i],i===t[a.elId])o=null;else if(s)for(var h in s){if(!s[h].enabled)return;o=null!=s[h].endpoint&&s[h].endpoint._jsPlumb?s[h].endpoint:this.addEndpoint(e,s[h].def),s[h].uniqueEndpoint&&(s[h].endpoint=o),o.addConnection(t)}else o=t.makeEndpoint(0===n,e,i);return null!=o&&(l.detachFromConnection(t),t.endpoints[n]=o,t[a.el]=o.element,t[a.elId]=o.elementId,c[0===n?"newSourceId":"newTargetId"]=o.elementId,Y(c),r||t.repaint()),c.element=e,c}).bind(this);this.setSource=function(t,e,n){var r=W(t,e,0,n);this.anchorManager.sourceChanged(r.originalSourceId,r.newSourceId,t,r.el)},this.setTarget=function(t,e,n){var r=W(t,e,1,n);this.anchorManager.updateOtherEndpoint(r.originalSourceId,r.originalTargetId,r.newTargetId,t)},this.deleteEndpoint=function(t,e,n){var r="string"==typeof t?C[t]:t;return r&&o.deleteObject({endpoint:r,dontUpdateHover:e,deleteAttachedObjects:n}),o},this.deleteEveryEndpoint=function(){var t=o.setSuspendDrawing(!0);for(var e in w){var n=w[e];if(n&&n.length)for(var r=0,i=n.length;r<i;r++)o.deleteEndpoint(n[r],!0)}w={},x={},C={},P={},E={},o.anchorManager.reset();var s=o.getDragManager();return s&&s.reset(),t||o.setSuspendDrawing(!1),o};var q=function(t,e,n){var r=o.Defaults.ConnectionType||o.getDefaultConnectionType(),i=t.constructor===r?{connection:t,source:t.source,target:t.target,sourceId:t.sourceId,targetId:t.targetId,sourceEndpoint:t.endpoints[0],targetEndpoint:t.endpoints[1]}:t;e&&o.fire("connectionDetached",i,n),o.fire("internal.connectionDetached",i,n),o.anchorManager.connectionDetached(i)},Y=o.fireMoveEvent=function(t,e){o.fire("connectionMoved",t,e)};this.unregisterEndpoint=function(t){for(var e in t._jsPlumb.uuid&&(C[t._jsPlumb.uuid]=null),o.anchorManager.deleteEndpoint(t),w){var n=w[e];if(n){for(var r=[],i=0,s=n.length;i<s;i++)n[i]!==t&&r.push(n[i]);w[e]=r}w[e].length<1&&delete w[e]}},this.deleteConnection=function(t,e){return!(null==t||!(e=e||{}).force&&!n.functionChain(!0,!1,[[t.endpoints[0],"isDetachAllowed",[t]],[t.endpoints[1],"isDetachAllowed",[t]],[t,"isDetachAllowed",[t]],[o,"checkCondition",["beforeDetach",t]]])||(t.setHover(!1),q(t,!t.pending&&!1!==e.fireEvent,e.originalEvent),t.endpoints[0].detachFromConnection(t),t.endpoints[1].detachFromConnection(t),n.removeWithFunction(_,function(e){return t.id===e.id}),t.cleanup(),t.destroy(),0))},this.deleteEveryConnection=function(t){t=t||{};var e=_.length,n=0;return o.batch(function(){for(var r=0;r<e;r++)n+=o.deleteConnection(_[0],t)?1:0}),n},this.deleteConnectionsForElement=function(t,e){e=e||{},t=o.getElement(t);var n=z(t),r=w[n];if(r&&r.length)for(var i=0,s=r.length;i<s;i++)r[i].deleteEveryConnection(e);return o},this.deleteObject=function(t){var e={endpoints:{},connections:{},endpointCount:0,connectionCount:0},r=!1!==t.deleteAttachedObjects,i=function(n){null!=n&&null==e.connections[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.connections[n.id]=n,e.connectionCount++)};for(var s in t.connection?i(t.connection):function(n){if(null!=n&&null==e.endpoints[n.id]&&(t.dontUpdateHover||null==n._jsPlumb||n.setHover(!1),e.endpoints[n.id]=n,e.endpointCount++,r))for(var o=0;o<n.connections.length;o++)i(n.connections[o])}(t.endpoint),e.connections){var a=e.connections[s];if(a._jsPlumb){n.removeWithFunction(_,function(t){return a.id===t.id}),q(a,!1!==t.fireEvent&&!a.pending,t.originalEvent);var u=null==t.deleteAttachedObjects?null:!t.deleteAttachedObjects;a.endpoints[0].detachFromConnection(a,null,u),a.endpoints[1].detachFromConnection(a,null,u),a.cleanup(!0),a.destroy(!0)}}for(var l in e.endpoints){var c=e.endpoints[l];c._jsPlumb&&(o.unregisterEndpoint(c),c.cleanup(!0),c.destroy(!0))}return e},this.draggable=function(t,e){var r;return u(function(t){(r=d(t)).el&&function(t,e,r,i,s){if(!f.headless&&f.isDragSupported(t,o)){var a=r||o.Defaults.DragOptions;if(a=f.extend({},a),f.isAlreadyDraggable(t,o))r.force&&o.initDraggable(t,a);else{var u=f.dragEvents.drag,l=f.dragEvents.stop,c=f.dragEvents.start,h=!1;it(i,t),a[c]=n.wrap(a[c],function(){if(o.setHoverSuspended(!0),o.select({source:t}).addClass(o.elementDraggingClass+" "+o.sourceElementDraggingClass,!0),o.select({target:t}).addClass(o.elementDraggingClass+" "+o.targetElementDraggingClass,!0),o.setConnectionBeingDragged(!0),a.canDrag)return r.canDrag()},!1),a[u]=n.wrap(a[u],function(){var e=o.getUIPosition(arguments,o.getZoom());null!=e&&(R(t,e,null,!0),h&&o.addClass(t,"jtk-dragged"),h=!0)}),a[l]=n.wrap(a[l],function(){for(var t,e,n=arguments[0].selection,r=0;r<n.length;r++)null!=(e=n[r])[1]&&(t=o.getUIPosition([{el:e[2].el,pos:[e[1].left,e[1].top]}]),R(e[2].el,t)),o.removeClass(e[0],"jtk-dragged"),o.select({source:e[2].el}).removeClass(o.elementDraggingClass+" "+o.sourceElementDraggingClass,!0),o.select({target:e[2].el}).removeClass(o.elementDraggingClass+" "+o.targetElementDraggingClass,!0),o.getDragManager().dragEnded(e[2].el);h=!1,o.setHoverSuspended(!1),o.setConnectionBeingDragged(!1)});var p=z(t);S[p]=!0;var d=S[p];a.disabled=null!=d&&!d,o.initDraggable(t,a),o.getDragManager().register(t),o.fire("elementDraggable",{el:t,options:a})}}}(r.el,0,e,r.id)},t),o},this.droppable=function(t,e){var n;return(e=e||{}).allowLoopback=!1,u(function(t){(n=d(t)).el&&o.initDroppable(n.el,e)},t),o};var X=function(t,e,n){return function(){return function(t,e,n,r){for(var o=0,i=t.length;o<i;o++)t[o][e].apply(t[o],n);return r(t)}(t,e,arguments,n)}},Z=function(t,e){return function(){return function(t,e,n){for(var r=[],o=0,i=t.length;o<i;o++)r.push([t[o][e].apply(t[o],n),t[o]]);return r}(t,e,arguments)}},Q=function(t,e){var n=[];if(t)if("string"==typeof t){if("*"===t)return t;n.push(t)}else if(e)n=t;else if(t.length)for(var r=0,o=t.length;r<o;r++)n.push(d(t[r]).id);else n.push(d(t).id);return n},K=function(t,e,n){return"*"===t||(t.length>0?-1!==t.indexOf(e):!n)};this.getConnections=function(t,e){t?t.constructor===String&&(t={scope:t}):t={};for(var n=t.scope||o.getDefaultScope(),r=Q(n,!0),i=Q(t.source),s=Q(t.target),a=!e&&r.length>1?{}:[],u=function(t,n){if(!e&&r.length>1){var o=a[t];null==o&&(o=a[t]=[]),o.push(n)}else a.push(n)},l=0,c=_.length;l<c;l++){var h=_[l],p=h.proxies&&h.proxies[0]?h.proxies[0].originalEp.elementId:h.sourceId,d=h.proxies&&h.proxies[1]?h.proxies[1].originalEp.elementId:h.targetId;K(r,h.scope)&&K(i,p)&&K(s,d)&&u(h.scope,h)}return a};var J=function(t,e){return function(n){for(var r=0,o=t.length;r<o;r++)n(t[r]);return e(t)}},$=function(t){return function(e){return t[e]}},tt=function(t,e){var n,r,o={length:t.length,each:J(t,e),get:$(t)},i=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],s=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(n=0,r=i.length;n<r;n++)o[i[n]]=X(t,i[n],e);for(n=0,r=s.length;n<r;n++)o[s[n]]=Z(t,s[n]);return o},et=function(t){var e=tt(t,et);return f.extend(e,{setDetachable:X(t,"setDetachable",et),setReattach:X(t,"setReattach",et),setConnector:X(t,"setConnector",et),delete:function(){for(var e=0,n=t.length;e<n;e++)o.deleteConnection(t[e])},isDetachable:Z(t,"isDetachable"),isReattach:Z(t,"isReattach")})},nt=function(t){var e=tt(t,nt);return f.extend(e,{setEnabled:X(t,"setEnabled",nt),setAnchor:X(t,"setAnchor",nt),isEnabled:Z(t,"isEnabled"),deleteEveryConnection:function(){for(var e=0,n=t.length;e<n;e++)t[e].deleteEveryConnection()},delete:function(){for(var e=0,n=t.length;e<n;e++)o.deleteEndpoint(t[e])}})};this.select=function(t){return(t=t||{}).scope=t.scope||"*",et(t.connections||o.getConnections(t,!0))},this.selectEndpoints=function(t){(t=t||{}).scope=t.scope||"*";var e=!t.element&&!t.source&&!t.target,n=e?"*":Q(t.element),r=e?"*":Q(t.source),o=e?"*":Q(t.target),i=Q(t.scope,!0),s=[];for(var a in w){var u=K(n,a,!0),l=K(r,a,!0),c="*"!==r,h=K(o,a,!0),p="*"!==o;if(u||l||h)t:for(var d=0,f=w[a].length;d<f;d++){var v=w[a][d];if(K(i,v.scope,!0)){if(c&&r.length>0&&!v.isSource||p&&o.length>0&&!v.isTarget)continue t;s.push(v)}}}return nt(s)},this.getAllConnections=function(){return _},this.getDefaultScope=function(){return k},this.getEndpoint=N,this.getEndpoints=function(t){return w[d(t).id]||[]},this.getDefaultEndpointType=function(){return f.Endpoint},this.getDefaultConnectionType=function(){return f.Connection},this.getId=z,this.appendElement=M;var rt=!1;this.isHoverSuspended=function(){return rt},this.setHoverSuspended=function(t){rt=t},this.hide=function(t,e){return B(t,"none",e),o},this.idstamp=O;var ot=function(t){if(!g&&t){var e=o.getElement(t);e.offsetParent&&o.setContainer(e.offsetParent)}},it=o.manage=function(t,e,n){return x[t]||(x[t]={el:e,endpoints:[],connections:[]},x[t].info=st({elId:t,timestamp:A}),n||o.fire("manageElement",{id:t,info:x[t].info,el:e})),x[t]},st=function(t){var e,n=t.timestamp,r=t.recalc,i=t.offset,s=t.elId;return D&&!n&&(n=A),!r&&n&&n===E[s]?{o:t.offset||P[s],s:I[s]}:(r||!i&&null==P[s]?null!=(e=x[s]?x[s].el:null)&&(I[s]=o.getSize(e),P[s]=o.getOffset(e),E[s]=n):(P[s]=i||P[s],null==I[s]&&null!=(e=x[s].el)&&(I[s]=o.getSize(e)),E[s]=n),P[s]&&!P[s].right&&(P[s].right=P[s].left+I[s][0],P[s].bottom=P[s].top+I[s][1],P[s].width=I[s][0],P[s].height=I[s][1],P[s].centerx=P[s].left+P[s].width/2,P[s].centery=P[s].top+P[s].height/2),{o:P[s],s:I[s]})};this.updateOffset=st,this.init=(function(){b||(o.Defaults.Container&&o.setContainer(o.Defaults.Container),o.anchorManager=new t.jsPlumb.AnchorManager({jsPlumbInstance:o}),b=!0,o.fire("ready",o))}).bind(this),this.log=y,this.jsPlumbUIComponent=c,this.makeAnchor=function(){var e,r=function(e,n){if(t.jsPlumb.Anchors[e])return new t.jsPlumb.Anchors[e](n);if(!o.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+e+"'"}};if(0===arguments.length)return null;var i=arguments[0],s=arguments[1],a=null;if(i.compute&&i.getOrientation)return i;if("string"==typeof i)a=r(arguments[0],{elementId:s,jsPlumbInstance:o});else if(n.isArray(i))if(n.isArray(i[0])||n.isString(i[0]))2===i.length&&n.isObject(i[1])?n.isString(i[0])?(e=t.jsPlumb.extend({elementId:s,jsPlumbInstance:o},i[1]),a=r(i[0],e)):(e=t.jsPlumb.extend({elementId:s,jsPlumbInstance:o,anchors:i[0]},i[1]),a=new t.jsPlumb.DynamicAnchor(e)):a=new f.DynamicAnchor({anchors:i,selector:null,elementId:s,jsPlumbInstance:o});else{var u={x:i[0],y:i[1],orientation:i.length>=4?[i[2],i[3]]:[0,0],offsets:i.length>=6?[i[4],i[5]]:[0,0],elementId:s,jsPlumbInstance:o,cssClass:7===i.length?i[6]:null};(a=new t.jsPlumb.Anchor(u)).clone=function(){return new t.jsPlumb.Anchor(u)}}return a.id||(a.id="anchor_"+O()),a},this.makeAnchors=function(e,r,i){for(var s=[],a=0,u=e.length;a<u;a++)"string"==typeof e[a]?s.push(t.jsPlumb.Anchors[e[a]]({elementId:r,jsPlumbInstance:i})):n.isArray(e[a])&&s.push(o.makeAnchor(e[a],r,i));return s},this.makeDynamicAnchor=function(e,n){return new t.jsPlumb.DynamicAnchor({anchors:e,selector:n,elementId:null,jsPlumbInstance:o})},this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={};var at=function(e,r,i,s,a){var u=new c(r),l=r._jsPlumb.EndpointDropHandler({jsPlumb:o,enabled:function(){return e.def.enabled},isFull:function(){var t=o.select({target:e.id}).length;return e.def.maxConnections>0&&t>=e.def.maxConnections},element:e.el,elementId:e.id,isSource:s,isTarget:a,addClass:function(t){o.addClass(e.el,t)},removeClass:function(t){o.removeClass(e.el,t)},onDrop:function(t){t.endpoints[0].anchor.unlock()},isDropAllowed:function(){return u.isDropAllowed.apply(u,arguments)},isRedrop:function(t){return null!=t.suspendedElement&&null!=t.suspendedEndpoint&&t.suspendedEndpoint.element===e.el},getEndpoint:function(n){var i=e.def.endpoint;if(null==i||null==i._jsPlumb){var s=o.deriveEndpointAndAnchorSpec(n.getType().join(" "),!0),a=s.endpoints?t.jsPlumb.extend(r,{endpoint:e.def.def.endpoint||s.endpoints[1]}):r;s.anchors&&(a=t.jsPlumb.extend(a,{anchor:e.def.def.anchor||s.anchors[1]})),(i=o.addEndpoint(e.el,a))._mtNew=!0}if(r.uniqueEndpoint&&(e.def.endpoint=i),i.setDeleteOnEmpty(!0),n.isDetachable()&&i.initDraggable(),null!=i.anchor.positionFinder){var u=o.getUIPosition(arguments,o.getZoom()),l=o.getOffset(e.el),c=o.getSize(e.el),h=null==u?[0,0]:i.anchor.positionFinder(u,l,c,i.anchor.constructorParams);i.anchor.x=h[0],i.anchor.y=h[1]}return i},maybeCleanup:function(t){t._mtNew&&0===t.connections.length?o.deleteObject({endpoint:t}):delete t._mtNew}}),h=t.jsPlumb.dragEvents.drop;return i.scope=i.scope||r.scope||o.Defaults.Scope,i[h]=n.wrap(i[h],l,!0),i.rank=r.rank||0,a&&(i[t.jsPlumb.dragEvents.over]=function(){return!0}),!1===r.allowLoopback&&(i.canDrop=function(t){return t.getDragElement()._jsPlumbRelatedElement!==e.el}),o.initDroppable(e.el,i,"internal"),l};this.makeTarget=function(e,n,r){var i=t.jsPlumb.extend({_jsPlumb:this},r);t.jsPlumb.extend(i,n);for(var s=i.maxConnections||-1,a=(function(e){var n=d(e),r=n.id,a=t.jsPlumb.extend({},i.dropOptions||{}),u=i.connectionType||"default";this.targetEndpointDefinitions[r]=this.targetEndpointDefinitions[r]||{},ot(r),n.el._isJsPlumbGroup&&null==a.rank&&(a.rank=-1);var l={def:t.jsPlumb.extend({},i),uniqueEndpoint:i.uniqueEndpoint,maxConnections:s,enabled:!0};i.createEndpoint&&(l.uniqueEndpoint=!0,l.endpoint=o.addEndpoint(e,l.def),l.endpoint.setDeleteOnEmpty(!1)),n.def=l,this.targetEndpointDefinitions[r][u]=l,at(n,i,a,!0===i.isSource,!0),n.el._katavorioDrop[n.el._katavorioDrop.length-1].targetDef=l}).bind(this),u=e.length&&e.constructor!==String?e:[e],l=0,c=u.length;l<c;l++)a(u[l]);return this},this.unmakeTarget=function(t,e){var n=d(t);return o.destroyDroppable(n.el,"internal"),e||delete this.targetEndpointDefinitions[n.id],this},this.makeSource=function(e,r,i){var s=t.jsPlumb.extend({_jsPlumb:this},i);t.jsPlumb.extend(s,r);var a=s.connectionType||"default",u=o.deriveEndpointAndAnchorSpec(a);s.endpoint=s.endpoint||u.endpoints[0],s.anchor=s.anchor||u.anchors[0];for(var l=s.maxConnections||-1,c=s.onMaxConnections,p=(function(r){var i=r.id,u=this.getElement(r.el);this.sourceEndpointDefinitions[i]=this.sourceEndpointDefinitions[i]||{},ot(i);var p={def:t.jsPlumb.extend({},s),uniqueEndpoint:s.uniqueEndpoint,maxConnections:l,enabled:!0};s.createEndpoint&&(p.uniqueEndpoint=!0,p.endpoint=o.addEndpoint(e,p.def),p.endpoint.setDeleteOnEmpty(!1)),this.sourceEndpointDefinitions[i][a]=p,r.def=p;var d=t.jsPlumb.dragEvents.stop,f=t.jsPlumb.dragEvents.drag,v=t.jsPlumb.extend({},s.dragOptions||{}),g=v.drag,m=v.stop,y=null,b=!1;v.scope=v.scope||s.scope,v[f]=n.wrap(v[f],function(){g&&g.apply(this,arguments),b=!1}),v[d]=n.wrap(v[d],(function(){if(m&&m.apply(this,arguments),this.currentlyDragging=!1,null!=y._jsPlumb){var t=y.anchor,e=y.connections[0],n=this.makeAnchor(s.anchor||this.Defaults.Anchor,i,this),r=y.element;if(null!=n.positionFinder){var a=o.getOffset(r),u=this.getSize(r),l=n.positionFinder({left:a.left+t.x*u[0],top:a.top+t.y*u[1]},a,u,n.constructorParams);n.x=l[0],n.y=l[1]}y.setAnchor(n,!0),y.repaint(),this.repaint(y.elementId),null!=e&&this.repaint(e.targetId)}}).bind(this));var _=(function(e){if(3!==e.which&&2!==e.button){var p=this.sourceEndpointDefinitions[i][a];if(p.enabled){if(i=this.getId(this.getElement(r.el)),s.filter&&!1===(n.isString(s.filter)?function(t,n,o,i,a){for(var u=e.target||e.srcElement,l=!1,c=i.getSelector(r.el,s.filter),h=0;h<c.length;h++)if(c[h]===u){l=!0;break}return a?!l:l}(0,0,0,this,s.filterExclude):s.filter(e,r.el)))return;var d=this.select({source:i}).length;if(p.maxConnections>=0&&d>=p.maxConnections)return c&&c({element:r.el,maxConnections:l},e),!1;var f=t.jsPlumb.getPositionOnElement(e,u,h),g={};t.jsPlumb.extend(g,s),g.isTemporarySource=!0,g.anchor=[f[0],f[1],0,0],g.dragOptions=v,p.def.scope&&(g.scope=p.def.scope),y=this.addEndpoint(i,g),b=!0,y.setDeleteOnEmpty(!0),p.uniqueEndpoint&&(p.endpoint?y.finalEndpoint=p.endpoint:(p.endpoint=y,y.setDeleteOnEmpty(!1)));var m=function(){o.off(y.canvas,"mouseup",m),o.off(r.el,"mouseup",m),b&&(b=!1,o.deleteEndpoint(y))};o.on(y.canvas,"mouseup",m),o.on(r.el,"mouseup",m);var _={};if(p.def.extract)for(var w in p.def.extract){var C=(e.srcElement||e.target).getAttribute(w);C&&(_[p.def.extract[w]]=C)}o.trigger(y.canvas,"mousedown",e,_),n.consume(e)}}}).bind(this);this.on(r.el,"mousedown",_),p.trigger=_,s.filter&&(n.isString(s.filter)||n.isFunction(s.filter))&&o.setDragFilter(r.el,s.filter);var w=t.jsPlumb.extend({},s.dropOptions||{});at(r,s,w,!0,!0===s.isTarget)}).bind(this),f=e.length&&e.constructor!==String?e:[e],v=0,g=f.length;v<g;v++)p(d(f[v]));return this},this.unmakeSource=function(t,e,n){var r=d(t);o.destroyDroppable(r.el,"internal");var i=this.sourceEndpointDefinitions[r.id];if(i)for(var s in i)if(null==e||e===s){var a=i[s].trigger;a&&o.off(r.el,"mousedown",a),n||delete this.sourceEndpointDefinitions[r.id][s]}return this},this.unmakeEverySource=function(){for(var t in this.sourceEndpointDefinitions)o.unmakeSource(t,null,!0);return this.sourceEndpointDefinitions={},this};var ut=(function(t,e,r){e=n.isArray(e)?e:[e];var o=z(t);r=r||"default";for(var i=0;i<e.length;i++){var s=this[e[i]][o];if(s&&s[r])return s[r].def.scope||this.Defaults.Scope}}).bind(this),lt=(function(t,e,r,o){r=n.isArray(r)?r:[r];var i=z(t);o=o||"default";for(var s=0;s<r.length;s++){var a=this[r[s]][i];a&&a[o]&&(a[o].def.scope=e)}}).bind(this);this.getScope=function(t,e){return ut(t,["sourceEndpointDefinitions","targetEndpointDefinitions"])},this.getSourceScope=function(t){return ut(t,"sourceEndpointDefinitions")},this.getTargetScope=function(t){return ut(t,"targetEndpointDefinitions")},this.setScope=function(t,e,n){this.setSourceScope(t,e,n),this.setTargetScope(t,e,n)},this.setSourceScope=function(t,e,n){lt(t,e,"sourceEndpointDefinitions",n),this.setDragScope(t,e)},this.setTargetScope=function(t,e,n){lt(t,e,"targetEndpointDefinitions",n),this.setDropScope(t,e)},this.unmakeEveryTarget=function(){for(var t in this.targetEndpointDefinitions)o.unmakeTarget(t,!0);return this.targetEndpointDefinitions={},this};var ct=(function(t,e,r,i,s){var a,u,l,c="source"===t?this.sourceEndpointDefinitions:this.targetEndpointDefinitions;if(s=s||"default",e.length&&!n.isString(e)){a=[];for(var h=0,p=e.length;h<p;h++)c[(u=d(e[h])).id]&&c[u.id][s]&&(a[h]=c[u.id][s].enabled,c[u.id][s].enabled=l=i?!a[h]:r,o[l?"removeClass":"addClass"](u.el,"jtk-"+t+"-disabled"))}else{var f=(u=d(e)).id;c[f]&&c[f][s]&&(a=c[f][s].enabled,c[f][s].enabled=l=i?!a:r,o[l?"removeClass":"addClass"](u.el,"jtk-"+t+"-disabled"))}return a}).bind(this),ht=(function(t,e){return n.isString(t)||!t.length?e.apply(this,[t]):t.length?e.apply(this,[t[0]]):void 0}).bind(this);this.toggleSourceEnabled=function(t,e){return ct("source",t,null,!0,e),this.isSourceEnabled(t,e)},this.setSourceEnabled=function(t,e,n){return ct("source",t,e,null,n)},this.isSource=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.sourceEndpointDefinitions[d(t).id];return null!=n&&null!=n[e]}).bind(this))},this.isSourceEnabled=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.sourceEndpointDefinitions[d(t).id];return n&&n[e]&&!0===n[e].enabled}).bind(this))},this.toggleTargetEnabled=function(t,e){return ct("target",t,null,!0,e),this.isTargetEnabled(t,e)},this.isTarget=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.targetEndpointDefinitions[d(t).id];return null!=n&&null!=n[e]}).bind(this))},this.isTargetEnabled=function(t,e){return e=e||"default",ht(t,(function(t){var n=this.targetEndpointDefinitions[d(t).id];return n&&n[e]&&!0===n[e].enabled}).bind(this))},this.setTargetEnabled=function(t,e,n){return ct("target",t,e,null,n)},this.ready=function(t){o.bind("ready",t)};var pt=function(t,e){if("object"==typeof t&&t.length)for(var n=0,r=t.length;n<r;n++)e(t[n]);else e(t);return o};this.repaint=function(t,e,n){return pt(t,function(t){R(t,e,n)})},this.revalidate=function(t,e,n){return pt(t,function(t){var r=n?t:o.getId(t);o.updateOffset({elId:r,recalc:!0,timestamp:e});var i=o.getDragManager();i&&i.updateOffsets(r),o.repaint(t)})},this.repaintEverything=function(){var t,e=r();for(t in w)o.updateOffset({elId:t,recalc:!0,timestamp:e});for(t in w)R(t,null,e);return this},this.removeAllEndpoints=function(t,e,n){n=n||[];var r=function(t){var i,s,a=d(t),u=w[a.id];if(u)for(n.push(a),i=0,s=u.length;i<s;i++)o.deleteEndpoint(u[i],!1);if(delete w[a.id],e&&a.el&&3!==a.el.nodeType&&8!==a.el.nodeType)for(i=0,s=a.el.childNodes.length;i<s;i++)r(a.el.childNodes[i])};return r(t),this};var dt=function(t,e){o.removeAllEndpoints(t.id,!0,e);for(var n=o.getDragManager(),r=function(t){n&&n.elementRemoved(t.id),o.anchorManager.clearFor(t.id),o.anchorManager.removeFloatingConnection(t.id),o.isSource(t.el)&&o.unmakeSource(t.el),o.isTarget(t.el)&&o.unmakeTarget(t.el),o.destroyDraggable(t.el),o.destroyDroppable(t.el),delete o.floatingConnections[t.id],delete x[t.id],delete P[t.id],t.el&&(o.removeElement(t.el),t.el._jsPlumb=null)},i=1;i<e.length;i++)r(e[i]);r(t)};this.remove=function(t,e){var n=d(t),r=[];return n.text?n.el.parentNode.removeChild(n.el):n.id&&o.batch(function(){dt(n,r)},!0===e),o},this.empty=function(t,e){var n=[],r=function(t,e){var o=d(t);if(o.text)o.el.parentNode.removeChild(o.el);else if(o.el){for(;o.el.childNodes.length>0;)r(o.el.childNodes[0]);e||dt(o,n)}};return o.batch(function(){r(t,!0)},!1===e),o},this.reset=function(t){o.silently((function(){rt=!1,o.removeAllGroups(),o.removeGroupManager(),o.deleteEveryEndpoint(),t||o.unbind(),this.targetEndpointDefinitions={},this.sourceEndpointDefinitions={},_.length=0,this.doReset&&this.doReset()}).bind(this))};var ft=function(t){t.canvas&&t.canvas.parentNode&&t.canvas.parentNode.removeChild(t.canvas),t.cleanup(),t.destroy()};this.clear=function(){o.select().each(ft),o.selectEndpoints().each(ft),w={},C={}},this.setDefaultScope=function(t){return k=t,o},this.setDraggable=function(t,e){return f.each(t,function(t){o.isDragSupported(t)&&(S[o.getAttribute(t,"id")]=e,o.setElementDraggable(t,e))})},this.deriveEndpointAndAnchorSpec=function(t,e){for(var n=((e?"":"default ")+t).split(/[\s]/),r=null,i=null,s=null,a=null,u=0;u<n.length;u++){var l=o.getType(n[u],"connection");l&&(l.endpoints&&(r=l.endpoints),l.endpoint&&(i=l.endpoint),l.anchors&&(a=l.anchors),l.anchor&&(s=l.anchor))}return{endpoints:r||[i,i],anchors:a||[s,s]}},this.setId=function(t,e,r){var o;n.isString(t)?o=t:(t=this.getElement(t),o=this.getId(t));var i=this.getConnections({source:o,scope:"*"},!0),s=this.getConnections({target:o,scope:"*"},!0);e=""+e,r?t=this.getElement(e):(t=this.getElement(o),this.setAttribute(t,"id",e)),w[e]=w[o]||[];for(var a=0,u=w[e].length;a<u;a++)w[e][a].setElementId(e),w[e][a].setReferenceElement(t);delete w[o],this.sourceEndpointDefinitions[e]=this.sourceEndpointDefinitions[o],delete this.sourceEndpointDefinitions[o],this.targetEndpointDefinitions[e]=this.targetEndpointDefinitions[o],delete this.targetEndpointDefinitions[o],this.anchorManager.changeId(o,e);var l=this.getDragManager();l&&l.changeId(o,e),x[e]=x[o],delete x[o];var c=function(n,r,o){for(var i=0,s=n.length;i<s;i++)n[i].endpoints[r].setElementId(e),n[i].endpoints[r].setReferenceElement(t),n[i][o+"Id"]=e,n[i][o]=t};c(i,0,"source"),c(s,1,"target"),this.repaint(e)},this.setDebugLog=function(t){y=t},this.setSuspendDrawing=function(t,e){var n=D;return D=t,A=t?(new Date).getTime():null,e&&this.repaintEverything(),n},this.isSuspendDrawing=function(){return D},this.getSuspendedAt=function(){return A},this.batch=function(t,e){var r=this.isSuspendDrawing();r||this.setSuspendDrawing(!0);try{t()}catch(o){n.log("Function run while suspended failed",o)}r||this.setSuspendDrawing(!1,!e)},this.doWhileSuspended=this.batch,this.getCachedData=function(t){var e=P[t];return e?{o:e,s:I[t]}:st({elId:t})},this.timestamp=r,this.show=function(t,e){return B(t,"block",e),o},this.toggleVisible=function(t,e){var n=null;e&&(n=function(t){var e=t.isVisible();t.setVisible(!e)}),V(t,function(t){var e=t.isVisible();t.setVisible(!e)},n)},this.toggleDraggable=function(t){var e;return f.each(t,(function(t){var n=o.getAttribute(t,"id");return S[n]=e=!(e=null!=S[n]&&S[n]),o.setDraggable(t,e),e}).bind(this)),e},this.addListener=this.bind;var vt=[];this.registerFloatingConnection=function(t,e,r){vt[t.id]=e,n.addToList(w,t.id,r)},this.getFloatingConnectionFor=function(t){return vt[t]}};n.extend(t.jsPlumbInstance,n.EventGenerator,{setAttribute:function(t,e,n){this.setAttribute(t,e,n)},getAttribute:function(e,n){return this.getAttribute(t.jsPlumb.getElement(e),n)},convertToFullOverlaySpec:function(t){return n.isString(t)&&(t=[t,{}]),t[1].id=t[1].id||n.uuid(),t},registerConnectionType:function(e,n){if(this._connectionTypes[e]=t.jsPlumb.extend({},n),n.overlays){for(var r={},o=0;o<n.overlays.length;o++){var i=this.convertToFullOverlaySpec(n.overlays[o]);r[i[1].id]=i}this._connectionTypes[e].overlays=r}},registerConnectionTypes:function(t){for(var e in t)this.registerConnectionType(e,t[e])},registerEndpointType:function(e,n){if(this._endpointTypes[e]=t.jsPlumb.extend({},n),n.overlays){for(var r={},o=0;o<n.overlays.length;o++){var i=this.convertToFullOverlaySpec(n.overlays[o]);r[i[1].id]=i}this._endpointTypes[e].overlays=r}},registerEndpointTypes:function(t){for(var e in t)this.registerEndpointType(e,t[e])},getType:function(t,e){return"connection"===e?this._connectionTypes[t]:this._endpointTypes[t]},setIdChanged:function(t,e){this.setId(t,e,!0)},setParent:function(t,e){var n=this.getElement(t),r=this.getId(n),o=this.getElement(e),i=this.getId(o),s=this.getDragManager();n.parentNode.removeChild(n),o.appendChild(n),s&&s.setParent(n,r,o,i)},extend:function(t,e,n){var r;if(n)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]];else for(r in e)t[r]=e[r];return t},floatingConnections:{},getFloatingAnchorIndex:function(t){return t.endpoints[0].isFloating()?0:t.endpoints[1].isFloating()?1:-1}});var f=new d;t.jsPlumb=f,f.getInstance=function(t,e){var n=new d(t);if(e)for(var r in e)n[r]=e[r];return n.init(),n},f.each=function(t,e){if(null!=t)if("string"==typeof t)e(f.getElement(t));else if(null!=t.length)for(var n=0;n<t.length;n++)e(f.getElement(t[n]));else e(t)},e.jsPlumb=f}).call("undefined"!=typeof window?window:this),(function(){var t=this.jsPlumbUtil,e=function(t,e){if(null==e)return[0,0];var n=s(e),r=i(n,0);return[r[t+"X"],r[t+"Y"]]},n=e.bind(this,"page"),r=e.bind(this,"screen"),o=e.bind(this,"client"),i=function(t,e){return t.item?t.item(e):t[e]},s=function(t){return t.touches&&t.touches.length>0?t.touches:t.changedTouches&&t.changedTouches.length>0?t.changedTouches:t.targetTouches&&t.targetTouches.length>0?t.targetTouches:[t]},a=function(t){var e={},n=[],r={},o={},i={};this.register=function(s){var a,u=t.getId(s);e[u]||(e[u]=s,n.push(s),r[u]={});var l=function(e){if(e)for(var n=0;n<e.childNodes.length;n++)if(3!==e.childNodes[n].nodeType&&8!==e.childNodes[n].nodeType){var c=jsPlumb.getElement(e.childNodes[n]),h=t.getId(e.childNodes[n],null,!0);if(h&&o[h]&&o[h]>0){a||(a=t.getOffset(s));var p=t.getOffset(c);r[u][h]={id:h,offset:{left:p.left-a.left,top:p.top-a.top}},i[h]=u}l(e.childNodes[n])}};l(s)},this.updateOffsets=function(e,n){if(null!=e){n=n||{};var o,s=jsPlumb.getElement(e),a=t.getId(s),u=r[a];if(u)for(var l in u)if(u.hasOwnProperty(l)){var c=jsPlumb.getElement(l),h=n[l]||t.getOffset(c);if(null==c.offsetParent&&null!=r[a][l])continue;o||(o=t.getOffset(s)),r[a][l]={id:l,offset:{left:h.left-o.left,top:h.top-o.top}},i[l]=a}}},this.endpointAdded=function(n,s){s=s||t.getId(n);var a=document.body,u=n.parentNode;for(o[s]=o[s]?o[s]+1:1;null!=u&&u!==a;){var l=t.getId(u,null,!0);if(l&&e[l]){var c=t.getOffset(u);if(null==r[l][s]){var h=t.getOffset(n);r[l][s]={id:s,offset:{left:h.left-c.left,top:h.top-c.top}},i[s]=l}break}u=u.parentNode}},this.endpointDeleted=function(t){if(o[t.elementId]&&(o[t.elementId]--,o[t.elementId]<=0))for(var e in r)r.hasOwnProperty(e)&&r[e]&&(delete r[e][t.elementId],delete i[t.elementId])},this.changeId=function(t,e){r[e]=r[t],r[t]={},i[e]=i[t],i[t]=null},this.getElementsForDraggable=function(t){return r[t]},this.elementRemoved=function(t){var e=i[t];e&&(delete r[e][t],delete i[t])},this.reset=function(){e={},n=[],r={},o={}},this.dragEnded=function(e){if(null!=e.offsetParent){var n=t.getId(e),r=i[n];r&&this.updateOffsets(r)}},this.setParent=function(e,n,o,s,a){var u=i[n];r[s]||(r[s]={});var l=t.getOffset(o),c=a||t.getOffset(e);u&&r[u]&&delete r[u][n],r[s][n]={id:n,offset:{left:c.left-l.left,top:c.top-l.top}},i[n]=s},this.clearParent=function(t,e){var n=i[e];n&&(delete r[n][e],delete i[e])},this.revalidateParent=function(e,n,r){var o=i[n];if(o){var s={};s[n]=r,this.updateOffsets(o,s),t.revalidate(o)}},this.getDragAncestor=function(e){var n=jsPlumb.getElement(e),r=t.getId(n),o=i[r];return o?jsPlumb.getElement(o):null}},u=function(t,e,n){var r;e=null==(r=e)?null:r.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0!==t.className.baseVal?t.className.baseVal=e:t.className=e;try{var o=t.classList;if(null!=o){for(;o.length>0;)o.remove(o.item(0));for(var i=0;i<n.length;i++)n[i]&&o.add(n[i])}}catch(s){jsPlumbUtil.log("JSPLUMB: cannot set class list",s)}},l=function(t){return void 0===t.className.baseVal?t.className:t.className.baseVal},c=function(e,n,r){n=null==n?[]:t.isArray(n)?n:n.split(/\s+/),r=null==r?[]:t.isArray(r)?r:r.split(/\s+/);var o=l(e).split(/\s+/),i=function(t,e){for(var n=0;n<e.length;n++)if(t)-1===o.indexOf(e[n])&&o.push(e[n]);else{var r=o.indexOf(e[n]);-1!==r&&o.splice(r,1)}};i(!0,n),i(!1,r),u(e,o.join(" "),o)};this.jsPlumb.extend(this.jsPlumbInstance.prototype,{headless:!1,pageLocation:n,screenLocation:r,clientLocation:o,getDragManager:function(){return null==this.dragManager&&(this.dragManager=new a(this)),this.dragManager},createElement:function(t,e,n,r){return this.createElementNS(null,t,e,n,r)},createElementNS:function(t,e,n,r,o){var i,s=null==t?document.createElement(e):document.createElementNS(t,e);for(i in n=n||{})s.style[i]=n[i];for(i in r&&(s.className=r),o=o||{})s.setAttribute(i,""+o[i]);return s},getAttribute:function(t,e){return null!=t.getAttribute?t.getAttribute(e):null},setAttribute:function(t,e,n){null!=t.setAttribute&&t.setAttribute(e,n)},setAttributes:function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setAttribute(n,e[n])},appendToRoot:function(t){document.body.appendChild(t)},getRenderModes:function(){return["svg"]},getClass:l,addClass:function(t,e){jsPlumb.each(t,function(t){c(t,e)})},hasClass:function(t,e){return(t=jsPlumb.getElement(t)).classList?t.classList.contains(e):-1!==l(t).indexOf(e)},removeClass:function(t,e){jsPlumb.each(t,function(t){c(t,null,e)})},toggleClass:function(t,e){jsPlumb.hasClass(t,e)?jsPlumb.removeClass(t,e):jsPlumb.addClass(t,e)},updateClasses:function(t,e,n){jsPlumb.each(t,function(t){c(t,e,n)})},setClass:function(t,e){null!=e&&jsPlumb.each(t,function(t){u(t,e,e.split(/\s+/))})},setPosition:function(t,e){t.style.left=e.left+"px",t.style.top=e.top+"px"},getPosition:function(t){var e=function(e){var n=t.style[e];return n?n.substring(0,n.length-2):0};return{left:e("left"),top:e("top")}},getStyle:function(t,e){return void 0!==window.getComputedStyle?getComputedStyle(t,null).getPropertyValue(e):t.currentStyle[e]},getSelector:function(t,e){return 1===arguments.length?null!=t.nodeType?t:document.querySelectorAll(t):t.querySelectorAll(e)},getOffset:function(t,e,n){t=jsPlumb.getElement(t),n=n||this.getContainer();for(var r={left:t.offsetLeft,top:t.offsetTop},o=e||null!=n&&t!==n&&t.offsetParent!==n?t.offsetParent:null,i=(function(t){null!=t&&t!==document.body&&(t.scrollTop>0||t.scrollLeft>0)&&(r.left-=t.scrollLeft,r.top-=t.scrollTop)}).bind(this);null!=o;)r.left+=o.offsetLeft,r.top+=o.offsetTop,i(o),o=e?o.offsetParent:o.offsetParent===n?null:o.offsetParent;if(null!=n&&!e&&(n.scrollTop>0||n.scrollLeft>0)){var s=null!=t.offsetParent?this.getStyle(t.offsetParent,"position"):"static",a=this.getStyle(t,"position");"absolute"!==a&&"fixed"!==a&&"absolute"!==s&&"fixed"!==s&&(r.left-=n.scrollLeft,r.top-=n.scrollTop)}return r},getPositionOnElement:function(t,e,n){var r=void 0!==e.getBoundingClientRect?e.getBoundingClientRect():{left:0,top:0,width:0,height:0},o=document.body,i=document.documentElement,s=window.pageYOffset||i.scrollTop||o.scrollTop,a=window.pageXOffset||i.scrollLeft||o.scrollLeft,u=r.top+s-(i.clientTop||o.clientTop||0)+0*n,l=r.left+a-(i.clientLeft||o.clientLeft||0)+0*n,c=jsPlumb.pageLocation(t);return[(c[0]-l)/(r.width||e.offsetWidth*n),(c[1]-u)/(r.height||e.offsetHeight*n)]},getAbsolutePosition:function(t){var e=function(e){var n=t.style[e];if(n)return parseFloat(n.substring(0,n.length-2))};return[e("left"),e("top")]},setAbsolutePosition:function(t,e,n,r){n?this.animate(t,{left:"+="+(e[0]-n[0]),top:"+="+(e[1]-n[1])},r):(t.style.left=e[0]+"px",t.style.top=e[1]+"px")},getSize:function(t){return[t.offsetWidth,t.offsetHeight]},getWidth:function(t){return t.offsetWidth},getHeight:function(t){return t.offsetHeight},getRenderMode:function(){return"svg"}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil;e.OverlayCapableJsPlumbUIComponent=function(e){t.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.overlays={},this._jsPlumb.overlayPositions={},e.label&&(this.getDefaultType().overlays.__label=["Label",{label:e.label,location:e.labelLocation||this.defaultLabelLocation||.5,labelStyle:e.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle,id:"__label"}]),this.setListenerComponent=function(t){if(this._jsPlumb)for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].setListenerComponent(t)}},e.OverlayCapableJsPlumbUIComponent.applyType=function(t,e){if(e.overlays){var n,r={};for(n in e.overlays){var o=t._jsPlumb.overlays[e.overlays[n][1].id];if(o)o.updateFrom(e.overlays[n][1]),r[e.overlays[n][1].id]=!0;else{var i=t.getCachedTypeItem("overlay",e.overlays[n][1].id);null!=i?(i.reattach(t._jsPlumb.instance,t),i.setVisible(!0),i.updateFrom(e.overlays[n][1]),t._jsPlumb.overlays[i.id]=i):i=t.addOverlay(e.overlays[n],!0),r[i.id]=!0}}for(n in t._jsPlumb.overlays)null==r[t._jsPlumb.overlays[n].id]&&t.removeOverlay(t._jsPlumb.overlays[n].id,!0)}},n.extend(e.OverlayCapableJsPlumbUIComponent,t.jsPlumbUIComponent,{setHover:function(t,e){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var n in this._jsPlumb.overlays)this._jsPlumb.overlays[n][t?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(t,r){var o=function(t,r){var o=null;if(n.isArray(r)){var i=r[0],s=e.extend({component:t,_jsPlumb:t._jsPlumb.instance},r[1]);3===r.length&&e.extend(s,r[2]),o=new(e.Overlays[t._jsPlumb.instance.getRenderMode()][i])(s)}else o=r.constructor===String?new(e.Overlays[t._jsPlumb.instance.getRenderMode()][r])({component:t,_jsPlumb:t._jsPlumb.instance}):r;return o.id=o.id||n.uuid(),t.cacheTypeItem("overlay",o,o.id),t._jsPlumb.overlays[o.id]=o,o}(this,t);return r||this.repaint(),o},getOverlay:function(t){return this._jsPlumb.overlays[t]},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(t){var e=this.getOverlay(t);e&&e.hide()},hideOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].hide()},showOverlay:function(t){var e=this.getOverlay(t);e&&e.show()},showOverlays:function(){for(var t in this._jsPlumb.overlays)this._jsPlumb.overlays[t].show()},removeAllOverlays:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup&&this._jsPlumb.overlays[e].cleanup();this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null,this._jsPlumb.overlayPlacements={},t||this.repaint()},removeOverlay:function(t,e){var n=this._jsPlumb.overlays[t];n&&(n.setVisible(!1),!e&&n.cleanup&&n.cleanup(),delete this._jsPlumb.overlays[t],this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[t],this._jsPlumb.overlayPlacements&&delete this._jsPlumb.overlayPlacements[t])},removeOverlays:function(){for(var t=0,e=arguments.length;t<e;t++)this.removeOverlay(arguments[t])},moveParent:function(t){if(this.bgCanvas&&(this.bgCanvas.parentNode.removeChild(this.bgCanvas),t.appendChild(this.bgCanvas)),this.canvas&&this.canvas.parentNode)for(var e in this.canvas.parentNode.removeChild(this.canvas),t.appendChild(this.canvas),this._jsPlumb.overlays)if(this._jsPlumb.overlays[e].isAppendedAtTopLevel){var n=this._jsPlumb.overlays[e].getElement();n.parentNode.removeChild(n),t.appendChild(n)}},getLabel:function(){var t=this.getOverlay("__label");return null!=t?t.getLabel():null},getLabelOverlay:function(){return this.getOverlay("__label")},setLabel:function(t){var n=this.getOverlay("__label");n?t.constructor===String||t.constructor===Function?n.setLabel(t):(t.label&&n.setLabel(t.label),t.location&&n.setLocation(t.location)):(n=function(t,n){var r=e.extend({cssClass:n.cssClass,labelStyle:t.labelStyle,id:"__label",component:t,_jsPlumb:t._jsPlumb.instance},n);return new(e.Overlays[t._jsPlumb.instance.getRenderMode()].Label)(r)}(this,t.constructor===String||t.constructor===Function?{label:t}:t),this._jsPlumb.overlays.__label=n),this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(t){for(var e in this._jsPlumb.overlays)this._jsPlumb.overlays[e].cleanup(t),this._jsPlumb.overlays[e].destroy(t);t&&(this._jsPlumb.overlays={},this._jsPlumb.overlayPositions=null)},setVisible:function(t){this[t?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(t,e){this._jsPlumb.overlayPositions[t.id]=e},getAbsoluteOverlayPosition:function(t){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[t.id]:null},_clazzManip:function(t,e,n){if(!n)for(var r in this._jsPlumb.overlays)this._jsPlumb.overlays[r][t+"Class"](e)},addClass:function(t,e){this._clazzManip("add",t,e)},removeClass:function(t,e){this._clazzManip("remove",t,e)}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"];t.Endpoint=function(r){var o=r._jsPlumb,i=r.newConnection,s=r.newEndpoint;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],t.OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.appendToDefaultType({connectionType:r.connectionType,maxConnections:null==r.maxConnections?this._jsPlumb.instance.Defaults.MaxConnections:r.maxConnections,paintStyle:r.endpointStyle||r.paintStyle||r.style||this._jsPlumb.instance.Defaults.EndpointStyle||t.Defaults.EndpointStyle,hoverPaintStyle:r.endpointHoverStyle||r.hoverPaintStyle||this._jsPlumb.instance.Defaults.EndpointHoverStyle||t.Defaults.EndpointHoverStyle,connectorStyle:r.connectorStyle,connectorHoverStyle:r.connectorHoverStyle,connectorClass:r.connectorClass,connectorHoverClass:r.connectorHoverClass,connectorOverlays:r.connectorOverlays,connector:r.connector,connectorTooltip:r.connectorTooltip}),this._jsPlumb.enabled=!(!1===r.enabled),this._jsPlumb.visible=!0,this.element=t.getElement(r.source),this._jsPlumb.uuid=r.uuid,this._jsPlumb.floatingEndpoint=null,this._jsPlumb.uuid&&(r.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=r.elementId,this.dragProxy=r.dragProxy,this._jsPlumb.connectionCost=r.connectionCost,this._jsPlumb.connectionsDirected=r.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var a=!0===r.deleteOnEmpty;this.setDeleteOnEmpty=function(t){a=t};var u=(function(){var e=o.endpointAnchorClassPrefix+"-"+this._jsPlumb.currentAnchorClass;this._jsPlumb.currentAnchorClass=this.anchor.getCssClass();var n=o.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"");this.removeClass(e),this.addClass(n),t.updateClasses(this.element,n,e)}).bind(this);this.prepareAnchor=function(t){var e=this._jsPlumb.instance.makeAnchor(t,this.elementId,o);return e.bind("anchorChanged",(function(t){this.fire("anchorChanged",{endpoint:this,anchor:t}),u()}).bind(this)),e},this.setPreparedAnchor=function(t,e){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=t,u(),e||this._jsPlumb.instance.repaint(this.elementId),this},this.setAnchor=function(t,e){var n=this.prepareAnchor(t);return this.setPreparedAnchor(n,e),this};var l=(function(t){if(this.connections.length>0)for(var e=0;e<this.connections.length;e++)this.connections[e].setHover(t,!1);else this.setHover(t)}).bind(this);this.bind("mouseover",function(){l(!0)}),this.bind("mouseout",function(){l(!1)}),r._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.prepareEndpoint=function(n,i){var s,a=function(e,n){var r=o.getRenderMode();if(t.Endpoints[r][e])return new t.Endpoints[r][e](n);if(!o.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+e+"'"}},u={_jsPlumb:this._jsPlumb.instance,cssClass:r.cssClass,container:r.container,tooltip:r.tooltip,connectorTooltip:r.connectorTooltip,endpoint:this};return e.isString(n)?s=a(n,u):e.isArray(n)?(u=e.merge(n[1],u),s=a(n[0],u)):s=n.clone(),s.clone=(function(){return e.isString(n)?a(n,u):e.isArray(n)?(u=e.merge(n[1],u),a(n[0],u)):void 0}).bind(this),s.typeId=i,s},this.setEndpoint=function(t,e){var n=this.prepareEndpoint(t);this.setPreparedEndpoint(n,!0)},this.setPreparedEndpoint=function(t,e){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy()),this.endpoint=t,this.type=this.endpoint.type,this.canvas=this.endpoint.canvas},t.extend(this,r,n),this.isSource=r.isSource||!1,this.isTemporarySource=r.isTemporarySource||!1,this.isTarget=r.isTarget||!1,this.connections=r.connections||[],this.connectorPointerEvents=r["connector-pointer-events"],this.scope=r.scope||o.getDefaultScope(),this.timestamp=null,this.reattachConnections=r.reattach||o.Defaults.ReattachConnections,this.connectionsDetachable=o.Defaults.ConnectionsDetachable,!1!==r.connectionsDetachable&&!1!==r.detachable||(this.connectionsDetachable=!1),this.dragAllowedWhenFull=!1!==r.dragAllowedWhenFull,r.onMaxConnections&&this.bind("maxConnections",r.onMaxConnections),this.addConnection=function(t){this.connections.push(t),this[(this.connections.length>0?"add":"remove")+"Class"](o.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](o.endpointFullClass)},this.detachFromConnection=function(t,e,n){(e=null==e?this.connections.indexOf(t):e)>=0&&(this.connections.splice(e,1),this[(this.connections.length>0?"add":"remove")+"Class"](o.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](o.endpointFullClass)),!n&&a&&0===this.connections.length&&o.deleteObject({endpoint:this,fireEvent:!1,deleteAttachedObjects:!0!==n})},this.deleteEveryConnection=function(t){for(var e=this.connections.length,n=0;n<e;n++)o.deleteConnection(this.connections[0],t)},this.detachFrom=function(t,e,n){for(var r=[],i=0;i<this.connections.length;i++)this.connections[i].endpoints[1]!==t&&this.connections[i].endpoints[0]!==t||r.push(this.connections[i]);for(var s=0,a=r.length;s<a;s++)o.deleteConnection(r[0]);return this},this.getElement=function(){return this.element},this.setElement=function(n){var i=this._jsPlumb.instance.getId(n),s=this.elementId;return e.removeWithFunction(r.endpointsByElement[this.elementId],(function(t){return t.id===this.id}).bind(this)),this.element=t.getElement(n),this.elementId=o.getId(this.element),o.anchorManager.rehomeEndpoint(this,s,this.element),o.dragManager.endpointAdded(this.element),e.addToList(r.endpointsByElement,i,this),this},this.makeInPlaceCopy=function(){var t=this.anchor.getCurrentLocation({element:this}),e=this.anchor.getOrientation(this),n=this.anchor.getCssClass();return s({dropOptions:r.dropOptions,anchor:{bind:function(){},compute:function(){return[t[0],t[1]]},getCurrentLocation:function(){return[t[0],t[1]]},getOrientation:function(){return e},getCssClass:function(){return n}},source:this.element,paintStyle:this.getPaintStyle(),endpoint:r.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope,reference:this})},this.connectorSelector=function(){return this.connections[0]},this.setStyle=this.setPaintStyle,this.paint=function(t){var e=(t=t||{}).timestamp,n=!(!1===t.recalc);if(!e||this.timestamp!==e){var r=o.updateOffset({elId:this.elementId,timestamp:e}),i=t.offset?t.offset.o:r.o;if(null!=i){var s=t.anchorPoint,a=t.connectorPaintStyle;if(null==s){var u={xy:[i.left,i.top],wh:t.dimensions||r.s,element:this,timestamp:e};if(n&&this.anchor.isDynamic&&this.connections.length>0){var l=function(t,e){var n=0;if(null!=e)for(var r=0;r<t.connections.length;r++)if(t.connections[r].sourceId===e||t.connections[r].targetId===e){n=r;break}return t.connections[n]}(this,t.elementWithPrecedence),c=l.endpoints[0]===this?1:0,h=o.getCachedData(0===c?l.sourceId:l.targetId),p=h.o,d=h.s;u.index=0===c?1:0,u.connection=l,u.txy=[p.left,p.top],u.twh=d,u.tElement=l.endpoints[c]}else this.connections.length>0&&(u.connection=this.connections[0]);s=this.anchor.compute(u)}for(var f in this.endpoint.compute(s,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,a||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=e,this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(f)){var v=this._jsPlumb.overlays[f];v.isVisible()&&(this._jsPlumb.overlayPlacements[f]=v.draw(this.endpoint,this._jsPlumb.paintStyleInUse),v.paint(this._jsPlumb.overlayPlacements[f]))}}}},this.getTypeDescriptor=function(){return"endpoint"},this.isVisible=function(){return this._jsPlumb.visible},this.repaint=this.paint;var c=!1;this.initDraggable=function(){if(!c&&t.isDragSupported(this.element)){var n,a={id:null,element:null},u=null,l=!1,h=null,p=function(t,e,n){var r=!1;return{drag:function(){if(r)return r=!1,!0;if(e.element){var o=n.getUIPosition(arguments,n.getZoom());null!=o&&n.setPosition(e.element,o),n.repaint(e.element,o),t.paint({anchorPoint:t.anchor.getCurrentLocation({element:t})})}},stopDrag:function(){r=!0}}}(this,a,o),d=r.dragOptions||{},f=t.dragEvents.start,v=t.dragEvents.stop,g=t.dragEvents.drag,m=t.dragEvents.beforeStart,y=(function(e){u=this.connectorSelector();var c=!0;this.isEnabled()||(c=!1),null!=u||this.isSource||this.isTemporarySource||(c=!1),!this.isSource||!this.isFull()||null!=u&&this.dragAllowedWhenFull||(c=!1),null==u||u.isDetachable(this)||(this.isFull()?c=!1:u=null);var d=o.checkCondition(null==u?"beforeDrag":"beforeStartDetach",{endpoint:this,source:this.element,sourceId:this.elementId,connection:u});if(!1===d?c=!1:"object"==typeof d?t.extend(d,n||{}):d=n||{},!1===c)return o.stopDrag&&o.stopDrag(this.canvas),p.stopDrag(),!1;for(var f=0;f<this.connections.length;f++)this.connections[f].setHover(!1);this.addClass("endpointDrag"),o.setConnectionBeingDragged(!0),u&&!this.isFull()&&this.isSource&&(u=null),o.updateOffset({elId:this.elementId});var v=this._jsPlumb.instance.getOffset(this.canvas),g=this.canvas,m=this._jsPlumb.instance.getSize(this.canvas);!function(t,e,n,r){var o=e.createElement("div",{position:"absolute"});e.appendElement(o);var i=e.getId(o);e.setPosition(o,n),o.style.width=r[0]+"px",o.style.height=r[1]+"px",e.manage(i,o,!0),t.id=i,t.element=o}(a,o,v,m),o.setAttributes(this.canvas,{dragId:a.id,elId:this.elementId});var y=this.dragProxy||this.endpoint;if(null==this.dragProxy&&null!=this.connectionType){var b=this._jsPlumb.instance.deriveEndpointAndAnchorSpec(this.connectionType);b.endpoints[1]&&(y=b.endpoints[1])}var _=this._jsPlumb.instance.makeAnchor("Center");_.isFloating=!0,this._jsPlumb.floatingEndpoint=function(e,n,r,o,i,s,a,u){return a({paintStyle:e,endpoint:y,anchor:new t.FloatingAnchor({reference:_,referenceCanvas:o,jsPlumbInstance:s}),source:i,scope:u})}(this.getPaintStyle(),0,0,this.canvas,a.element,o,s,this.scope);var w=this._jsPlumb.floatingEndpoint.anchor;if(null==u)this.setHover(!1,!1),(u=i({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.element,target:a.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:r.connectorStyle,hoverPaintStyle:r.connectorHoverStyle,connector:r.connector,overlays:r.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass,scope:r.scope,data:d})).pending=!0,u.addClass(o.draggingClass),this._jsPlumb.floatingEndpoint.addClass(o.draggingClass),this._jsPlumb.floatingEndpoint.anchor=w,o.fire("connectionDrag",u),o.anchorManager.newConnection(u);else{l=!0,u.setHover(!1);var C=u.endpoints[0].id===this.id?0:1;this.detachFromConnection(u,null,!0);var x=o.getDragScope(g);o.setAttribute(this.canvas,"originalScope",x),o.fire("connectionDrag",u),0===C?(h=[u.source,u.sourceId,g,x],o.anchorManager.sourceChanged(u.endpoints[C].elementId,a.id,u,a.element)):(h=[u.target,u.targetId,g,x],u.target=a.element,u.targetId=a.id,o.anchorManager.updateOtherEndpoint(u.sourceId,u.endpoints[C].elementId,u.targetId,u)),u.suspendedEndpoint=u.endpoints[C],u.suspendedElement=u.endpoints[C].getElement(),u.suspendedElementId=u.endpoints[C].elementId,u.suspendedElementType=0===C?"source":"target",u.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=u.suspendedEndpoint,u.endpoints[C]=this._jsPlumb.floatingEndpoint,u.addClass(o.draggingClass),this._jsPlumb.floatingEndpoint.addClass(o.draggingClass)}o.registerFloatingConnection(a,u,this._jsPlumb.floatingEndpoint),o.currentlyDragging=!0}).bind(this),b=(function(){if(o.setConnectionBeingDragged(!1),u&&null!=u.endpoints){var t=o.getDropEvent(arguments),e=o.getFloatingAnchorIndex(u);if(u.endpoints[0===e?1:0].anchor.unlock(),u.removeClass(o.draggingClass),this._jsPlumb&&(u.deleteConnectionNow||u.endpoints[e]===this._jsPlumb.floatingEndpoint)&&l&&u.suspendedEndpoint){0===e?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=h[0],u.sourceId=h[1]):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=h[0],u.targetId=h[1]);var n=this._jsPlumb.floatingEndpoint;o.setDragScope(h[2],h[3]),u.endpoints[e]=u.suspendedEndpoint,u.isReattach()||u._forceReattach||u._forceDetach||!o.deleteConnection(u,{originalEvent:t})?(u.setHover(!1),u._forceDetach=null,u._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(u),u.suspendedEndpoint.addConnection(u),1===e?o.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):o.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),o.repaint(h[1])):o.deleteObject({endpoint:n})}this.deleteAfterDragStop?o.deleteObject({endpoint:this}):this._jsPlumb&&this.paint({recalc:!1}),o.fire("connectionDragStop",u,t),u.pending&&o.fire("connectionAborted",u,t),o.currentlyDragging=!1,u.suspendedElement=null,u.suspendedEndpoint=null,u=null}a&&a.element&&o.remove(a.element,!1,!1),this._jsPlumb&&(this.canvas.style.visibility="visible",this.anchor.unlock(),this._jsPlumb.floatingEndpoint=null)}).bind(this);(d=t.extend({},d)).scope=this.scope||d.scope,d[m]=e.wrap(d[m],function(t){n=t.e.payload||{}},!1),d[f]=e.wrap(d[f],y,!1),d[g]=e.wrap(d[g],p.drag),d[v]=e.wrap(d[v],b),d.multipleDrop=!1,d.canDrag=(function(){return this.isSource||this.isTemporarySource||this.connections.length>0&&!1!==this.connectionsDetachable}).bind(this),o.initDraggable(this.canvas,d,"internal"),this.canvas._jsPlumbRelatedElement=this.element,c=!0}},this.setEndpoint(r.endpoint||this._jsPlumb.instance.Defaults.Endpoint||t.Defaults.Endpoint,!0),this.setAnchor(r.anchor?r.anchor:r.anchors?r.anchors:o.Defaults.Anchor||"Top",!0);var h=["default",r.type||""].join(" ");this.addType(h,r.data,!0),this.canvas=this.endpoint.canvas,this.canvas._jsPlumb=this,this.initDraggable();var p=(function(n,i,s,a){if(t.isDropSupported(this.element)){var u=r.dropOptions||o.Defaults.DropOptions||t.Defaults.DropOptions;(u=t.extend({},u)).scope=u.scope||this.scope;var l=t.dragEvents.drop,c=t.dragEvents.over,h=t.dragEvents.out,p=this,d=o.EndpointDropHandler({getEndpoint:function(){return p},jsPlumb:o,enabled:function(){return null==s||s.isEnabled()},isFull:function(){return s.isFull()},element:this.element,elementId:this.elementId,isSource:this.isSource,isTarget:this.isTarget,addClass:function(t){p.addClass(t)},removeClass:function(t){p.removeClass(t)},isDropAllowed:function(){return p.isDropAllowed.apply(p,arguments)},reference:a,isRedrop:function(t,e){return t.suspendedEndpoint&&e.reference&&t.suspendedEndpoint.id===e.reference.id}});u[l]=e.wrap(u[l],d,!0),u[c]=e.wrap(u[c],(function(){var e=t.getDragObject(arguments),n=o.getAttribute(t.getElement(e),"dragId"),r=o.getFloatingConnectionFor(n);if(null!=r){var i=o.getFloatingAnchorIndex(r);if(this.isTarget&&0!==i||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id){var s=o.checkCondition("checkDropAllowed",{sourceEndpoint:r.endpoints[i],targetEndpoint:this,connection:r});this[(s?"add":"remove")+"Class"](o.endpointDropAllowedClass),this[(s?"remove":"add")+"Class"](o.endpointDropForbiddenClass),r.endpoints[i].anchor.over(this.anchor,this)}}}).bind(this)),u[h]=e.wrap(u[h],(function(){var e=t.getDragObject(arguments),n=null==e?null:o.getAttribute(t.getElement(e),"dragId"),r=n?o.getFloatingConnectionFor(n):null;if(null!=r){var i=o.getFloatingAnchorIndex(r);(this.isTarget&&0!==i||r.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id===r.suspendedEndpoint.id)&&(this.removeClass(o.endpointDropAllowedClass),this.removeClass(o.endpointDropForbiddenClass),r.endpoints[i].anchor.out())}}).bind(this)),o.initDroppable(n,u,"internal",i)}}).bind(this);return this.anchor.isFloating||p(this.canvas,!(r._transient||this.anchor.isFloating),this,r.reference),this},e.extend(t.Endpoint,t.OverlayCapableJsPlumbUIComponent,{setVisible:function(t,e,n){if(this._jsPlumb.visible=t,this.canvas&&(this.canvas.style.display=t?"block":"none"),this[t?"showOverlays":"hideOverlays"](),!e)for(var r=0;r<this.connections.length;r++)if(this.connections[r].setVisible(t),!n){var o=this===this.connections[r].endpoints[0]?1:0;1===this.connections[r].endpoints[o].connections.length&&this.connections[r].endpoints[o].setVisible(t,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(e,r){this.setPaintStyle(e.endpointStyle||e.paintStyle,r),this.setHoverPaintStyle(e.endpointHoverStyle||e.hoverPaintStyle,r),null!=e.maxConnections&&(this._jsPlumb.maxConnections=e.maxConnections),e.scope&&(this.scope=e.scope),t.extend(this,e,n),null!=e.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,e.cssClass),t.OverlayCapableJsPlumbUIComponent.applyType(this,e)},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(t){this._jsPlumb.enabled=t},cleanup:function(){t.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+(this._jsPlumb.currentAnchorClass?"-"+this._jsPlumb.currentAnchorClass:"")),this.anchor=null,this.endpoint.cleanup(!0),this.endpoint.destroy(),this.endpoint=null,this._jsPlumb.instance.destroyDraggable(this.canvas,"internal"),this._jsPlumb.instance.destroyDroppable(this.canvas,"internal")},setHover:function(t){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(t)},isFull:function(){return 0===this._jsPlumb.maxConnections||!(this.isFloating()||this._jsPlumb.maxConnections<0||this.connections.length<this._jsPlumb.maxConnections)},isFloating:function(){return null!=this.anchor&&this.anchor.isFloating},isConnectedTo:function(t){var e=!1;if(t)for(var n=0;n<this.connections.length;n++)if(this.connections[n].endpoints[1]===t||this.connections[n].endpoints[0]===t){e=!0;break}return e},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(t){this._jsPlumb.connectionCost=t},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(t){this._jsPlumb.connectionsDirected=t},setElementId:function(t){this.elementId=t,this.anchor.elementId=t},setReferenceElement:function(e){this.element=t.getElement(e)},setDragAllowedWhenFull:function(t){this.dragAllowedWhenFull=t},equals:function(t){return this.anchor.equals(t.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(t){return this.anchor.compute(t)}}),this.jsPlumbInstance.prototype.EndpointDropHandler=function(t){return function(n){var r=t.jsPlumb;t.removeClass(r.endpointDropAllowedClass),t.removeClass(r.endpointDropForbiddenClass);var o=r.getDropEvent(arguments),i=r.getDragObject(arguments),s=r.getAttribute(i,"dragId"),a=(r.getAttribute(i,"elId"),r.getAttribute(i,"originalScope")),u=r.getFloatingConnectionFor(s);if(null!=u){var l=null!=u.suspendedEndpoint;if(!l||null!=u.suspendedEndpoint._jsPlumb){var c=t.getEndpoint(u);if(null!=c){if(t.isRedrop(u,t))return u._forceReattach=!0,u.setHover(!1),void(t.maybeCleanup&&t.maybeCleanup(c));var h=r.getFloatingAnchorIndex(u);if(0===h&&!t.isSource||1===h&&!t.isTarget)t.maybeCleanup&&t.maybeCleanup(c);else{t.onDrop&&t.onDrop(u),a&&r.setDragScope(i,a);var p=t.isFull(n);if(p&&c.fire("maxConnections",{endpoint:this,connection:u,maxConnections:c._jsPlumb.maxConnections},o),!p&&t.enabled()){var d=!0;0===h?(u.floatingElement=u.source,u.floatingId=u.sourceId,u.floatingEndpoint=u.endpoints[0],u.floatingIndex=0,u.source=t.element,u.sourceId=t.elementId):(u.floatingElement=u.target,u.floatingId=u.targetId,u.floatingEndpoint=u.endpoints[1],u.floatingIndex=1,u.target=t.element,u.targetId=t.elementId),l&&u.suspendedEndpoint.id!==c.id&&(u.isDetachAllowed(u)&&u.endpoints[h].isDetachAllowed(u)&&u.suspendedEndpoint.isDetachAllowed(u)&&r.checkCondition("beforeDetach",u)||(d=!1));var f=(function(n){u.endpoints[h].detachFromConnection(u),u.suspendedEndpoint&&u.suspendedEndpoint.detachFromConnection(u),u.endpoints[h]=c,c.addConnection(u);var i=c.getParameters();for(var s in i)u.setParameter(s,i[s]);if(l){var a=u.suspendedEndpoint.elementId;r.fireMoveEvent({index:h,originalSourceId:0===h?a:u.sourceId,newSourceId:0===h?c.elementId:u.sourceId,originalTargetId:1===h?a:u.targetId,newTargetId:1===h?c.elementId:u.targetId,originalSourceEndpoint:0===h?u.suspendedEndpoint:u.endpoints[0],newSourceEndpoint:0===h?c:u.endpoints[0],originalTargetEndpoint:1===h?u.suspendedEndpoint:u.endpoints[1],newTargetEndpoint:1===h?c:u.endpoints[1],connection:u},o)}else i.draggable&&r.initDraggable(this.element,t.dragOptions,"internal",r);1===h?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),u.endpoints[0].finalEndpoint&&(u.endpoints[0].detachFromConnection(u),u.endpoints[0]=u.endpoints[0].finalEndpoint,u.endpoints[0].addConnection(u)),e.isObject(n)&&u.mergeData(n),r.finaliseConnection(u,null,o,!1),u.setHover(!1),r.revalidate(u.endpoints[0].element)}).bind(this);if(d=d&&t.isDropAllowed(u.sourceId,u.targetId,u.scope,u,c))return f(d),!0;u.suspendedEndpoint&&(u.endpoints[h]=u.suspendedEndpoint,u.setHover(!1),u._forceDetach=!0,0===h?(u.source=u.suspendedEndpoint.element,u.sourceId=u.suspendedEndpoint.elementId):(u.target=u.suspendedEndpoint.element,u.targetId=u.suspendedEndpoint.elementId),u.suspendedEndpoint.addConnection(u),1===h?r.anchorManager.updateOtherEndpoint(u.sourceId,u.floatingId,u.targetId,u):r.anchorManager.sourceChanged(u.floatingId,u.sourceId,u,u.source),r.repaint(u.sourceId),u._forceDetach=!1)}t.maybeCleanup&&t.maybeCleanup(c),r.currentlyDragging=!1}}}}}}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,r=function(t,r,o,i,s){if(e.Connectors[r]=e.Connectors[r]||{},null==e.Connectors[r][o]){if(null==e.Connectors[o]){if(t.Defaults.DoNotThrowErrors)return null;throw new TypeError("jsPlumb: unknown connector type '"+o+"'")}e.Connectors[r][o]=function(){e.Connectors[o].apply(this,arguments),e.ConnectorRenderers[r].apply(this,arguments)},n.extend(e.Connectors[r][o],[e.Connectors[o],e.ConnectorRenderers[r]])}return new e.Connectors[r][o](i,s)},o=function(t,e,n){return t?n.makeAnchor(t,e,n):null},i=function(t,e,r,o){null!=e&&(e._jsPlumbConnections=e._jsPlumbConnections||{},o?delete e._jsPlumbConnections[t.id]:e._jsPlumbConnections[t.id]=!0,n.isEmpty(e._jsPlumbConnections)?r.removeClass(e,r.connectedClass):r.addClass(e,r.connectedClass))};e.Connection=function(t){var r=t.newEndpoint;this.id=t.id,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.previousConnection=t.previousConnection,this.source=e.getElement(t.source),this.target=e.getElement(t.target),e.OverlayCapableJsPlumbUIComponent.apply(this,arguments),t.sourceEndpoint?(this.source=t.sourceEndpoint.getElement(),this.sourceId=t.sourceEndpoint.elementId):this.sourceId=this._jsPlumb.instance.getId(this.source),t.targetEndpoint?(this.target=t.targetEndpoint.getElement(),this.targetId=t.targetEndpoint.elementId):this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=t.scope,this.endpoints=[],this.endpointStyles=[];var o=this._jsPlumb.instance;o.manage(this.sourceId,this.source),o.manage(this.targetId,this.target),this._jsPlumb.visible=!0,this._jsPlumb.params={cssClass:t.cssClass,container:t.container,"pointer-events":t["pointer-events"],editorParams:t.editorParams,overlays:t.overlays},this._jsPlumb.lastPaintedAt=null,this.bind("mouseover",(function(){this.setHover(!0)}).bind(this)),this.bind("mouseout",(function(){this.setHover(!1)}).bind(this)),this.makeEndpoint=function(e,n,i,s){return i=i||this._jsPlumb.instance.getId(n),this.prepareEndpoint(o,r,this,s,e?0:1,t,n,i)},t.type&&(t.endpoints=t.endpoints||this._jsPlumb.instance.deriveEndpointAndAnchorSpec(t.type).endpoints);var i=this.makeEndpoint(!0,this.source,this.sourceId,t.sourceEndpoint),s=this.makeEndpoint(!1,this.target,this.targetId,t.targetEndpoint);i&&n.addToList(t.endpointsByElement,this.sourceId,i),s&&n.addToList(t.endpointsByElement,this.targetId,s),this.scope||(this.scope=this.endpoints[0].scope),null!=t.deleteEndpointsOnEmpty&&(this.endpoints[0].setDeleteOnEmpty(t.deleteEndpointsOnEmpty),this.endpoints[1].setDeleteOnEmpty(t.deleteEndpointsOnEmpty));var a=o.Defaults.ConnectionsDetachable;!1===t.detachable&&(a=!1),!1===this.endpoints[0].connectionsDetachable&&(a=!1),!1===this.endpoints[1].connectionsDetachable&&(a=!1),this.appendToDefaultType({detachable:a,reattach:t.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||o.Defaults.ReattachConnections,paintStyle:this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||t.paintStyle||o.Defaults.PaintStyle||e.Defaults.PaintStyle,hoverPaintStyle:this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||t.hoverPaintStyle||o.Defaults.HoverPaintStyle||e.Defaults.HoverPaintStyle});var u=o.getSuspendedAt();if(!o.isSuspendDrawing()){var l=o.getCachedData(this.sourceId),c=l.o,h=l.s,p=o.getCachedData(this.targetId),d=p.o,f=p.s,v=u||o.timestamp(),g=this.endpoints[0].anchor.compute({xy:[c.left,c.top],wh:h,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[d.left,d.top],twh:f,tElement:this.endpoints[1],timestamp:v});this.endpoints[0].paint({anchorLoc:g,timestamp:v}),g=this.endpoints[1].anchor.compute({xy:[d.left,d.top],wh:f,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[c.left,c.top],twh:h,tElement:this.endpoints[0],timestamp:v}),this.endpoints[1].paint({anchorLoc:g,timestamp:v})}this.getTypeDescriptor=function(){return"connection"},this.getAttachedElements=function(){return this.endpoints},this.isDetachable=function(t){return null!=t?!0===t.connectionsDetachable:!0===this._jsPlumb.detachable},this.setDetachable=function(t){this._jsPlumb.detachable=!0===t},this.isReattach=function(){return!0===this._jsPlumb.reattach||!0===this.endpoints[0].reattachConnections||!0===this.endpoints[1].reattachConnections},this.setReattach=function(t){this._jsPlumb.reattach=!0===t},this._jsPlumb.cost=t.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=t.directed,null==t.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var m=e.extend({},this.endpoints[1].getParameters());e.extend(m,this.endpoints[0].getParameters()),e.extend(m,this.getParameters()),this.setParameters(m),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||t.connector||o.Defaults.Connector||e.Defaults.Connector,!0);var y=null!=t.data&&n.isObject(t.data)?t.data:{};this.getData=function(){return y},this.setData=function(t){y=t||{}},this.mergeData=function(t){y=e.extend(y,t)};var b=["default",this.endpoints[0].connectionType,this.endpoints[1].connectionType,t.type].join(" ");/[^\s]/.test(b)&&this.addType(b,t.data,!0),this.updateConnectedClass()},n.extend(e.Connection,e.OverlayCapableJsPlumbUIComponent,{applyType:function(t,n,r){var o=null;null!=t.connector&&(null==(o=this.getCachedTypeItem("connector",r.connector))&&(o=this.prepareConnector(t.connector,r.connector),this.cacheTypeItem("connector",o,r.connector)),this.setPreparedConnector(o)),null!=t.detachable&&this.setDetachable(t.detachable),null!=t.reattach&&this.setReattach(t.reattach),t.scope&&(this.scope=t.scope),null!=t.cssClass&&this.canvas&&this._jsPlumb.instance.addClass(this.canvas,t.cssClass);var i=null;t.anchor?null==(i=this.getCachedTypeItem("anchors",r.anchor))&&(i=[this._jsPlumb.instance.makeAnchor(t.anchor),this._jsPlumb.instance.makeAnchor(t.anchor)],this.cacheTypeItem("anchors",i,r.anchor)):t.anchors&&null==(i=this.getCachedTypeItem("anchors",r.anchors))&&(i=[this._jsPlumb.instance.makeAnchor(t.anchors[0]),this._jsPlumb.instance.makeAnchor(t.anchors[1])],this.cacheTypeItem("anchors",i,r.anchors)),null!=i&&(this.endpoints[0].anchor=i[0],this.endpoints[1].anchor=i[1],this.endpoints[1].anchor.isDynamic&&this._jsPlumb.instance.repaint(this.endpoints[1].elementId)),e.OverlayCapableJsPlumbUIComponent.applyType(this,t)},addClass:function(t,e){e&&(this.endpoints[0].addClass(t),this.endpoints[1].addClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(t)),this.connector&&this.connector.addClass(t)},removeClass:function(t,e){e&&(this.endpoints[0].removeClass(t),this.endpoints[1].removeClass(t),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(t)),this.connector&&this.connector.removeClass(t)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(t){this._jsPlumb.visible=t,this.connector&&this.connector.setVisible(t),this.repaint()},cleanup:function(){this.updateConnectedClass(!0),this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(!0),this.connector.destroy(!0)),this.connector=null},updateConnectedClass:function(t){this._jsPlumb&&(i(this,this.source,this._jsPlumb.instance,t),i(this,this.target,this._jsPlumb.instance,t))},setHover:function(e){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(e),t.jsPlumb[e?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),t.jsPlumb[e?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getUuids:function(){return[this.endpoints[0].getUuid(),this.endpoints[1].getUuid()]},getCost:function(){return this._jsPlumb?this._jsPlumb.cost:-1/0},setCost:function(t){this._jsPlumb.cost=t},isDirected:function(){return this._jsPlumb.directed},getConnector:function(){return this.connector},prepareConnector:function(t,e){var o,i={_jsPlumb:this._jsPlumb.instance,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},s=this._jsPlumb.instance.getRenderMode();return n.isString(t)?o=r(this._jsPlumb.instance,s,t,i,this):n.isArray(t)&&(o=r(this._jsPlumb.instance,s,t[0],1===t.length?i:n.merge(t[1],i),this)),null!=e&&(o.typeId=e),o},setPreparedConnector:function(t,e,n,r){if(this.connector!==t){var o,i="";if(null!=this.connector&&(i=(o=this.connector).getClass(),this.connector.cleanup(),this.connector.destroy()),this.connector=t,r&&this.cacheTypeItem("connector",t,r),this.canvas=this.connector.canvas,this.bgCanvas=this.connector.bgCanvas,this.addClass(i),this.canvas&&(this.canvas._jsPlumb=this),this.bgCanvas&&(this.bgCanvas._jsPlumb=this),null!=o)for(var s=this.getOverlays(),a=0;a<s.length;a++)s[a].transfer&&s[a].transfer(this.connector);n||this.setListenerComponent(this.connector),e||this.repaint()}},setConnector:function(t,e,n,r){var o=this.prepareConnector(t,r);this.setPreparedConnector(o,e,n,r)},paint:function(t){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){var e=(t=t||{}).timestamp,n=this.targetId;if(null==e||e!==this._jsPlumb.lastPaintedAt){var r=this._jsPlumb.instance.updateOffset({elId:this.sourceId}).o,o=this._jsPlumb.instance.updateOffset({elId:n}).o,i=this.endpoints[0],s=this.endpoints[1],a=i.anchor.getCurrentLocation({xy:[r.left,r.top],wh:[r.width,r.height],element:i,timestamp:e}),u=s.anchor.getCurrentLocation({xy:[o.left,o.top],wh:[o.width,o.height],element:s,timestamp:e});this.connector.resetBounds(),this.connector.compute({sourcePos:a,targetPos:u,sourceOrientation:i.anchor.getOrientation(i),targetOrientation:s.anchor.getOrientation(s),sourceEndpoint:this.endpoints[0],targetEndpoint:this.endpoints[1],"stroke-width":this._jsPlumb.paintStyleInUse.strokeWidth,sourceInfo:r,targetInfo:o});var l={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};for(var c in this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(c)){var h=this._jsPlumb.overlays[c];h.isVisible()&&(this._jsPlumb.overlayPlacements[c]=h.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(h)),l.minX=Math.min(l.minX,this._jsPlumb.overlayPlacements[c].minX),l.maxX=Math.max(l.maxX,this._jsPlumb.overlayPlacements[c].maxX),l.minY=Math.min(l.minY,this._jsPlumb.overlayPlacements[c].minY),l.maxY=Math.max(l.maxY,this._jsPlumb.overlayPlacements[c].maxY))}var p=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||1)/2,d=parseFloat(this._jsPlumb.paintStyleInUse.strokeWidth||0),f={xmin:Math.min(this.connector.bounds.minX-(p+d),l.minX),ymin:Math.min(this.connector.bounds.minY-(p+d),l.minY),xmax:Math.max(this.connector.bounds.maxX+(p+d),l.maxX),ymax:Math.max(this.connector.bounds.maxY+(p+d),l.maxY)};for(var v in this.connector.paint(this._jsPlumb.paintStyleInUse,null,f),this._jsPlumb.overlays)if(this._jsPlumb.overlays.hasOwnProperty(v)){var g=this._jsPlumb.overlays[v];g.isVisible()&&g.paint(this._jsPlumb.overlayPlacements[v],f)}}this._jsPlumb.lastPaintedAt=e}},repaint:function(t){var e=jsPlumb.extend(t||{},{});e.elId=this.sourceId,this.paint(e)},prepareEndpoint:function(t,n,r,i,s,a,u,l){var c;if(i)r.endpoints[s]=i,i.addConnection(r);else{a.endpoints||(a.endpoints=[null,null]);var h=a.endpoints[s]||a.endpoint||t.Defaults.Endpoints[s]||e.Defaults.Endpoints[s]||t.Defaults.Endpoint||e.Defaults.Endpoint;a.endpointStyles||(a.endpointStyles=[null,null]),a.endpointHoverStyles||(a.endpointHoverStyles=[null,null]);var p=a.endpointStyles[s]||a.endpointStyle||t.Defaults.EndpointStyles[s]||e.Defaults.EndpointStyles[s]||t.Defaults.EndpointStyle||e.Defaults.EndpointStyle;null==p.fill&&null!=a.paintStyle&&(p.fill=a.paintStyle.stroke),null==p.outlineStroke&&null!=a.paintStyle&&(p.outlineStroke=a.paintStyle.outlineStroke),null==p.outlineWidth&&null!=a.paintStyle&&(p.outlineWidth=a.paintStyle.outlineWidth);var d=a.endpointHoverStyles[s]||a.endpointHoverStyle||t.Defaults.EndpointHoverStyles[s]||e.Defaults.EndpointHoverStyles[s]||t.Defaults.EndpointHoverStyle||e.Defaults.EndpointHoverStyle;null!=a.hoverPaintStyle&&(null==d&&(d={}),null==d.fill&&(d.fill=a.hoverPaintStyle.stroke));var f=a.anchors?a.anchors[s]:a.anchor?a.anchor:o(t.Defaults.Anchors[s],l,t)||o(e.Defaults.Anchors[s],l,t)||o(t.Defaults.Anchor,l,t)||o(e.Defaults.Anchor,l,t);c=n({paintStyle:p,hoverPaintStyle:d,endpoint:h,connections:[r],uuid:a.uuids?a.uuids[s]:null,anchor:f,source:u,scope:a.scope,reattach:a.reattach||t.Defaults.ReattachConnections,detachable:a.detachable||t.Defaults.ConnectionsDetachable}),null==i&&c.setDeleteOnEmpty(!0),r.endpoints[s]=c,!1===a.drawEndpoints&&c.setVisible(!1,!0,!0)}return c}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumbUtil,e=this.jsPlumb;e.AnchorManager=function(n){var r={},o={},i={},s={},a=this,u={},l=n.jsPlumbInstance,c={},h=function(t){return function(e,n){return 0==(t?e[0][0]<n[0][0]:e[0][0]>n[0][0])?-1:1}},p={top:function(t,e){return t[0]>e[0]?1:-1},right:h(!0),bottom:h(!0),left:function(t,e){return(t[0][0]<0?-Math.PI-t[0][0]:Math.PI-t[0][0])>(e[0][0]<0?-Math.PI-e[0][0]:Math.PI-e[0][0])?1:-1}},d=function(t,e){var n=l.getCachedData(t),r=n.s,s=n.o,a=function(e,n,r,s,a,u,l){if(s.length>0)for(var c=function(t,e,n,r,o,i,s){for(var a=[],u=e[o?0:1]/(r.length+1),l=0;l<r.length;l++){var c=(l+1)*u,h=i*e[o?1:0];s&&(c=e[o?0:1]-c);var p=o?c:h,d=o?h:c;a.push([n[0]+p,n[1]+d,p/e[0],d/e[1],r[l][1],r[l][2]])}return a}(0,n,r,s.sort(p[e]),a,u,"right"===e||"top"===e),h=function(t,e){o[t.id]=[e[0],e[1],e[2],e[3]],i[t.id]=l},d=0;d<c.length;d++){var f=c[d][4],v=f.endpoints[1].elementId===t;f.endpoints[0].elementId===t&&h(f.endpoints[0],c[d]),v&&h(f.endpoints[1],c[d])}};a("bottom",r,[s.left,s.top],e.bottom,!0,1,[0,1]),a("top",r,[s.left,s.top],e.top,!0,0,[0,-1]),a("left",r,[s.left,s.top],e.left,!1,0,[-1,0]),a("right",r,[s.left,s.top],e.right,!1,1,[1,0])};this.reset=function(){r={},s={},u={}},this.addFloatingConnection=function(t,e){c[t]=e},this.removeFloatingConnection=function(t){delete c[t]},this.newConnection=function(n){var r=n.sourceId,o=n.targetId,i=n.endpoints,a=!0,u=function(u,l,c,h,p){r===o&&c.isContinuous&&(n._jsPlumb.instance.removeElement(i[1].canvas),a=!1),t.addToList(s,h,[p,l,c.constructor===e.DynamicAnchor])};u(0,i[0],i[0].anchor,o,n),a&&u(0,i[1],i[1].anchor,r,n)};var f=function(e){!function(e,n){if(e){var r=function(t){return t[4]===n};t.removeWithFunction(e.top,r),t.removeWithFunction(e.left,r),t.removeWithFunction(e.bottom,r),t.removeWithFunction(e.right,r)}}(u[e.elementId],e.id)};this.connectionDetached=function(e,n){var r=e.connection||e,o=e.targetId,i=function(e,n,r,o,i){t.removeWithFunction(s[o],function(t){return t[0].id===i.id})};i(0,0,0,e.sourceId,r),i(0,0,0,o,r),r.floatingId&&(i(0,0,0,r.floatingId,r),f(r.floatingEndpoint)),f(r.endpoints[0]),f(r.endpoints[1]),n||(a.redraw(r.sourceId),r.targetId!==r.sourceId&&a.redraw(r.targetId))},this.add=function(e,n){t.addToList(r,n,e)},this.changeId=function(t,e){s[e]=s[t],r[e]=r[t],delete s[t],delete r[t]},this.getConnectionsFor=function(t){return s[t]||[]},this.getEndpointsFor=function(t){return r[t]||[]},this.deleteEndpoint=function(e){t.removeWithFunction(r[e.elementId],function(t){return t.id===e.id}),f(e)},this.clearFor=function(t){delete r[t],r[t]=[]};var v=function(e,r,o,i,s,a,u,l,c,h,p,d){var f,v,g=-1,m=i.endpoints[u],y=m.id,b=[1,0][u],_=[[r,o],i,s,a,y],w=e[c],C=m._continuousAnchorEdge?e[m._continuousAnchorEdge]:null;if(C){var x=t.findWithFunction(C,function(t){return t[4]===y});if(-1!==x)for(C.splice(x,1),f=0;f<C.length;f++)t.addWithFunction(p,v=C[f][1],function(t){return t.id===v.id}),t.addWithFunction(d,C[f][1].endpoints[u],function(t){return t.id===v.endpoints[u].id}),t.addWithFunction(d,C[f][1].endpoints[b],function(t){return t.id===v.endpoints[b].id})}for(f=0;f<w.length;f++)1===n.idx&&w[f][3]===a&&-1===g&&(g=f),t.addWithFunction(p,v=w[f][1],function(t){return t.id===v.id}),t.addWithFunction(d,w[f][1].endpoints[u],function(t){return t.id===v.endpoints[u].id}),t.addWithFunction(d,w[f][1].endpoints[b],function(t){return t.id===v.endpoints[b].id});w.splice(l?-1!==g?g:0:w.length,0,_),m._continuousAnchorEdge=c};this.updateOtherEndpoint=function(n,r,o,i){var a=t.findWithFunction(s[n],function(t){return t[0].id===i.id}),u=t.findWithFunction(s[r],function(t){return t[0].id===i.id});-1!==a&&(s[n][a][0]=i,s[n][a][1]=i.endpoints[1],s[n][a][2]=i.endpoints[1].anchor.constructor===e.DynamicAnchor),u>-1&&(s[r].splice(u,1),t.addToList(s,o,[i,i.endpoints[0],i.endpoints[0].anchor.constructor===e.DynamicAnchor])),i.updateConnectedClass()},this.sourceChanged=function(n,r,o,i){if(n!==r){o.sourceId=r,o.source=i,t.removeWithFunction(s[n],function(t){return t[0].id===o.id});var a=t.findWithFunction(s[o.targetId],function(t){return t[0].id===o.id});a>-1&&(s[o.targetId][a][0]=o,s[o.targetId][a][1]=o.endpoints[0],s[o.targetId][a][2]=o.endpoints[0].anchor.constructor===e.DynamicAnchor),t.addToList(s,r,[o,o.endpoints[1],o.endpoints[1].anchor.constructor===e.DynamicAnchor]),o.endpoints[1].anchor.isContinuous&&(o.source===o.target?o._jsPlumb.instance.removeElement(o.endpoints[1].canvas):null==o.endpoints[1].canvas.parentNode&&o._jsPlumb.instance.appendElement(o.endpoints[1].canvas)),o.updateConnectedClass()}},this.rehomeEndpoint=function(t,e,n){var o=r[e]||[],i=l.getId(n);if(i!==e){var s=o.indexOf(t);if(s>-1){var u=o.splice(s,1)[0];a.add(u,i)}}for(var c=0;c<t.connections.length;c++)t.connections[c].sourceId===e?a.sourceChanged(e,t.elementId,t.connections[c],t.element):t.connections[c].targetId===e&&(t.connections[c].targetId=t.elementId,t.connections[c].target=t.element,a.updateOtherEndpoint(t.connections[c].sourceId,e,t.elementId,t.connections[c]))},this.redraw=function(n,o,i,a,h,p){if(!l.isSuspendDrawing()){var f=r[n]||[],g=s[n]||[],m=[],y=[],b=[];i=i||l.timestamp(),a=a||{left:0,top:0},o&&(o={left:o.left+a.left,top:o.top+a.top});for(var _=l.updateOffset({elId:n,offset:o,recalc:!1,timestamp:i}),w={},C=0;C<g.length;C++){var x=g[C][0],P=x.sourceId,E=x.targetId,S=x.endpoints[0].anchor.isContinuous,j=x.endpoints[1].anchor.isContinuous;if(S||j){var I=P+"_"+E,D=w[I],A=x.sourceId===n?1:0;S&&!u[P]&&(u[P]={top:[],right:[],bottom:[],left:[]}),j&&!u[E]&&(u[E]={top:[],right:[],bottom:[],left:[]}),n!==E&&l.updateOffset({elId:E,timestamp:i}),n!==P&&l.updateOffset({elId:P,timestamp:i});var k=l.getCachedData(E),T=l.getCachedData(P);E===P&&(S||j)?(v(u[P],-Math.PI/2,0,x,!1,E,0,!1,"top",0,m,y),v(u[E],-Math.PI/2,0,x,!1,P,1,!1,"top",0,m,y)):(D||(D=this.calculateOrientation(P,E,T.o,k.o,x.endpoints[0].anchor,x.endpoints[1].anchor,x),w[I]=D),S&&v(u[P],D.theta,0,x,!1,E,0,!1,D.a[0],0,m,y),j&&v(u[E],D.theta2,-1,x,!0,P,1,!0,D.a[1],0,m,y)),S&&t.addWithFunction(b,P,function(t){return t===P}),j&&t.addWithFunction(b,E,function(t){return t===E}),t.addWithFunction(m,x,function(t){return t.id===x.id}),(S&&0===A||j&&1===A)&&t.addWithFunction(y,x.endpoints[A],function(t){return t.id===x.endpoints[A].id})}}for(C=0;C<f.length;C++)0===f[C].connections.length&&f[C].anchor.isContinuous&&(u[n]||(u[n]={top:[],right:[],bottom:[],left:[]}),v(u[n],-Math.PI/2,0,{endpoints:[f[C],f[C]],paint:function(){}},!1,n,0,!1,f[C].anchor.getDefaultFace(),0,m,y),t.addWithFunction(b,n,function(t){return t===n}));for(C=0;C<b.length;C++)d(b[C],u[b[C]]);for(C=0;C<f.length;C++)f[C].paint({timestamp:i,offset:_,dimensions:_.s,recalc:!0!==p});for(C=0;C<y.length;C++){var O=l.getCachedData(y[C].elementId);y[C].paint({timestamp:null,offset:O,dimensions:O.s})}for(C=0;C<g.length;C++){var M=g[C][1];if(M.anchor.constructor===e.DynamicAnchor){M.paint({elementWithPrecedence:n,timestamp:i}),t.addWithFunction(m,g[C][0],function(t){return t.id===g[C][0].id});for(var R=0;R<M.connections.length;R++)M.connections[R]!==g[C][0]&&t.addWithFunction(m,M.connections[R],function(t){return t.id===M.connections[R].id})}else t.addWithFunction(m,g[C][0],function(t){return t.id===g[C][0].id})}var N=c[n];for(N&&N.paint({timestamp:i,recalc:!1,elId:n}),C=0;C<m.length;C++)m[C].paint({elId:n,timestamp:null,recalc:!1,clearEdits:h})}};var g=function(e){t.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var n=e.faces||["top","right","bottom","left"],r=!(!1===e.clockwise),s={},a={top:"bottom",right:"left",left:"right",bottom:"top"},u={top:"right",right:"bottom",left:"top",bottom:"left"},l={top:"left",right:"top",left:"bottom",bottom:"right"},c=r?u:l,h=r?l:u,p=e.cssClass||"",d=null,f=null,v=["left","right"],g=["top","bottom"],m=null,y=0;y<n.length;y++)s[n[y]]=!0;this.getDefaultFace=function(){return 0===n.length?"top":n[0]},this.isRelocatable=function(){return!0},this.isSnapOnRelocate=function(){return!0},this.verifyEdge=function(t){return s[t]?t:s[a[t]]?a[t]:s[c[t]]?c[t]:s[h[t]]?h[t]:t},this.isEdgeSupported=function(t){return null==m?null==f?!0===s[t]:f===t:-1!==m.indexOf(t)},this.setCurrentFace=function(t,e){d=t,e&&null!=f&&(f=d)},this.getCurrentFace=function(){return d},this.getSupportedFaces=function(){var t=[];for(var e in s)s[e]&&t.push(e);return t},this.lock=function(){f=d},this.unlock=function(){f=null},this.isLocked=function(){return null!=f},this.lockCurrentAxis=function(){null!=d&&(m="left"===d||"right"===d?v:g)},this.unlockCurrentAxis=function(){m=null},this.compute=function(t){return o[t.element.id]||[0,0]},this.getCurrentLocation=function(t){return o[t.element.id]||[0,0]},this.getOrientation=function(t){return i[t.id]||[0,0]},this.getCssClass=function(){return p}};l.continuousAnchorFactory={get:function(t){return new g(t)},clear:function(t){delete o[t]}}},e.AnchorManager.prototype.calculateOrientation=function(t,e,n,r,o,i){var s=["left","top","right","bottom"];if(t===e)return{orientation:"identity",a:["top","top"]};var a=Math.atan2(r.centery-n.centery,r.centerx-n.centerx),u=Math.atan2(n.centery-r.centery,n.centerx-r.centerx),l=[],c={};!function(t,e){for(var n=0;n<t.length;n++)c[t[n]]={left:[e[n].left,e[n].centery],right:[e[n].right,e[n].centery],top:[e[n].centerx,e[n].top],bottom:[e[n].centerx,e[n].bottom]}}(["source","target"],[n,r]);for(var h=0;h<s.length;h++)for(var p=0;p<s.length;p++)l.push({source:s[h],target:s[p],dist:Biltong.lineLength(c.source[s[h]],c.target[s[p]])});l.sort(function(t,e){return t.dist<e.dist?-1:t.dist>e.dist?1:0});for(var d=l[0].source,f=l[0].target,v=0;v<l.length&&(d=!o.isContinuous||o.isEdgeSupported(l[v].source)?l[v].source:null,f=!i.isContinuous||i.isEdgeSupported(l[v].target)?l[v].target:null,null==d||null==f);v++);return o.isContinuous&&o.setCurrentFace(d),i.isContinuous&&i.setCurrentFace(f),{a:[d,f],theta:a,theta2:u}},e.Anchor=function(e){this.x=e.x||0,this.y=e.y||0,this.elementId=e.elementId,this.cssClass=e.cssClass||"",this.userDefinedLocation=null,this.orientation=e.orientation||[0,0],this.lastReturnValue=null,this.offsets=e.offsets||[0,0],this.timestamp=null;var n=!1!==e.relocatable;this.isRelocatable=function(){return n},this.setRelocatable=function(t){n=t};var r=!1!==e.snapOnRelocate;this.isSnapOnRelocate=function(){return r};var o=!1;this.lock=function(){o=!0},this.unlock=function(){o=!1},this.isLocked=function(){return o},t.EventGenerator.apply(this),this.compute=function(t){var e=t.xy,n=t.wh,r=t.timestamp;return t.clearUserDefinedLocation&&(this.userDefinedLocation=null),r&&r===this.timestamp?this.lastReturnValue:(this.lastReturnValue=null!=this.userDefinedLocation?this.userDefinedLocation:[e[0]+this.x*n[0]+this.offsets[0],e[1]+this.y*n[1]+this.offsets[1],this.x,this.y],this.timestamp=r,this.lastReturnValue)},this.getCurrentLocation=function(t){return t=t||{},null==this.lastReturnValue||null!=t.timestamp&&this.timestamp!==t.timestamp?this.compute(t):this.lastReturnValue},this.setPosition=function(t,e,n,r,i){o&&!i||(this.x=t,this.y=e,this.orientation=[n,r],this.lastReturnValue=null)}},t.extend(e.Anchor,t.EventGenerator,{equals:function(t){if(!t)return!1;var e=t.getOrientation(),n=this.getOrientation();return this.x===t.x&&this.y===t.y&&this.offsets[0]===t.offsets[0]&&this.offsets[1]===t.offsets[1]&&n[0]===e[0]&&n[1]===e[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(t){this.userDefinedLocation=t},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),e.FloatingAnchor=function(t){e.Anchor.apply(this,arguments);var n=t.reference,r=e.getSize(t.referenceCanvas),o=null,i=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(t){var e=t.xy,n=[e[0]+r[0]/2,e[1]+r[1]/2];return i=n,n},this.getOrientation=function(t){if(o)return o;var e=n.getOrientation(t);return[0*Math.abs(e[0])*-1,0*Math.abs(e[1])*-1]},this.over=function(t,e){o=t.getOrientation(e)},this.out=function(){o=null},this.getCurrentLocation=function(t){return null==i?this.compute(t):i}},t.extend(e.FloatingAnchor,e.Anchor),e.DynamicAnchor=function(t){e.Anchor.apply(this,arguments),this.isDynamic=!0,this.anchors=[],this.elementId=t.elementId,this.jsPlumbInstance=t.jsPlumbInstance;for(var n=0;n<t.anchors.length;n++)this.anchors[n]=(o=this.jsPlumbInstance,(r=t.anchors[n]).constructor===e.Anchor?r:o.makeAnchor(r,this.elementId,o));var r,o;this.getAnchors=function(){return this.anchors};var i=this.anchors.length>0?this.anchors[0]:null,s=i,a=this,u=function(t,e,n,r,o){var i=r[0]+t.x*o[0],s=r[1]+t.y*o[1],a=r[0]+o[0]/2,u=r[1]+o[1]/2;return Math.sqrt(Math.pow(e-i,2)+Math.pow(n-s,2))+Math.sqrt(Math.pow(a-i,2)+Math.pow(u-s,2))},l=t.selector||function(t,e,n,r,o){for(var i=n[0]+r[0]/2,s=n[1]+r[1]/2,a=-1,l=1/0,c=0;c<o.length;c++){var h=u(o[c],i,s,t,e);h<l&&(a=c+0,l=h)}return o[a]};this.compute=function(t){var e=t.xy,n=t.wh,r=t.txy,o=t.twh;this.timestamp=t.timestamp;var u=a.getUserDefinedLocation();return null!=u?u:this.isLocked()||null==r||null==o?i.compute(t):(t.timestamp=null,i=l(e,n,r,o,this.anchors),this.x=i.x,this.y=i.y,i!==s&&this.fire("anchorChanged",i),s=i,i.compute(t))},this.getCurrentLocation=function(t){return this.getUserDefinedLocation()||(null!=i?i.getCurrentLocation(t):null)},this.getOrientation=function(t){return null!=i?i.getOrientation(t):[0,0]},this.over=function(t,e){null!=i&&i.over(t,e)},this.out=function(){null!=i&&i.out()},this.setAnchor=function(t){i=t},this.getCssClass=function(){return i&&i.getCssClass()||""},this.setAnchorCoordinates=function(t){var e=jsPlumbUtil.findWithFunction(this.anchors,function(e){return e.x===t[0]&&e.y===t[1]});return-1!==e&&(this.setAnchor(this.anchors[e]),!0)}},t.extend(e.DynamicAnchor,e.Anchor);var n=function(t,n,r,o,i,s){e.Anchors[i]=function(e){var a=e.jsPlumbInstance.makeAnchor([t,n,r,o,0,0],e.elementId,e.jsPlumbInstance);return a.type=i,s&&s(a,e),a}};n(.5,0,0,-1,"TopCenter"),n(.5,1,0,1,"BottomCenter"),n(0,.5,-1,0,"LeftMiddle"),n(1,.5,1,0,"RightMiddle"),n(.5,0,0,-1,"Top"),n(.5,1,0,1,"Bottom"),n(0,.5,-1,0,"Left"),n(1,.5,1,0,"Right"),n(.5,.5,0,0,"Center"),n(1,0,0,-1,"TopRight"),n(1,1,0,1,"BottomRight"),n(0,0,0,-1,"TopLeft"),n(0,1,0,1,"BottomLeft"),e.Defaults.DynamicAnchors=function(t){return t.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],t.elementId,t.jsPlumbInstance)},e.Anchors.AutoDefault=function(t){var n=t.jsPlumbInstance.makeDynamicAnchor(e.Defaults.DynamicAnchors(t));return n.type="AutoDefault",n};var r=function(t,n){e.Anchors[t]=function(e){var r=e.jsPlumbInstance.makeAnchor(["Continuous",{faces:n}],e.elementId,e.jsPlumbInstance);return r.type=t,r}};e.Anchors.Continuous=function(t){return t.jsPlumbInstance.continuousAnchorFactory.get(t)},r("ContinuousLeft",["left"]),r("ContinuousTop",["top"]),r("ContinuousBottom",["bottom"]),r("ContinuousRight",["right"]),n(0,0,0,0,"Assign",function(t,e){var n=e.position||"Fixed";t.positionFinder=n.constructor===String?e.jsPlumbInstance.AnchorPositionFinders[n]:n,t.constructorParams=e}),this.jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(t,e,n){return[(t.left-e.left)/n[0],(t.top-e.top)/n[1]]},Grid:function(t,e,n,r){var o=t.top-e.top,i=n[0]/r.grid[0],s=n[1]/r.grid[1],a=Math.floor((t.left-e.left)/i),u=Math.floor(o/s);return[(a*i+i/2)/n[0],(u*s+s/2)/n[1]]}},e.Anchors.Perimeter=function(t){var e=(t=t||{}).anchorCount||60,n=t.shape;if(!n)throw new Error("no shape supplied to Perimeter Anchor type");var r=function(){for(var t=2*Math.PI/e,n=0,r=[],o=0;o<e;o++){var i=.5+.5*Math.sin(n),s=.5+.5*Math.cos(n);r.push([i,s,0,0]),n+=t}return r},o=function(t){for(var n=e/t.length,r=[],o=function(t,o,i,s,a){for(var u=(i-t)/(n=e*a),l=(s-o)/n,c=0;c<n;c++)r.push([t+u*c,o+l*c,0,0])},i=0;i<t.length;i++)o.apply(null,t[i]);return r},i=function(t){for(var e=[],n=0;n<t.length;n++)e.push([t[n][0],t[n][1],t[n][2],t[n][3],1/t.length]);return o(e)},s=function(){return i([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},a={Circle:r,Ellipse:r,Diamond:function(){return i([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:s,Square:s,Triangle:function(){return i([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(t){for(var e=t.points,n=[],r=0,i=0;i<e.length-1;i++){var s=Math.sqrt(Math.pow(e[i][2]-e[i][0])+Math.pow(e[i][3]-e[i][1]));r+=s,n.push([e[i][0],e[i][1],e[i+1][0],e[i+1][1],s])}for(var a=0;a<n.length;a++)n[a][4]=n[a][4]/r;return o(n)}};if(!a[n])throw new Error("Shape ["+n+"] is unknown by Perimeter Anchor type");var u=a[n](t);t.rotation&&(u=function(e,n){for(var r=[],o=t.rotation/180*Math.PI,i=0;i<e.length;i++){var s=e[i][0]-.5,a=e[i][1]-.5;r.push([s*Math.cos(o)-a*Math.sin(o)+.5,s*Math.sin(o)+a*Math.cos(o)+.5,e[i][2],e[i][3]])}return r}(u));var l=t.jsPlumbInstance.makeDynamicAnchor(u);return l.type="Perimeter",l}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumb,n=t.jsPlumbUtil,r=t.Biltong;e.Segments={AbstractSegment:function(t){this.params=t,this.findClosestPointOnPath=function(t,e){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(t.x1,t.x2),minY:Math.min(t.y1,t.y2),maxX:Math.max(t.x1,t.x2),maxY:Math.max(t.y1,t.y2)}},this.lineIntersection=function(t,e,n,r){return[]},this.boxIntersection=function(t,e,n,r){var o=[];return o.push.apply(o,this.lineIntersection(t,e,t+n,e)),o.push.apply(o,this.lineIntersection(t+n,e,t+n,e+r)),o.push.apply(o,this.lineIntersection(t+n,e+r,t,e+r)),o.push.apply(o,this.lineIntersection(t,e+r,t,e)),o},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.y)}},Straight:function(t){var n,o,i,s,a,u,l;e.Segments.AbstractSegment.apply(this,arguments),this.type="Straight",this.getLength=function(){return n},this.getGradient=function(){return o},this.getCoordinates=function(){return{x1:s,y1:u,x2:a,y2:l}},this.setCoordinates=function(t){s=t.x1,u=t.y1,a=t.x2,l=t.y2,n=Math.sqrt(Math.pow(a-s,2)+Math.pow(l-u,2)),o=r.gradient({x:s,y:u},{x:a,y:l}),i=-1/o},this.setCoordinates({x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2}),this.getBounds=function(){return{minX:Math.min(s,a),minY:Math.min(u,l),maxX:Math.max(s,a),maxY:Math.max(u,l)}},this.pointOnPath=function(t,e){return 0!==t||e?1!==t||e?r.pointOnLine({x:s,y:u},{x:a,y:l},e?t>0?t:n+t:t*n):{x:a,y:l}:{x:s,y:u}},this.gradientAtPoint=function(t){return o},this.pointAlongPathFrom=function(t,e,n){var o=this.pointOnPath(t,n),i=e<=0?{x:s,y:u}:{x:a,y:l};return e<=0&&Math.abs(e)>1&&(e*=-1),r.pointOnLine(o,i,e)};var c=function(t,e,n){return n>=Math.min(t,e)&&n<=Math.max(t,e)},h=function(t,e,n){return Math.abs(n-t)<Math.abs(n-e)?t:e};this.findClosestPointOnPath=function(t,e){var p={d:1/0,x:null,y:null,l:null,x1:s,x2:a,y1:u,y2:l};if(0===o)p.y=u,p.x=c(s,a,t)?t:h(s,a,t);else if(o===1/0||o===-1/0)p.x=s,p.y=c(u,l,e)?e:h(u,l,e);else{var d=u-o*s,f=(e-i*t-d)/(o-i),v=o*f+d;p.x=c(s,a,f)?f:h(s,a,f),p.y=c(u,l,v)?v:h(u,l,v)}var g=r.lineLength([p.x,p.y],[s,u]);return p.d=r.lineLength([t,e],[p.x,p.y]),p.l=g/n,p};var p=function(t,e,n){return n>e?e<=t&&t<=n:e>=t&&t>=n};this.lineIntersection=function(t,e,n,i){var c=Math.abs(r.gradient({x:t,y:e},{x:n,y:i})),h=Math.abs(o),d=h===1/0?s:u-h*s,f=[],v=c===1/0?t:e-c*t;if(c!==h)if(c===1/0&&0===h)p(t,s,a)&&p(u,e,i)&&(f=[t,u]);else if(0===c&&h===1/0)p(e,u,l)&&p(s,t,n)&&(f=[s,e]);else{var g,m;c===1/0?p(g=t,s,a)&&p(m=h*t+d,e,i)&&(f=[g,m]):0===c?p(m=e,u,l)&&p(g=(e-d)/h,t,n)&&(f=[g,m]):(m=h*(g=(v-d)/(h-c))+d,p(g,s,a)&&p(m,u,l)&&(f=[g,m]))}return f},this.boxIntersection=function(t,e,n,r){var o=[];return o.push.apply(o,this.lineIntersection(t,e,t+n,e)),o.push.apply(o,this.lineIntersection(t+n,e,t+n,e+r)),o.push.apply(o,this.lineIntersection(t+n,e+r,t,e+r)),o.push.apply(o,this.lineIntersection(t,e+r,t,e)),o},this.boundingBoxIntersection=function(t){return this.boxIntersection(t.x,t.y,t.w,t.h)}},Arc:function(t){e.Segments.AbstractSegment.apply(this,arguments);var n=function(e,n){return r.theta([t.cx,t.cy],[e,n])},o=2*Math.PI;this.radius=t.r,this.anticlockwise=t.ac,this.type="Arc",t.startAngle&&t.endAngle?(this.startAngle=t.startAngle,this.endAngle=t.endAngle,this.x1=t.cx+this.radius*Math.cos(t.startAngle),this.y1=t.cy+this.radius*Math.sin(t.startAngle),this.x2=t.cx+this.radius*Math.cos(t.endAngle),this.y2=t.cy+this.radius*Math.sin(t.endAngle)):(this.startAngle=n(t.x1,t.y1),this.endAngle=n(t.x2,t.y2),this.x1=t.x1,this.y1=t.y1,this.x2=t.x2,this.y2=t.y2),this.endAngle<0&&(this.endAngle+=o),this.startAngle<0&&(this.startAngle+=o),this.sweep=Math.abs((this.endAngle<this.startAngle?this.endAngle+o:this.endAngle)-this.startAngle),this.anticlockwise&&(this.sweep=o-this.sweep);var i=2*Math.PI*this.radius,s=i*(this.sweep/o);this.getLength=function(){return s},this.getBounds=function(){return{minX:t.cx-t.r,maxX:t.cx+t.r,minY:t.cy-t.r,maxY:t.cy+t.r}};var a=function(t){var e=Math.floor(t),n=Math.ceil(t);return t-e<1e-10?e:n-t<1e-10?n:t};this.pointOnPath=function(e,n){if(0===e)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1===e)return{x:this.x2,y:this.y2,theta:this.endAngle};n&&(e/=s);var r=function(t,e){if(t.anticlockwise){var n=t.startAngle<t.endAngle?t.startAngle+o:t.startAngle;return n-Math.abs(n-t.endAngle)*e}var r=Math.abs((t.endAngle<t.startAngle?t.endAngle+o:t.endAngle)-t.startAngle);return t.startAngle+r*e}(this,e),i=t.cx+t.r*Math.cos(r),u=t.cy+t.r*Math.sin(r);return{x:a(i),y:a(u),theta:r}},this.gradientAtPoint=function(e,n){var o=this.pointOnPath(e,n),i=r.normal([t.cx,t.cy],[o.x,o.y]);return this.anticlockwise||i!==1/0&&i!==-1/0||(i*=-1),i},this.pointAlongPathFrom=function(e,n,r){var o=this.pointOnPath(e,r),s=n/i*2*Math.PI,a=o.theta+(this.anticlockwise?-1:1)*s;return{x:t.cx+this.radius*Math.cos(a),y:t.cy+this.radius*Math.sin(a)}}},Bezier:function(n){this.curve=[{x:n.x1,y:n.y1},{x:n.cp1x,y:n.cp1y},{x:n.cp2x,y:n.cp2y},{x:n.x2,y:n.y2}],e.Segments.AbstractSegment.apply(this,arguments),this.bounds={minX:Math.min(n.x1,n.x2,n.cp1x,n.cp2x),minY:Math.min(n.y1,n.y2,n.cp1y,n.cp2y),maxX:Math.max(n.x1,n.x2,n.cp1x,n.cp2x),maxY:Math.max(n.y1,n.y2,n.cp1y,n.cp2y)},this.type="Bezier";var r=function(e,n,r){return r&&(n=t.jsBezier.locationAlongCurveFrom(e,n>0?0:1,n)),n};this.pointOnPath=function(e,n){return e=r(this.curve,e,n),t.jsBezier.pointOnCurve(this.curve,e)},this.gradientAtPoint=function(e,n){return e=r(this.curve,e,n),t.jsBezier.gradientAtPoint(this.curve,e)},this.pointAlongPathFrom=function(e,n,o){return e=r(this.curve,e,o),t.jsBezier.pointAlongCurveFrom(this.curve,e,n)},this.getLength=function(){return t.jsBezier.getLength(this.curve)},this.getBounds=function(){return this.bounds},this.findClosestPointOnPath=function(e,n){var r=t.jsBezier.nearestPointOnCurve({x:e,y:n},this.curve);return{d:Math.sqrt(Math.pow(r.point.x-e,2)+Math.pow(r.point.y-n,2)),x:r.point.x,y:r.point.y,l:r.location,s:this}},this.lineIntersection=function(e,n,r,o){return t.jsBezier.lineIntersection(e,n,r,o,this.curve)}}},e.SegmentRenderer={getPath:function(t,e){return{Straight:function(e){var n=t.getCoordinates();return(e?"M "+n.x1+" "+n.y1+" ":"")+"L "+n.x2+" "+n.y2},Bezier:function(e){var n=t.params;return(e?"M "+n.x2+" "+n.y2+" ":"")+"C "+n.cp2x+" "+n.cp2y+" "+n.cp1x+" "+n.cp1y+" "+n.x1+" "+n.y1},Arc:function(e){var n=t.sweep>Math.PI?1:0;return(e?"M"+t.x1+" "+t.y1+" ":"")+"A "+t.radius+" "+t.params.r+" 0 "+n+","+(t.anticlockwise?0:1)+" "+t.x2+" "+t.y2}}[t.type](e)}};var o=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};e.Connectors.AbstractConnector=function(t){o.apply(this,arguments);var i=[],s=0,a=[],u=[],l=t.stub||0,c=n.isArray(l)?l[0]:l,h=n.isArray(l)?l[1]:l,p=t.gap||0,d=n.isArray(p)?p[0]:p,f=n.isArray(p)?p[1]:p,v=null,g=null;this.getPathData=function(){for(var t="",n=0;n<i.length;n++)t+=e.SegmentRenderer.getPath(i[n],0===n),t+=" ";return t},this.findSegmentForPoint=function(t,e){for(var n={d:1/0,s:null,x:null,y:null,l:null},r=0;r<i.length;r++){var o=i[r].findClosestPointOnPath(t,e);o.d<n.d&&(n.d=o.d,n.l=o.l,n.x=o.x,n.y=o.y,n.s=i[r],n.x1=o.x1,n.x2=o.x2,n.y1=o.y1,n.y2=o.y2,n.index=r)}return n},this.lineIntersection=function(t,e,n,r){for(var o=[],s=0;s<i.length;s++)o.push.apply(o,i[s].lineIntersection(t,e,n,r));return o},this.boxIntersection=function(t,e,n,r){for(var o=[],s=0;s<i.length;s++)o.push.apply(o,i[s].boxIntersection(t,e,n,r));return o},this.boundingBoxIntersection=function(t){for(var e=[],n=0;n<i.length;n++)e.push.apply(e,i[n].boundingBoxIntersection(t));return e};var m=function(t,e){e&&(t=t>0?t/s:(s+t)/s);for(var n=a.length-1,r=1,o=0;o<a.length;o++)if(a[o][1]>=t){n=o,r=1===t?1:0===t?0:(t-a[o][0])/u[o];break}return{segment:i[n],proportion:r,index:n}};this.setSegments=function(t){v=[],s=0;for(var e=0;e<t.length;e++)v.push(t[e]),s+=t[e].getLength()},this.getLength=function(){return s};var y=function(t){this.strokeWidth=t.strokeWidth;var e=r.quadrant(t.sourcePos,t.targetPos),n=t.targetPos[0]<t.sourcePos[0],o=t.targetPos[1]<t.sourcePos[1],i=t.strokeWidth||1,s=t.sourceEndpoint.anchor.getOrientation(t.sourceEndpoint),a=t.targetEndpoint.anchor.getOrientation(t.targetEndpoint),u=n?t.targetPos[0]:t.sourcePos[0],l=o?t.targetPos[1]:t.sourcePos[1],p=Math.abs(t.targetPos[0]-t.sourcePos[0]),v=Math.abs(t.targetPos[1]-t.sourcePos[1]);if(0===s[0]&&0===s[1]||0===a[0]&&0===a[1]){var g=p>v?0:1,m=[1,0][g];a=[],(s=[])[g]=t.sourcePos[g]>t.targetPos[g]?-1:1,a[g]=t.sourcePos[g]>t.targetPos[g]?1:-1,s[m]=0,a[m]=0}var y=n?p+d*s[0]:d*s[0],b=o?v+d*s[1]:d*s[1],_=n?f*a[0]:p+f*a[0],w=o?f*a[1]:v+f*a[1],C=s[0]*a[0]+s[1]*a[1],x={sx:y,sy:b,tx:_,ty:w,lw:i,xSpan:Math.abs(_-y),ySpan:Math.abs(w-b),mx:(y+_)/2,my:(b+w)/2,so:s,to:a,x:u,y:l,w:p,h:v,segment:e,startStubX:y+s[0]*c,startStubY:b+s[1]*c,endStubX:_+a[0]*h,endStubY:w+a[1]*h,isXGreaterThanStubTimes2:Math.abs(y-_)>c+h,isYGreaterThanStubTimes2:Math.abs(b-w)>c+h,opposite:-1===C,perpendicular:0===C,orthogonal:1===C,sourceAxis:0===s[0]?"y":"x",points:[u,l,p,v,y,b,_,w],stubs:[c,h]};return x.anchorOrientation=x.opposite?"opposite":x.orthogonal?"orthogonal":"perpendicular",x};return this.getSegments=function(){return i},this.updateBounds=function(t){var e=t.getBounds();this.bounds.minX=Math.min(this.bounds.minX,e.minX),this.bounds.maxX=Math.max(this.bounds.maxX,e.maxX),this.bounds.minY=Math.min(this.bounds.minY,e.minY),this.bounds.maxY=Math.max(this.bounds.maxY,e.maxY)},this.pointOnPath=function(t,e){var n=m(t,e);return n.segment&&n.segment.pointOnPath(n.proportion,!1)||[0,0]},this.gradientAtPoint=function(t,e){var n=m(t,e);return n.segment&&n.segment.gradientAtPoint(n.proportion,!1)||0},this.pointAlongPathFrom=function(t,e,n){var r=m(t,n);return r.segment&&r.segment.pointAlongPathFrom(r.proportion,e,!1)||[0,0]},this.compute=function(t){g=y.call(this,t),s=i.length=a.length=u.length=0,this._compute(g,t),this.x=g.points[0],this.y=g.points[1],this.w=g.points[2],this.h=g.points[3],this.segment=g.segment,function(){for(var t=0,e=0;e<i.length;e++){var n=i[e].getLength();u[e]=n/s,a[e]=[t,t+=n/s]}}()},{addSegment:function(t,n,r){if(r.x1!==r.x2||r.y1!==r.y2){var o=new e.Segments[n](r);i.push(o),s+=o.getLength(),t.updateBounds(o)}},prepareCompute:y,sourceStub:c,targetStub:h,maxStub:Math.max(c,h),sourceGap:d,targetGap:f,maxGap:Math.max(d,f)}},n.extend(e.Connectors.AbstractConnector,o),e.Endpoints.AbstractEndpoint=function(t){return o.apply(this,arguments),{compute:this.compute=function(t,e,n,r){var o=this._compute.apply(this,arguments);return this.x=o[0],this.y=o[1],this.w=o[2],this.h=o[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,o},cssClass:t.cssClass}},n.extend(e.Endpoints.AbstractEndpoint,o),e.Endpoints.Dot=function(t){this.type="Dot",e.Endpoints.AbstractEndpoint.apply(this,arguments),this.radius=(t=t||{}).radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(t,e,n,r){this.radius=n.radius||this.radius;var o=t[0]-this.radius,i=t[1]-this.radius,s=2*this.radius,a=2*this.radius;if(n.stroke){var u=n.strokeWidth||1;o-=u,i-=u,s+=2*u,a+=2*u}return[o,i,s,a,this.radius]}},n.extend(e.Endpoints.Dot,e.Endpoints.AbstractEndpoint),e.Endpoints.Rectangle=function(t){this.type="Rectangle",e.Endpoints.AbstractEndpoint.apply(this,arguments),this.width=(t=t||{}).width||20,this.height=t.height||20,this._compute=function(t,e,n,r){var o=n.width||this.width,i=n.height||this.height;return[t[0]-o/2,t[1]-i/2,o,i]}},n.extend(e.Endpoints.Rectangle,e.Endpoints.AbstractEndpoint);var i=function(t){e.jsPlumbUIComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};n.extend(i,e.jsPlumbUIComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(t){this._jsPlumb.displayElements.push(t)}}),e.Endpoints.Image=function(r){this.type="Image",i.apply(this,arguments),e.Endpoints.AbstractEndpoint.apply(this,arguments);var o=r.onload,s=r.src||r.url,a=r.cssClass?" "+r.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=r.width,this._jsPlumb.heightToUse=r.height,this._jsPlumb.endpoint=r.endpoint,this._jsPlumb.img.onload=(function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,o&&o(this))}).bind(this),this._jsPlumb.endpoint.setImage=(function(t,e){var n=t.constructor===String?t:t.src;o=e,this._jsPlumb.img.src=n,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}).bind(this),this._jsPlumb.endpoint.setImage(s,o),this._compute=function(t,e,n,r){return this.anchorPoint=t,this._jsPlumb.ready?[t[0]-this._jsPlumb.widthToUse/2,t[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=e.createElement("img",{position:"absolute",margin:0,padding:0,outline:0},this._jsPlumb.instance.endpointClass+a),this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas),this.actuallyPaint=function(t,e,r){this._jsPlumb.deleted||(this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0),n.sizeElement(this.canvas,this.anchorPoint[0]-this._jsPlumb.widthToUse/2,this.anchorPoint[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse))},this.paint=function(e,n){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(e,n):t.setTimeout((function(){this.paint(e,n)}).bind(this),200))}},n.extend(e.Endpoints.Image,[i,e.Endpoints.AbstractEndpoint],{cleanup:function(t){t&&(this._jsPlumb.deleted=!0,this.canvas&&this.canvas.parentNode.removeChild(this.canvas),this.canvas=null)}}),e.Endpoints.Blank=function(t){e.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",i.apply(this,arguments),this._compute=function(t,e,n,r){return[t[0],t[1],10,0]},this.canvas=e.createElement("div",{display:"block",width:"1px",height:"1px",background:"transparent",position:"absolute"},this._jsPlumb.instance.endpointClass+(t.cssClass?" "+t.cssClass:"")),this._jsPlumb.instance.appendElement(this.canvas),this.paint=function(t,e){n.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},n.extend(e.Endpoints.Blank,[e.Endpoints.AbstractEndpoint,i],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),e.Endpoints.Triangle=function(t){this.type="Triangle",e.Endpoints.AbstractEndpoint.apply(this,arguments);var n=this;(t=t||{}).width=t.width||55,t.height=t.height||55,this.width=t.width,this.height=t.height,this._compute=function(t,e,r,o){var i=r.width||n.width,s=r.height||n.height;return[t[0]-i/2,t[1]-s/2,i,s]}};var s=e.Overlays.AbstractOverlay=function(t){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=t.component,this.loc=null==t.location?.5:t.location,this.endpointLoc=null==t.endpointLocation?[.5,.5]:t.endpointLocation,this.visible=!1!==t.visible};s.prototype={cleanup:function(t){t&&(this.component=null,this.canvas=null,this.endpointLoc=null)},reattach:function(t,e){},setVisible:function(t){this.visible=t,this.component.repaint()},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(t){this.loc+=t,this.component.repaint()},setLocation:function(t){this.loc=t,this.component.repaint()},getLocation:function(){return this.loc},updateFrom:function(){}},e.Overlays.Arrow=function(t){this.type="Arrow",s.apply(this,arguments),this.isAppendedAtTopLevel=!1;var o=this;this.length=(t=t||{}).length||20,this.width=t.width||20,this.id=t.id;var i=(t.direction||1)<0?-1:1,a=t.paintStyle||{"stroke-width":1},u=t.foldback||.623;this.computeMaxSize=function(){return 1.5*o.width},this.elementCreated=function(n,r){if(this.path=n,t.events)for(var o in t.events)e.on(n,o,t.events[o])},this.draw=function(t,e){var o,s,l,c;if(t.pointAlongPathFrom){if(n.isString(this.loc)||this.loc>1||this.loc<0){var h=parseInt(this.loc,10),p=this.loc<0?1:0;o=t.pointAlongPathFrom(p,h,!1),s=t.pointAlongPathFrom(p,h-i*this.length/2,!1),l=r.pointOnLine(o,s,this.length)}else if(1===this.loc){if(o=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,-this.length),l=r.pointOnLine(o,s,this.length),-1===i){var d=l;l=o,o=d}}else if(0===this.loc){if(l=t.pointOnPath(this.loc),s=t.pointAlongPathFrom(this.loc,this.length),o=r.pointOnLine(l,s,this.length),-1===i){var f=l;l=o,o=f}}else o=t.pointAlongPathFrom(this.loc,i*this.length/2),s=t.pointOnPath(this.loc),l=r.pointOnLine(o,s,this.length);return{component:t,d:{hxy:o,tail:c=r.perpendicularLineTo(o,l,this.width),cxy:r.pointOnLine(o,l,u*this.length)},"stroke-width":a.strokeWidth||e.strokeWidth,stroke:a.stroke||e.stroke,fill:a.fill||e.stroke,minX:Math.min(o.x,c[0].x,c[1].x),maxX:Math.max(o.x,c[0].x,c[1].x),minY:Math.min(o.y,c[0].y,c[1].y),maxY:Math.max(o.y,c[0].y,c[1].y)}}return{component:t,minX:0,maxX:0,minY:0,maxY:0}}},n.extend(e.Overlays.Arrow,s,{updateFrom:function(t){this.length=t.length||this.length,this.width=t.width||this.width,this.direction=null!=t.direction?t.direction:this.direction,this.foldback=t.foldback||this.foldback},cleanup:function(){this.path&&this.canvas&&this.canvas.removeChild(this.path)}}),e.Overlays.PlainArrow=function(t){var n=e.extend(t=t||{},{foldback:1});e.Overlays.Arrow.call(this,n),this.type="PlainArrow"},n.extend(e.Overlays.PlainArrow,e.Overlays.Arrow),e.Overlays.Diamond=function(t){var n=e.extend(t=t||{},{length:(t.length||40)/2,foldback:2});e.Overlays.Arrow.call(this,n),this.type="Diamond"},n.extend(e.Overlays.Diamond,e.Overlays.Arrow);var a=function(t,e){return(null==t._jsPlumb.cachedDimensions||e)&&(t._jsPlumb.cachedDimensions=t.getDimensions()),t._jsPlumb.cachedDimensions},u=function(t){e.jsPlumbUIComponent.apply(this,arguments),s.apply(this,arguments);var r=this.fire;this.fire=function(){r.apply(this,arguments),this.component&&this.component.fire.apply(this.component,arguments)},this.detached=!1,this.id=t.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=t.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=t.create,this._jsPlumb.initiallyInvisible=!1===t.visible,this.getElement=function(){if(null==this._jsPlumb.div){var n=this._jsPlumb.div=e.getElement(this._jsPlumb.create(this._jsPlumb.component));n.style.position="absolute",jsPlumb.addClass(n,this._jsPlumb.instance.overlayClass+" "+(this.cssClass?this.cssClass:t.cssClass?t.cssClass:"")),this._jsPlumb.instance.appendElement(n),this._jsPlumb.instance.getId(n),this.canvas=n;var r="translate(-50%, -50%)";n.style.webkitTransform=r,n.style.mozTransform=r,n.style.msTransform=r,n.style.oTransform=r,n.style.transform=r,n._jsPlumb=this,!1===t.visible&&(n.style.display="none")}return this._jsPlumb.div},this.draw=function(t,e,r){var o=a(this);if(null!=o&&2===o.length){var i={x:0,y:0};if(r)i={x:r[0],y:r[1]};else if(t.pointOnPath){var s=this.loc,u=!1;(n.isString(this.loc)||this.loc<0||this.loc>1)&&(s=parseInt(this.loc,10),u=!0),i=t.pointOnPath(s,u)}else{var l=this.loc.constructor===Array?this.loc:this.endpointLoc;i={x:l[0]*t.w,y:l[1]*t.h}}var c=i.x-o[0]/2,h=i.y-o[1]/2;return{component:t,d:{minx:c,miny:h,td:o,cxy:i},minX:c,maxX:c+o[0],minY:h,maxY:h+o[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};n.extend(u,[e.jsPlumbUIComponent,s],{getDimensions:function(){return[1,1]},setVisible:function(t){this._jsPlumb.div&&(this._jsPlumb.div.style.display=t?"block":"none",t&&this._jsPlumb.initiallyInvisible&&(a(this,!0),this.component.repaint(),this._jsPlumb.initiallyInvisible=!1))},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(t){t?null!=this._jsPlumb.div&&(this._jsPlumb.div._jsPlumb=null,this._jsPlumb.instance.removeElement(this._jsPlumb.div)):(this._jsPlumb&&this._jsPlumb.div&&this._jsPlumb.div.parentNode&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div),this.detached=!0)},reattach:function(t,e){null!=this._jsPlumb.div&&t.getContainer().appendChild(this._jsPlumb.div),this.detached=!1},computeMaxSize:function(){var t=a(this);return Math.max(t[0],t[1])},paint:function(t,e){this._jsPlumb.initialised||(this.getElement(),t.component.appendDisplayElement(this._jsPlumb.div),this._jsPlumb.initialised=!0,this.detached&&this._jsPlumb.div.parentNode.removeChild(this._jsPlumb.div)),this._jsPlumb.div.style.left=t.component.x+t.d.minx+"px",this._jsPlumb.div.style.top=t.component.y+t.d.miny+"px"}}),e.Overlays.Custom=function(t){this.type="Custom",u.apply(this,arguments)},n.extend(e.Overlays.Custom,u),e.Overlays.GuideLines=function(){var t=this;t.length=50,t.strokeWidth=5,this.type="GuideLines",s.apply(this,arguments),e.jsPlumbUIComponent.apply(this,arguments),this.draw=function(e,n){var o=e.pointAlongPathFrom(t.loc,t.length/2),i=e.pointOnPath(t.loc),s=r.pointOnLine(o,i,t.length),a=r.perpendicularLineTo(o,s,40),u=r.perpendicularLineTo(s,o,20);return{connector:e,head:o,tail:s,headLine:u,tailLine:a,minX:Math.min(o.x,s.x,u[0].x,u[1].x),minY:Math.min(o.y,s.y,u[0].y,u[1].y),maxX:Math.max(o.x,s.x,u[0].x,u[1].x),maxY:Math.max(o.y,s.y,u[0].y,u[1].y)}}},e.Overlays.Label=function(t){this.labelStyle=t.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var n=e.extend({create:function(){return e.createElement("div")}},t);if(e.Overlays.Custom.call(this,n),this.type="Label",this.label=t.label||"",this.labelText=null,this.labelStyle){var r=this.getElement();this.labelStyle.font=this.labelStyle.font||"12px sans-serif",r.style.font=this.labelStyle.font,r.style.color=this.labelStyle.color||"black",this.labelStyle.fill&&(r.style.background=this.labelStyle.fill),this.labelStyle.borderWidth>0&&(r.style.border=this.labelStyle.borderWidth+"px solid "+(this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black")),this.labelStyle.padding&&(r.style.padding=this.labelStyle.padding)}},n.extend(e.Overlays.Label,e.Overlays.Custom,{cleanup:function(t){t&&(this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null)},getLabel:function(){return this.label},setLabel:function(t){this.label=t,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),u.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var t=this.label(this);this.getElement().innerHTML=t.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))},updateFrom:function(t){null!=t.label&&this.setLabel(t.label)}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this;t.jsPlumb.extend(t.jsPlumbInstance.prototype,{getEventManager:function(){return(e=this._mottle)||(e=this._mottle=new t.Mottle),e;var e},on:function(t,e,n){return this.getEventManager().on.apply(this,arguments),this},off:function(t,e,n){return this.getEventManager().off.apply(this,arguments),this}})}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this,e=t.jsPlumbUtil,n=t.jsPlumbInstance,r="stop",o="revert",i="_jsPlumbGroup",s="show",a="hide",u=function(t){var n={},r={},o={},u=this;function l(e,n){for(var r=e.getMembers(),o=0;o<r.length;o++)t[n?s:a](r[o],!0)}t.bind("connection",function(t){null!=t.source[i]&&null!=t.target[i]&&t.source[i]===t.target[i]?(r[t.connection.id]=t.source[i],o[t.connection.id]=t.source[i]):(null!=t.source[i]&&(e.suggest(t.source[i].connections.source,t.connection),r[t.connection.id]=t.source[i]),null!=t.target[i]&&(e.suggest(t.target[i].connections.target,t.connection),o[t.connection.id]=t.target[i]))}),t.bind("internal.connectionDetached",function(t){!function(t){delete t.proxies;var n,i=r[t.id];null!=i&&(e.removeWithFunction(i.connections.source,n=function(e){return e.id===t.id}),e.removeWithFunction(i.connections.target,n),delete r[t.id]),null!=(i=o[t.id])&&(e.removeWithFunction(i.connections.source,n=function(e){return e.id===t.id}),e.removeWithFunction(i.connections.target,n),delete o[t.id])}(t.connection)}),t.bind("connectionMoved",function(t){var e=(0===t.index?r:o)[t.connection.id];if(e){var n=e.connections[0===t.index?"source":"target"],i=n.indexOf(t.connection);-1!==i&&n.splice(i,1)}}),this.addGroup=function(e){t.addClass(e.getEl(),"jtk-group-expanded"),n[e.id]=e,e.manager=this,p(e),t.fire("group:add",{group:e})},this.addToGroup=function(e,n,r){if(e=this.getGroup(e)){var o=e.getEl();if(n._isJsPlumbGroup)return;var i=n._jsPlumbGroup;if(i!==e){var s=t.getOffset(n,!0),a=t.getOffset(e.collapsed?o:e.getDragArea(),!0);null!=i&&(i.remove(n,!1,r,!1,e),u.updateConnectionsForGroup(i)),e.add(n,r);var l=function(t,n){var r=0===n?1:0;t.each(function(t){t.setVisible(!1),t.endpoints[r].element._jsPlumbGroup===e?(t.endpoints[r].setVisible(!1),u.expandConnection(t,r,e)):(t.endpoints[n].setVisible(!1),u.collapseConnection(t,n,e))})};e.collapsed&&(l(t.select({source:n}),0),l(t.select({target:n}),1));var c=t.getId(n);if(t.dragManager.setParent(n,c,o,t.getId(o),s),t.setPosition(n,{left:s.left-a.left,top:s.top-a.top}),t.dragManager.revalidateParent(n,c,s),u.updateConnectionsForGroup(e),t.revalidate(c),!r){var h={group:e,el:n};i&&(h.sourceGroup=i),t.fire("group:addMember",h)}}}},this.removeFromGroup=function(t,e,n){(t=this.getGroup(t))&&t.remove(e,null,n)},this.getGroup=function(t){var r=t;if(e.isString(t)&&null==(r=n[t]))throw new TypeError("No such group ["+t+"]");return r},this.getGroups=function(){var t=[];for(var e in n)t.push(n[e]);return t},this.removeGroup=function(e,r,o,i){e=this.getGroup(e),this.expandGroup(e,!0);var s=e[r?"removeAll":"orphanAll"](o,i);return t.remove(e.getEl()),delete n[e.id],delete t._groups[e.id],t.fire("group:remove",{group:e}),s},this.removeAllGroups=function(t,e,r){for(var o in n)this.removeGroup(n[o],t,e,r)};var c=this.collapseConnection=function(e,n,r){var o,s=r.getEl(),a=t.getId(s),u=e.endpoints[n].elementId,l=e.endpoints[0===n?1:0].element;l[i]&&!l[i].shouldProxy()&&l[i].collapsed||(e.proxies=e.proxies||[],(o=e.proxies[n]?e.proxies[n].ep:t.addEndpoint(s,{endpoint:r.getEndpoint(e,n),anchor:r.getAnchor(e,n),parameters:{isProxyEndpoint:!0}})).setDeleteOnEmpty(!0),e.proxies[n]={ep:o,originalEp:e.endpoints[n]},0===n?t.anchorManager.sourceChanged(u,a,e,s):(t.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,u,a,e),e.target=s,e.targetId=a),e.proxies[n].originalEp.detachFromConnection(e,null,!0),o.connections=[e],e.endpoints[n]=o,e.setVisible(!0))};this.collapseGroup=function(e){if(null!=(e=this.getGroup(e))&&!e.collapsed){var n=e.getEl();if(l(e,!1),e.shouldProxy()){var r=function(t,n){for(var r=0;r<t.length;r++)c(t[r],n,e)};r(e.connections.source,0),r(e.connections.target,1)}e.collapsed=!0,t.removeClass(n,"jtk-group-expanded"),t.addClass(n,"jtk-group-collapsed"),t.revalidate(n),t.fire("group:collapse",{group:e})}};var h=this.expandConnection=function(e,n,r){if(null!=e.proxies&&null!=e.proxies[n]){var o=t.getId(r.getEl()),i=e.proxies[n].originalEp.element,s=e.proxies[n].originalEp.elementId;e.endpoints[n]=e.proxies[n].originalEp,0===n?t.anchorManager.sourceChanged(o,s,e,i):(t.anchorManager.updateOtherEndpoint(e.endpoints[0].elementId,o,s,e),e.target=i,e.targetId=s),e.proxies[n].ep.detachFromConnection(e,null),e.proxies[n].originalEp.addConnection(e),delete e.proxies[n]}};function p(e){var n=e.getMembers(),i=t.getConnections({source:n,scope:"*"},!0),s=t.getConnections({target:n,scope:"*"},!0),a={};e.connections.source.length=0,e.connections.target.length=0;var u=function(t){for(var n=0;n<t.length;n++)a[t[n].id]||(a[t[n].id]=!0,t[n].source._jsPlumbGroup===e?(t[n].target._jsPlumbGroup!==e&&e.connections.source.push(t[n]),r[t[n].id]=e):t[n].target._jsPlumbGroup===e&&(e.connections.target.push(t[n]),o[t[n].id]=e))};u(i),u(s)}this.expandGroup=function(e,n){if(null!=(e=this.getGroup(e))&&e.collapsed){var r=e.getEl();if(l(e,!0),e.shouldProxy()){var o=function(t,n){for(var r=0;r<t.length;r++)h(t[r],n,e)};o(e.connections.source,0),o(e.connections.target,1)}e.collapsed=!1,t.addClass(r,"jtk-group-expanded"),t.removeClass(r,"jtk-group-collapsed"),t.revalidate(r),this.repaintGroup(e),n||t.fire("group:expand",{group:e})}},this.repaintGroup=function(e){for(var n=(e=this.getGroup(e)).getMembers(),r=0;r<n.length;r++)t.revalidate(n[r])},this.updateConnectionsForGroup=p,this.refreshAllGroups=function(){for(var e in n)p(n[e]),t.dragManager.updateOffsets(t.getId(n[e].getEl()))}},l=function(n,s){var a=this,u=s.el;this.getEl=function(){return u},this.id=s.id||e.uuid(),u._isJsPlumbGroup=!0;var l=this.getDragArea=function(){var t=n.getSelector(u,"[jtk-group-content]");return t&&t.length>0?t[0]:u},c=!0===s.ghost,h=c||!0===s.constrain,p=!1!==s.revert,d=!0===s.orphan,f=!0===s.prune,v=!0===s.dropOverride,g=!1!==s.proxied,m=[];if(this.connections={source:[],target:[],internal:[]},this.getAnchor=function(t,e){return s.anchor||"Continuous"},this.getEndpoint=function(t,e){return s.endpoint||["Dot",{radius:10}]},this.collapsed=!1,!1!==s.draggable){var y={stop:function(t){n.fire("groupDragStop",jsPlumb.extend(t,{group:a}))},scope:"_jsPlumbGroupDrag"};s.dragOptions&&t.jsPlumb.extend(y,s.dragOptions),n.draggable(s.el,y)}!1!==s.droppable&&n.droppable(s.el,{drop:function(t){var e=t.drag.el;if(!e._isJsPlumbGroup){var r=e._jsPlumbGroup;if(r!==a){if(null!=r&&r.overrideDrop(e,a))return;n.getGroupManager().addToGroup(a,e,!1)}}}});var b=function(t,e){for(var n=null==t.nodeType?t:[t],r=0;r<n.length;r++)e(n[r])};function _(t,e){var r=function(t){return t.offsetParent}(t),o=n.getSize(r),i=n.getSize(t),s=e[0],a=e[1];return s+i[0]>0&&s<o[0]&&a+i[1]>0&&a<o[1]}function w(t){var e=n.getId(t),r=n.getOffset(t);return t.parentNode.removeChild(t),n.getContainer().appendChild(t),n.setPosition(t,r),delete t._jsPlumbGroup,P(t),n.dragManager.clearParent(t,e),[e,r]}function C(t){var e=null;if(!_(t.el,t.pos)){var r=t.el._jsPlumbGroup;f?n.remove(t.el):e=w(t.el),r.remove(t.el)}return e}function x(t){var e=n.getId(t);n.revalidate(t),n.dragManager.revalidateParent(t,e)}function P(t){t._katavorioDrag&&((f||d)&&t._katavorioDrag.off(r,C),f||d||!p||(t._katavorioDrag.off(o,x),t._katavorioDrag.setRevert(null)))}function E(t){t._katavorioDrag&&((f||d)&&t._katavorioDrag.on(r,C),h&&t._katavorioDrag.setConstrain(!0),c&&t._katavorioDrag.setUseGhostProxy(!0),f||d||!p||(t._katavorioDrag.on(o,x),t._katavorioDrag.setRevert(function(t,e){return!_(t,e)})))}this.overrideDrop=function(t,e){return v&&(p||f||d)},this.add=function(t,e){var r=l();b(t,function(t){if(null!=t._jsPlumbGroup){if(t._jsPlumbGroup===a)return;t._jsPlumbGroup.remove(t,!0,e,!1)}t._jsPlumbGroup=a,m.push(t),n.isAlreadyDraggable(t)&&E(t),t.parentNode!==r&&r.appendChild(t)}),n.getGroupManager().updateConnectionsForGroup(a)},this.remove=function(t,r,o,i,s){b(t,function(t){if(delete t._jsPlumbGroup,e.removeWithFunction(m,function(e){return e===t}),r)try{a.getDragArea().removeChild(t)}catch(u){jsPlumbUtil.log("Could not remove element from Group "+u)}if(P(t),!o){var i={group:a,el:t};s&&(i.targetGroup=s),n.fire("group:removeMember",i)}}),i||n.getGroupManager().updateConnectionsForGroup(a)},this.removeAll=function(t,e){for(var r=0,o=m.length;r<o;r++){var i=m[0];a.remove(i,t,e,!0),n.remove(i,!0)}m.length=0,n.getGroupManager().updateConnectionsForGroup(a)},this.orphanAll=function(){for(var t={},e=0;e<m.length;e++){var n=w(m[e]);t[n[0]]=n[1]}return m.length=0,t},this.getMembers=function(){return m},u[i]=this,n.bind("elementDraggable",(function(t){t.el._jsPlumbGroup===this&&E(t.el)}).bind(this)),this.shouldProxy=function(){return g},n.getGroupManager().addGroup(this)};n.prototype.addGroup=function(t){var e=this;if(e._groups=e._groups||{},null!=e._groups[t.id])throw new TypeError("cannot create Group ["+t.id+"]; a Group with that ID exists");if(null!=t.el[i])throw new TypeError("cannot create Group ["+t.id+"]; the given element is already a Group");var n=new l(e,t);return e._groups[n.id]=n,t.collapsed&&this.collapseGroup(n),n},n.prototype.addToGroup=function(t,e,n){var r=(function(e){var r=this.getId(e);this.manage(r,e),this.getGroupManager().addToGroup(t,e,n)}).bind(this);if(Array.isArray(e))for(var o=0;o<e.length;o++)r(e[o]);else r(e)},n.prototype.removeFromGroup=function(t,e,n){this.getGroupManager().removeFromGroup(t,e,n)},n.prototype.removeGroup=function(t,e,n,r){return this.getGroupManager().removeGroup(t,e,n,r)},n.prototype.removeAllGroups=function(t,e,n){this.getGroupManager().removeAllGroups(t,e,n)},n.prototype.getGroup=function(t){return this.getGroupManager().getGroup(t)},n.prototype.getGroups=function(){return this.getGroupManager().getGroups()},n.prototype.expandGroup=function(t){this.getGroupManager().expandGroup(t)},n.prototype.collapseGroup=function(t){this.getGroupManager().collapseGroup(t)},n.prototype.repaintGroup=function(t){this.getGroupManager().repaintGroup(t)},n.prototype.toggleGroup=function(t){null!=(t=this.getGroupManager().getGroup(t))&&this.getGroupManager()[t.collapsed?"expandGroup":"collapseGroup"](t)},n.prototype.getGroupManager=function(){var t=this._groupManager;return null==t&&(t=this._groupManager=new u(this)),t},n.prototype.removeGroupManager=function(){delete this._groupManager},n.prototype.getGroupFor=function(t){if(t=this.getElement(t))return t[i]}}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil;t.Connectors.Flowchart=function(e){this.type="Flowchart",(e=e||{}).stub=null==e.stub?30:e.stub;var n,r=t.Connectors.AbstractConnector.apply(this,arguments),o=null==e.midpoint?.5:e.midpoint,i=!0===e.alwaysRespectStubs,s=null,a=null,u=null!=e.cornerRadius?e.cornerRadius:0,l=function(t){return t<0?-1:0===t?0:1},c=function(t){return[l(t[2]-t[0]),l(t[3]-t[1])]},h=function(t,e,n,r){if(s!==e||a!==n){var o=null==s?r.sx:s,i=null==a?r.sy:a;s=e,a=n,t.push([o,i,e,n,o===e?"v":"h"])}},p=function(t){return Math.sqrt(Math.pow(t[0]-t[2],2)+Math.pow(t[1]-t[3],2))},d=function(t){var e=[];return e.push.apply(e,t),e};this._compute=function(t,e){n=[],s=null,a=null;var l=function(){return[t.startStubX,t.startStubY,t.endStubX,t.endStubY]},f={perpendicular:l,orthogonal:l,opposite:function(e){var n=t,r="x"===e?0:1;return!i&&{x:function(){return 1===n.so[r]&&(n.startStubX>n.endStubX&&n.tx>n.startStubX||n.sx>n.endStubX&&n.tx>n.sx)||-1===n.so[r]&&(n.startStubX<n.endStubX&&n.tx<n.startStubX||n.sx<n.endStubX&&n.tx<n.sx)},y:function(){return 1===n.so[r]&&(n.startStubY>n.endStubY&&n.ty>n.startStubY||n.sy>n.endStubY&&n.ty>n.sy)||-1===n.so[r]&&(n.startStubY<n.endStubY&&n.ty<n.startStubY||n.sy<n.endStubY&&n.ty<n.sy)}}[e]()?{x:[(t.sx+t.tx)/2,t.startStubY,(t.sx+t.tx)/2,t.endStubY],y:[t.startStubX,(t.sy+t.ty)/2,t.endStubX,(t.sy+t.ty)/2]}[e]:[t.startStubX,t.startStubY,t.endStubX,t.endStubY]}}[t.anchorOrientation](t.sourceAxis),v="x"===t.sourceAxis?0:1,g="x"===t.sourceAxis?1:0,m=f[v],y=f[g],b=f[v+2],_=f[g+2];h(n,f[0],f[1],t);var w=t.startStubX+(t.endStubX-t.startStubX)*o,C=t.startStubY+(t.endStubY-t.startStubY)*o,x={x:[0,1],y:[1,0]},P={perpendicular:function(e){var n={x:[[t.startStubX,t.endStubX],null,[t.endStubX,t.startStubX]],y:[[t.startStubY,t.endStubY],null,[t.endStubY,t.startStubY]]},r={x:[t.startStubY,t.endStubY],y:[t.startStubX,t.endStubX]},o=x[e][1],i=t.so[x[e][0]]+1,s=-1===t.to[o]&&r[e][1]<r[e][0]||1===t.to[o]&&r[e][1]>r[e][0],a=n[e][i][0],u=n[e][i][1],l={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]}[e][i][t.to[o]+1];return t.segment===l[3]||t.segment===l[2]&&s?{x:[[w,t.startStubY],[w,t.endStubY]],y:[[t.startStubX,C],[t.endStubX,C]]}[e]:t.segment===l[2]&&u<a?{x:[[t.endStubX,t.startStubY]],y:[[t.startStubX,t.endStubY]]}[e]:t.segment===l[2]&&u>=a||t.segment===l[1]&&!s?{x:[[t.startStubX,C],[t.endStubX,C],[t.endStubX,t.endStubY]],y:[[w,t.startStubY],[w,t.endStubY],[t.endStubX,t.endStubY]]}[e]:t.segment===l[0]||t.segment===l[1]&&s?{x:[[t.startStubX,t.endStubY],[t.endStubX,t.endStubY]],y:[[t.endStubX,t.startStubY],[t.endStubX,t.endStubY]]}[e]:void 0},orthogonal:function(e,n,r,o,i){var s=t,a={x:-1===s.so[0]?Math.min(n,o):Math.max(n,o),y:-1===s.so[1]?Math.min(n,o):Math.max(n,o)}[e];return{x:[[a,r],[a,i],[o,i]],y:[[r,a],[i,a],[i,o]]}[e]},opposite:function(n,o,i,s){var a=t,u={x:"y",y:"x"}[n],l={x:"height",y:"width"}[n],c=a["is"+n.toUpperCase()+"GreaterThanStubTimes2"];if(e.sourceEndpoint.elementId===e.targetEndpoint.elementId){var h=i+(1-e.sourceEndpoint.anchor[u])*e.sourceInfo[l]+r.maxStub;return{x:[[o,h],[s,h]],y:[[h,o],[h,s]]}[n]}return!c||1===a.so[v]&&o>s||-1===a.so[v]&&o<s?{x:[[o,C],[s,C]],y:[[w,o],[w,s]]}[n]:1===a.so[v]&&o<s||-1===a.so[v]&&o>s?{x:[[w,a.sy],[w,a.ty]],y:[[a.sx,C],[a.tx,C]]}[n]:void 0}}[t.anchorOrientation](t.sourceAxis,m,y,b,_);if(P)for(var E=0;E<P.length;E++)h(n,P[E][0],P[E][1],t);h(n,f[2],f[3],t),h(n,t.tx,t.ty,t),function(t,e,n){for(var o,i,s,a=null,l=0;l<e.length-1;l++){if(a=a||d(e[l]),o=d(e[l+1]),i=c(a),s=c(o),u>0&&a[4]!==o[4]){var h=Math.min(p(a),p(o)),f=Math.min(u,h/2);a[2]-=i[0]*f,a[3]-=i[1]*f,o[0]+=s[0]*f,o[1]+=s[1]*f;var v=i[1]===s[0]&&1===s[0]||i[1]===s[0]&&0===s[0]&&i[0]!==s[1]||i[1]===s[0]&&-1===s[0],g=(o[1]>a[3]?1:-1)==(o[0]>a[2]?1:-1),m=g&&v||!g&&!v?o[0]:a[2],y=g&&v||!g&&!v?a[3]:o[1];r.addSegment(t,"Straight",{x1:a[0],y1:a[1],x2:a[2],y2:a[3]}),r.addSegment(t,"Arc",{r:f,x1:a[2],y1:a[3],x2:o[0],y2:o[1],cx:m,cy:y,ac:v})}else{var b=a[2]===a[0]?0:a[2]>a[0]?n.lw/2:-n.lw/2,_=a[3]===a[1]?0:a[3]>a[1]?n.lw/2:-n.lw/2;r.addSegment(t,"Straight",{x1:a[0]-b,y1:a[1]-_,x2:a[2]+b,y2:a[3]+_})}a=o}null!=o&&r.addSegment(t,"Straight",{x1:o[0],y1:o[1],x2:o[2],y2:o[3]})}(this,n,t)}},e.extend(t.Connectors.Flowchart,t.Connectors.AbstractConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil;t.Connectors.AbstractBezierConnector=function(e){var n,r=!1!==(e=e||{}).showLoopback,o=e.margin||5,i=e.orientation&&"clockwise"===e.orientation,s=e.loopbackRadius||25;return this._compute=function(t,e){var a=e.sourcePos,u=e.targetPos,l=Math.abs(a[0]-u[0]),c=Math.abs(a[1]-u[1]);if(r&&e.sourceEndpoint.elementId===e.targetEndpoint.elementId){var h=e.sourcePos[0],p=e.sourcePos[1]-o,d=h,f=p-s,v=d-s,g=f-s;l=2*s,c=2*s,t.points[0]=v,t.points[1]=g,t.points[2]=l,t.points[3]=c,n.addSegment(this,"Arc",{loopback:!0,x1:h-v+4,y1:p-g,startAngle:0,endAngle:2*Math.PI,r:s,ac:!i,x2:h-v-4,y2:p-g,cx:d-v,cy:f-g})}else this._computeBezier(t,e,a,u,l,c)},n=t.Connectors.AbstractConnector.apply(this,arguments)},e.extend(t.Connectors.AbstractBezierConnector,t.Connectors.AbstractConnector);var n=function(e){e=e||{},this.type="Bezier";var n=t.Connectors.AbstractBezierConnector.apply(this,arguments),r=e.curviness||150;this.getCurviness=function(){return r},this._findControlPoint=function(t,e,n,o,i,s,a){var u=[];return s[0]!==a[0]||s[1]===a[1]?(u.push(0===a[0]?n[0]<e[0]?t[0]+10:t[0]-10:t[0]+r*a[0]),u.push(0===a[1]?n[1]<e[1]?t[1]+10:t[1]-10:t[1]+r*s[1])):(u.push(0===s[0]?e[0]<n[0]?t[0]+10:t[0]-10:t[0]-r*s[0]),u.push(0===s[1]?e[1]<n[1]?t[1]+10:t[1]-10:t[1]+r*a[1])),u},this._computeBezier=function(t,e,r,o,i,s){var a,u,l=r[0]<o[0]?i:0,c=r[1]<o[1]?s:0,h=r[0]<o[0]?0:i,p=r[1]<o[1]?0:s;a=this._findControlPoint([l,c],r,o,e.sourceEndpoint,e.targetEndpoint,t.so,t.to),u=this._findControlPoint([h,p],o,r,e.targetEndpoint,e.sourceEndpoint,t.to,t.so),n.addSegment(this,"Bezier",{x1:l,y1:c,x2:h,y2:p,cp1x:a[0],cp1y:a[1],cp2x:u[0],cp2y:u[1]})}};t.Connectors.Bezier=n,e.extend(n,t.Connectors.AbstractBezierConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(e){e=e||{},this.type="StateMachine";var n,r=t.Connectors.AbstractBezierConnector.apply(this,arguments),o=e.curviness||10,i=e.margin||5,s=e.proximityLimit||80;this._computeBezier=function(t,e,a,u,l,c){var h=e.sourcePos[0]<e.targetPos[0]?0:l,p=e.sourcePos[1]<e.targetPos[1]?0:c,d=e.sourcePos[0]<e.targetPos[0]?l:0,f=e.sourcePos[1]<e.targetPos[1]?c:0;0===e.sourcePos[2]&&(h-=i),1===e.sourcePos[2]&&(h+=i),0===e.sourcePos[3]&&(p-=i),1===e.sourcePos[3]&&(p+=i),0===e.targetPos[2]&&(d-=i),1===e.targetPos[2]&&(d+=i),0===e.targetPos[3]&&(f-=i),1===e.targetPos[3]&&(f+=i);var v,g,m,y,b=(h+d)/2,_=(p+f)/2,w=(g=p,y=f,(v=h)<=(m=d)&&y<=g?1:v<=m&&g<=y?2:m<=v&&y>=g?3:4),C=Math.sqrt(Math.pow(d-h,2)+Math.pow(f-p,2));n=function(t,e,n,r,i,s,a,u,l){return u<=l?[b,_]:1===n?r[3]<=0&&i[3]>=1?[b+(r[2]<.5?-1*o:o),_]:r[2]>=1&&i[2]<=0?[b,_+(r[3]<.5?-1*o:o)]:[b+-1*o,_+-1*o]:2===n?r[3]>=1&&i[3]<=0?[b+(r[2]<.5?-1*o:o),_]:r[2]>=1&&i[2]<=0?[b,_+(r[3]<.5?-1*o:o)]:[b+o,_+-1*o]:3===n?r[3]>=1&&i[3]<=0?[b+(r[2]<.5?-1*o:o),_]:r[2]<=0&&i[2]>=1?[b,_+(r[3]<.5?-1*o:o)]:[b+-1*o,_+-1*o]:4===n?r[3]<=0&&i[3]>=1?[b+(r[2]<.5?-1*o:o),_]:r[2]<=0&&i[2]>=1?[b,_+(r[3]<.5?-1*o:o)]:[b+o,_+-1*o]:void 0}(0,0,w,e.sourcePos,e.targetPos,0,0,C,s),r.addSegment(this,"Bezier",{x1:d,y1:f,x2:h,y2:p,cp1x:n[0],cp1y:n[1],cp2x:n[0],cp2y:n[1]})}};t.Connectors.StateMachine=n,e.extend(n,t.Connectors.AbstractBezierConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n=function(e){this.type="Straight";var n=t.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(t,e){n.addSegment(this,"Straight",{x1:t.sx,y1:t.sy,x2:t.startStubX,y2:t.startStubY}),n.addSegment(this,"Straight",{x1:t.startStubX,y1:t.startStubY,x2:t.endStubX,y2:t.endStubY}),n.addSegment(this,"Straight",{x1:t.endStubX,y1:t.endStubY,x2:t.tx,y2:t.ty})}};t.Connectors.Straight=n,e.extend(n,t.Connectors.AbstractConnector)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t=this.jsPlumb,e=this.jsPlumbUtil,n={"stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},r="http://www.w3.org/2000/svg",o=function(t,e){for(var n in e)t.setAttribute(n,""+e[n])},i=function(e,n){return(n=n||{}).version="1.1",n.xmlns=r,t.createElementNS(r,e,null,null,n)},s=function(t){return"position:absolute;left:"+t[0]+"px;top:"+t[1]+"px"},a=function(t){for(var e=t.querySelectorAll(" defs,linearGradient,radialGradient"),n=0;n<e.length;n++)e[n].parentNode.removeChild(e[n])},u=function(t,e,r,o,s){if(e.setAttribute("fill",r.fill?r.fill:"none"),e.setAttribute("stroke",r.stroke?r.stroke:"none"),r.gradient?function(t,e,n,r,o){var s,u="jsplumb_gradient_"+o._jsPlumb.instance.idstamp();a(t),s=n.gradient.offset?i("radialGradient",{id:u}):i("linearGradient",{id:u,gradientUnits:"userSpaceOnUse"});var l=i("defs");t.appendChild(l),l.appendChild(s);for(var c=0;c<n.gradient.stops.length;c++){var h=n.gradient.stops[1===o.segment||2===o.segment?c:n.gradient.stops.length-1-c][1],p=i("stop",{offset:Math.floor(100*n.gradient.stops[c][0])+"%","stop-color":h});s.appendChild(p)}e.setAttribute(n.stroke?"stroke":"fill","url(#"+u+")")}(t,e,r,0,s):(a(t),e.setAttribute("style","")),r.strokeWidth&&e.setAttribute("stroke-width",r.strokeWidth),r.dashstyle&&r.strokeWidth&&!r["stroke-dasharray"]){var u=-1===r.dashstyle.indexOf(",")?" ":",",l=r.dashstyle.split(u),c="";l.forEach(function(t){c+=Math.floor(t*r.strokeWidth)+u}),e.setAttribute("stroke-dasharray",c)}else r["stroke-dasharray"]&&e.setAttribute("stroke-dasharray",r["stroke-dasharray"]);for(var h in n)r[h]&&e.setAttribute(n[h],r[h])},l=function(t,e,n){t.childNodes.length>n?t.insertBefore(e,t.childNodes[n]):t.appendChild(e)};e.svg={node:i,attr:o,pos:s};var c=function(n){var r=n.pointerEventsSpec||"all",a={};t.jsPlumbUIComponent.apply(this,n.originalArgs),this.canvas=null,this.path=null,this.svg=null,this.bgCanvas=null;var u=n.cssClass+" "+(n.originalArgs[0].cssClass||"");this.svg=i("svg",{style:"",width:0,height:0,"pointer-events":r,position:"absolute"}),n.useDivWrapper?(this.canvas=t.createElement("div",{position:"absolute"}),e.sizeElement(this.canvas,0,0,1,1),this.canvas.className=u):(o(this.svg,{class:u}),this.canvas=this.svg),n._jsPlumb.appendElement(this.canvas,n.originalArgs[0].parent),n.useDivWrapper&&this.canvas.appendChild(this.svg);var l=[this.canvas];return this.getDisplayElements=function(){return l},this.appendDisplayElement=function(t){l.push(t)},this.paint=function(t,r,i){if(null!=t){var u,l=[this.x,this.y],c=[this.w,this.h];null!=i&&(i.xmin<0&&(l[0]+=i.xmin),i.ymin<0&&(l[1]+=i.ymin),c[0]=i.xmax+(i.xmin<0?-i.xmin:0),c[1]=i.ymax+(i.ymin<0?-i.ymin:0)),n.useDivWrapper?(e.sizeElement(this.canvas,l[0],l[1],c[0],c[1]),l[0]=0,l[1]=0,u=s([0,0])):u=s([l[0],l[1]]),a.paint.apply(this,arguments),o(this.svg,{style:u,width:c[0]||0,height:c[1]||0})}},{renderer:a}};e.extend(c,t.jsPlumbUIComponent,{cleanup:function(t){t||null==this.typeId?(this.canvas&&(this.canvas._jsPlumb=null),this.svg&&(this.svg._jsPlumb=null),this.bgCanvas&&(this.bgCanvas._jsPlumb=null),this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.svg=null,this.canvas=null,this.path=null,this.group=null):(this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this.bgCanvas&&this.bgCanvas.parentNode&&this.bgCanvas.parentNode.removeChild(this.bgCanvas))},reattach:function(t){var e=t.getContainer();this.canvas&&null==this.canvas.parentNode&&e.appendChild(this.canvas),this.bgCanvas&&null==this.bgCanvas.parentNode&&e.appendChild(this.bgCanvas)},setVisible:function(t){this.canvas&&(this.canvas.style.display=t?"block":"none")}}),t.ConnectorRenderers.svg=function(e){var n=this;c.apply(this,[{cssClass:e._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:e._jsPlumb}]).renderer.paint=function(r,s,a){var c=n.getSegments(),h=[0,0];if(a.xmin<0&&(h[0]=-a.xmin),a.ymin<0&&(h[1]=-a.ymin),c.length>0){var p={d:n.getPathData(),transform:"translate("+h[0]+","+h[1]+")","pointer-events":e["pointer-events"]||"visibleStroke"},d=null;if(r.outlineStroke){var f=r.strokeWidth+2*(r.outlineWidth||1);delete(d=t.extend({},r)).gradient,d.stroke=r.outlineStroke,d.strokeWidth=f,null==n.bgPath?(n.bgPath=i("path",p),t.addClass(n.bgPath,t.connectorOutlineClass),l(n.svg,n.bgPath,0)):o(n.bgPath,p),u(n.svg,n.bgPath,d,0,n)}null==n.path?(n.path=i("path",p),l(n.svg,n.path,r.outlineStroke?1:0)):o(n.path,p),u(n.svg,n.path,r,0,n)}}},e.extend(t.ConnectorRenderers.svg,c);var h=t.SvgEndpoint=function(e){c.apply(this,[{cssClass:e._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:e._jsPlumb}]).renderer.paint=(function(e){var n=t.extend({},e);n.outlineStroke&&(n.stroke=n.outlineStroke),null==this.node?(this.node=this.makeNode(n),this.svg.appendChild(this.node)):null!=this.updateNode&&this.updateNode(this.node),u(this.svg,this.node,n,0,this),s(this.node)}).bind(this)};e.extend(h,c),t.Endpoints.svg.Dot=function(){t.Endpoints.Dot.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return i("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(t){o(t,{cx:this.w/2,cy:this.h/2,r:this.radius})}},e.extend(t.Endpoints.svg.Dot,[t.Endpoints.Dot,h]),t.Endpoints.svg.Rectangle=function(){t.Endpoints.Rectangle.apply(this,arguments),h.apply(this,arguments),this.makeNode=function(t){return i("rect",{width:this.w,height:this.h})},this.updateNode=function(t){o(t,{width:this.w,height:this.h})}},e.extend(t.Endpoints.svg.Rectangle,[t.Endpoints.Rectangle,h]),t.Endpoints.svg.Image=t.Endpoints.Image,t.Endpoints.svg.Blank=t.Endpoints.Blank,t.Overlays.svg.Label=t.Overlays.Label,t.Overlays.svg.Custom=t.Overlays.Custom;var p=function(e,n){e.apply(this,n),t.jsPlumbUIComponent.apply(this,n),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(t,e){if(t.component.svg&&e){null==this.path&&(this.path=i("path",{"pointer-events":"all"}),t.component.svg.appendChild(this.path),this.elementCreated&&this.elementCreated(this.path,t.component),this.canvas=t.component.svg);var s=n&&1===n.length&&n[0].cssClass||"",a=[0,0];e.xmin<0&&(a[0]=-e.xmin),e.ymin<0&&(a[1]=-e.ymin),o(this.path,{d:r(t.d),class:s,stroke:t.stroke?t.stroke:null,fill:t.fill?t.fill:null,transform:"translate("+a[0]+","+a[1]+")"})}};var r=function(t){return isNaN(t.cxy.x)||isNaN(t.cxy.y)?"":"M"+t.hxy.x+","+t.hxy.y+" L"+t.tail[0].x+","+t.tail[0].y+" L"+t.cxy.x+","+t.cxy.y+" L"+t.tail[1].x+","+t.tail[1].y+" L"+t.hxy.x+","+t.hxy.y};this.transfer=function(t){t.canvas&&this.path&&this.path.parentNode&&(this.path.parentNode.removeChild(this.path),t.canvas.appendChild(this.path))}};e.extend(p,[t.jsPlumbUIComponent,t.Overlays.AbstractOverlay],{cleanup:function(t){null!=this.path&&(t?this._jsPlumb.instance.removeElement(this.path):this.path.parentNode&&this.path.parentNode.removeChild(this.path))},reattach:function(t,e){this.path&&e.canvas&&e.canvas.appendChild(this.path)},setVisible:function(t){null!=this.path&&(this.path.style.display=t?"block":"none")}}),t.Overlays.svg.Arrow=function(){p.apply(this,[t.Overlays.Arrow,arguments])},e.extend(t.Overlays.svg.Arrow,[t.Overlays.Arrow,p]),t.Overlays.svg.PlainArrow=function(){p.apply(this,[t.Overlays.PlainArrow,arguments])},e.extend(t.Overlays.svg.PlainArrow,[t.Overlays.PlainArrow,p]),t.Overlays.svg.Diamond=function(){p.apply(this,[t.Overlays.Diamond,arguments])},e.extend(t.Overlays.svg.Diamond,[t.Overlays.Diamond,p]),t.Overlays.svg.GuideLines=function(){var e,n,r=null,s=this;t.Overlays.GuideLines.apply(this,arguments),this.paint=function(t,u){null==r&&(r=i("path"),t.connector.svg.appendChild(r),s.attachListeners(r,t.connector),s.attachListeners(r,s),e=i("path"),t.connector.svg.appendChild(e),s.attachListeners(e,t.connector),s.attachListeners(e,s),n=i("path"),t.connector.svg.appendChild(n),s.attachListeners(n,t.connector),s.attachListeners(n,s));var l=[0,0];u.xmin<0&&(l[0]=-u.xmin),u.ymin<0&&(l[1]=-u.ymin),o(r,{d:a(t.head,t.tail),stroke:"red",fill:null,transform:"translate("+l[0]+","+l[1]+")"}),o(e,{d:a(t.tailLine[0],t.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+l[0]+","+l[1]+")"}),o(n,{d:a(t.headLine[0],t.headLine[1]),stroke:"green",fill:null,transform:"translate("+l[0]+","+l[1]+")"})};var a=function(t,e){return"M "+t.x+","+t.y+" L"+e.x+","+e.y}},e.extend(t.Overlays.svg.GuideLines,t.Overlays.GuideLines)}).call("undefined"!=typeof window?window:this),(function(){"use strict";var t,e,n=this.jsPlumb,r=this.jsPlumbUtil,o=this.Katavorio,i=this.Biltong,s=function(t,e){var r="_katavorio_"+(e=e||"main"),s=t[r],a=t.getEventManager();return s||((s=new o({bind:a.on,unbind:a.off,getSize:n.getSize,getConstrainingRectangle:function(t){return[t.parentNode.scrollWidth,t.parentNode.scrollHeight]},getPosition:function(e,n){var r=t.getOffset(e,n,e._katavorioDrag?e.offsetParent:null);return[r.left,r.top]},setPosition:function(t,e){t.style.left=e[0]+"px",t.style.top=e[1]+"px"},addClass:n.addClass,removeClass:n.removeClass,intersects:i.intersects,indexOf:function(t,e){return t.indexOf(e)},scope:t.getDefaultScope(),css:{noSelect:t.dragSelectClass,droppable:"jtk-droppable",draggable:"jtk-draggable",drag:"jtk-drag",selected:"jtk-drag-selected",active:"jtk-drag-active",hover:"jtk-drag-hover",ghostProxy:"jtk-ghost-proxy"}})).setZoom(t.getZoom()),t[r]=s,t.bind("zoom",s.setZoom)),s};n.extend(this.jsPlumbInstance.prototype,{animationSupported:!0,getElement:function(t){return null==t?null:"string"==typeof(t="string"==typeof t?t:null!=t.length&&null==t.enctype?t[0]:t)?document.getElementById(t):t},removeElement:function(t){s(this).elementRemoved(t),this.getEventManager().remove(t)},doAnimate:function(t,e,o){o=o||{};var i=this.getOffset(t),s=function(t,e){var n=function(n){if(null!=e[n]){if(r.isString(e[n])){var o=e[n].match(/-=/)?-1:1,i=e[n].substring(2);return t[n]+o*i}return e[n]}return t[n]};return[n("left"),n("top")]}(i,e),a=o.duration||250,u=a/15,l=15/a*(s[0]-i.left),c=15/a*(s[1]-i.top),h=0,p=setInterval(function(){n.setPosition(t,{left:i.left+l*(h+1),top:i.top+c*(h+1)}),null!=o.step&&o.step(h,Math.ceil(u)),++h>=u&&(window.clearInterval(p),null!=o.complete&&o.complete())},15)},destroyDraggable:function(t,e){s(this,e).destroyDraggable(t)},unbindDraggable:function(t,e,n,r){s(this,r).destroyDraggable(t,e,n)},destroyDroppable:function(t,e){s(this,e).destroyDroppable(t)},unbindDroppable:function(t,e,n,r){s(this,r).destroyDroppable(t,e,n)},initDraggable:function(t,e,n){s(this,n).draggable(t,e)},initDroppable:function(t,e,n){s(this,n).droppable(t,e)},isAlreadyDraggable:function(t){return null!=t._katavorioDrag},isDragSupported:function(t,e){return!0},isDropSupported:function(t,e){return!0},isElementDraggable:function(t){return(t=n.getElement(t))._katavorioDrag&&t._katavorioDrag.isEnabled()},getDragObject:function(t){return t[0].drag.getDragElement()},getDragScope:function(t){return t._katavorioDrag&&t._katavorioDrag.scopes.join(" ")||""},getDropEvent:function(t){return t[0].e},getUIPosition:function(t,e){var n=t[0].el;if(null==n.offsetParent)return null;var r=t[0].finalPos||t[0].pos,o={left:r[0],top:r[1]};if(n._katavorioDrag&&n.offsetParent!==this.getContainer()){var i=this.getOffset(n.offsetParent);o.left+=i.left,o.top+=i.top}return o},setDragFilter:function(t,e,n){t._katavorioDrag&&t._katavorioDrag.setFilter(e,n)},setElementDraggable:function(t,e){(t=n.getElement(t))._katavorioDrag&&t._katavorioDrag.setEnabled(e)},setDragScope:function(t,e){t._katavorioDrag&&t._katavorioDrag.k.setDragScope(t,e)},setDropScope:function(t,e){t._katavorioDrop&&t._katavorioDrop.length>0&&t._katavorioDrop[0].k.setDropScope(t,e)},addToPosse:function(t,e){var r=Array.prototype.slice.call(arguments,1),o=s(this);n.each(t,function(t){(t=[n.getElement(t)]).push.apply(t,r),o.addToPosse.apply(o,t)})},setPosse:function(t,e){var r=Array.prototype.slice.call(arguments,1),o=s(this);n.each(t,function(t){(t=[n.getElement(t)]).push.apply(t,r),o.setPosse.apply(o,t)})},removeFromPosse:function(t,e){var r=Array.prototype.slice.call(arguments,1),o=s(this);n.each(t,function(t){(t=[n.getElement(t)]).push.apply(t,r),o.removeFromPosse.apply(o,t)})},removeFromAllPosses:function(t){var e=s(this);n.each(t,function(t){e.removeFromAllPosses(n.getElement(t))})},setPosseState:function(t,e,r){var o=s(this);n.each(t,function(t){o.setPosseState(n.getElement(t),e,r)})},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete",beforeStart:"beforeStart"},animEvents:{step:"step",complete:"complete"},stopDrag:function(t){t._katavorioDrag&&t._katavorioDrag.abort()},addToDragSelection:function(t){s(this).select(t)},removeFromDragSelection:function(t){s(this).deselect(t)},clearDragSelection:function(){s(this).deselectAll()},trigger:function(t,e,n,r){this.getEventManager().trigger(t,e,n,r)},doReset:function(){for(var t in this)0===t.indexOf("_katavorio_")&&this[t].reset()}}),t=n.init,(e=function(){/complete|loaded|interactive/.test(document.readyState)&&void 0!==document.body&&null!=document.body?t():setTimeout(e,9)})()}).call("undefined"!=typeof window?window:this)},crnd:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="crnd"},zUnb:function(t,e,n){"use strict";n.r(e);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function o(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function s(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function a(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}var h=Array.isArray||function(t){return t&&"number"==typeof t.length};function p(t){return null!=t&&"object"==typeof t}function d(t){return"function"==typeof t}var f,v={e:{}};function g(){try{return f.apply(this,arguments)}catch(t){return v.e=t,v}}function m(t){return f=t,g}function y(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}y.prototype=Object.create(Error.prototype);var b=y,_=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this._parent,r=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,a=r?r.length:0;n;)n.remove(this),n=++s<a&&r[s]||null;if(d(o)&&m(o).call(this)===v&&(e=!0,t=t||(v.e instanceof b?w(v.e.errors):[v.e])),h(i))for(s=-1,a=i.length;++s<a;){var u=i[s];if(p(u)&&m(u.unsubscribe).call(u)===v){e=!0,t=t||[];var l=v.e;l instanceof b?t=t.concat(w(l.errors)):t.push(l)}}if(e)throw new b(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if("function"!=typeof n._addParent){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(n),n._addParent(this),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this._parent,n=this._parents;e&&e!==t?n?-1===n.indexOf(t)&&n.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function w(t){return t.reduce(function(t,e){return t.concat(e instanceof b?e.errors:e)},[])}var C=!1,x={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){C=t},get useDeprecatedSynchronousErrorHandling(){return C}};function P(t){setTimeout(function(){throw t})}var E={closed:!0,next:function(t){},error:function(t){if(x.useDeprecatedSynchronousErrorHandling)throw t;P(t)},complete:function(){}},S="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),j=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,i._parentSubscription=null,arguments.length){case 0:i.destination=E;break;case 1:if(!n){i.destination=E;break}if("object"==typeof n){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new I(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new I(i,n,r,o)}return i}return o(e,t),e.prototype[S]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(_),I=function(t){function e(e,n,r,o){var i,s=t.call(this)||this;s._parentSubscriber=e;var a=s;return d(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==E&&(d((a=Object.create(n)).unsubscribe)&&s.add(a.unsubscribe.bind(a)),a.unsubscribe=s.unsubscribe.bind(s))),s._context=a,s._next=i,s._error=r,s._complete=o,s}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;x.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=x.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):P(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;P(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};x.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),x.useDeprecatedSynchronousErrorHandling)throw n;P(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!x.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return x.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(P(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(j),D="function"==typeof Symbol&&Symbol.observable||"@@observable";function A(){}function k(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return T(t)}function T(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:A}var O=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof j)return t;if(t[S])return t[S]()}return t||e||n?new j(t,e,n):new j(E)}(t,e,n);if(r?r.call(o,this.source):o.add(this.source||x.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),x.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){x.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof j?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=M(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(n){r(n),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[D]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:T(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=M(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function M(t){if(t||(t=x.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function R(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}R.prototype=Object.create(Error.prototype);var N=R,L=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return o(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(_),F=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return o(e,t),e}(j),U=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return o(e,t),e.prototype[S]=function(){return new F(this)},e.prototype.lift=function(t){var e=new H(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new N;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new N;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new N;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new N;return this.hasError?(t.error(this.thrownError),_.EMPTY):this.isStopped?(t.complete(),_.EMPTY):(this.observers.push(t),new L(this,t))},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,e){return new H(t,e)},e}(O),H=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return o(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):_.EMPTY},e}(U);function V(t){return t&&"function"==typeof t.schedule}var B=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(j),z=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}},G=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,P),e}};function W(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var q=W(),Y=function(t){return function(e){for(var n=t[q]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e}},X=function(t){return function(e){var n=t[D]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}},Z=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Q(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var K=function(t){if(t instanceof O)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[D])return X(t);if(Z(t))return z(t);if(Q(t))return G(t);if(t&&"function"==typeof t[q])return Y(t);var e=p(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function J(t,e,n,r,o){if(void 0===o&&(o=new B(t,n,r)),!o.closed)return K(e)(o)}var $=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(j);function tt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new et(t,e))}}var et=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new nt(t,this.project,this.thisArg))},t}(),nt=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(j);function rt(t,e){return new O(e?function(n){var r=new _,o=0;return r.add(e.schedule(function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()})),r}:z(t))}function ot(t,e){if(!e)return t instanceof O?t:new O(K(t));if(null!=t){if(function(t){return t&&"function"==typeof t[D]}(t))return function(t,e){return new O(e?function(n){var r=new _;return r.add(e.schedule(function(){var o=t[D]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r}:X(t))}(t,e);if(Q(t))return function(t,e){return new O(e?function(n){var r=new _;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r}:G(t))}(t,e);if(Z(t))return rt(t,e);if(function(t){return t&&"function"==typeof t[q]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new O(e?function(n){var r,o=new _;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[q](),o.add(e.schedule(function(){if(!n.closed){var t,e;try{var o=r.next();t=o.value,e=o.done}catch(i){return void n.error(i)}e?n.complete():(n.next(t),this.schedule())}}))})),o}:Y(t))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function it(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(it(function(n,r){return ot(t(n,r)).pipe(tt(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new st(t,n))})}var st=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new at(t,this.project,this.concurrent))},t}(),at=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return o(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new B(this,void 0,void 0);this.destination.add(r),J(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}($);function ut(t){return t}function lt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),it(ut,t)}function ct(){return function(t){return t.lift(new ht(t))}}var ht=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new pt(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),pt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return o(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(j),dt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return o(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new _).add(this.source.subscribe(new vt(this.getSubject(),this))),t.closed?(this._connection=null,t=_.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return ct()(this)},e}(O).prototype,ft={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:dt._subscribe},_isComplete:{value:dt._isComplete,writable:!0},getSubject:{value:dt.getSubject},connect:{value:dt.connect},refCount:{value:dt.refCount}},vt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return o(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(F);function gt(){return new U}function mt(t){for(var e in t)if(t[e]===mt)return e;throw Error("Could not find renamed property on target object.")}var yt=mt({ngComponentDef:mt}),bt=mt({ngInjectableDef:mt}),_t=mt({ngInjectorDef:mt}),wt=mt({ngModuleDef:mt});function Ct(t){return{providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xt(t){return t.hasOwnProperty(bt)?t[bt]:null}function Pt(t){return t.hasOwnProperty(_t)?t[_t]:null}var Et=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==e?Ct({providedIn:e.providedIn||"root",factory:e.factory}):void 0}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),St="__parameters__";function jt(t,e,n){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,c(e));for(var o in r)this[o]=r[o]}}}(e);function o(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof o)return r.apply(this,e),this;var i=new((t=o).bind.apply(t,c([void 0],e)));return s.annotation=i,s;function s(t,e,n){for(var r=t.hasOwnProperty(St)?t[St]:Object.defineProperty(t,St,{value:[]})[St];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(i),t}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=t,o.annotationCls=o,o}var It=new Et("AnalyzeForEntryComponents"),Dt="undefined"!=typeof window&&window,At="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,kt="undefined"!=typeof global&&global||Dt||At,Tt=Promise.resolve(0),Ot=null;function Mt(){if(!Ot){var t=kt.Symbol;if(t&&t.iterator)Ot=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(Ot=r)}}return Ot}function Rt(t){"undefined"==typeof Zone?Tt.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}function Nt(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}function Lt(t){if("string"==typeof t)return t;if(t instanceof Array)return"["+t.map(Lt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Ft(t){return t.__forward_ref__=Ft,t.toString=function(){return Lt(this())},t}function Ut(t){return"function"==typeof t&&t.hasOwnProperty("__forward_ref__")&&t.__forward_ref__===Ft?t():t}var Ht=jt("Inject",function(t){return{token:t}}),Vt=jt("Optional"),Bt=jt("Self"),zt=jt("SkipSelf"),Gt="__source",Wt=new Object,qt=Wt,Yt=new Et("INJECTOR"),Xt=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Wt),e===Wt)throw new Error("NullInjectorError: No provider for "+Lt(t)+"!");return e},t}(),Zt=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?new oe(t,e):new oe(t.providers,t.parent,t.name||null)},t.THROW_IF_NOT_FOUND=Wt,t.NULL=new Xt,t.ngInjectableDef=Ct({providedIn:"any",factory:function(){return ce(Yt)}}),t}(),Qt=function(t){return t},Kt=[],Jt=Qt,$t=function(){return Array.prototype.slice.call(arguments)},te=mt({provide:String,useValue:mt}),ee=Zt.NULL,ne=/\n/gm,re="\u0275",oe=function(){function t(t,e,n){void 0===e&&(e=ee),void 0===n&&(n=null),this.parent=e,this.source=n;var r=this._records=new Map;r.set(Zt,{token:Zt,fn:Qt,deps:Kt,value:this,useNew:!1}),r.set(Yt,{token:Yt,fn:Qt,deps:Kt,value:this,useNew:!1}),function t(e,n){if(n)if((n=Ut(n))instanceof Array)for(var r=0;r<n.length;r++)t(e,n[r]);else{if("function"==typeof n)throw ae("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw ae("Unexpected provider",n);var o=Ut(n.provide),i=function(t){var e=function(t){var e=Kt,n=t.deps;if(n&&n.length){e=[];for(var r=0;r<n.length;r++){var o=6;if((u=Ut(n[r]))instanceof Array)for(var i=0,s=u;i<s.length;i++){var a=s[i];a instanceof Vt||a==Vt?o|=1:a instanceof zt||a==zt?o&=-3:a instanceof Bt||a==Bt?o&=-5:u=a instanceof Ht?a.token:Ut(a)}e.push({token:u,options:o})}}else if(t.useExisting){var u;e=[{token:u=Ut(t.useExisting),options:6}]}else if(!(n||te in t))throw ae("'deps' required",t);return e}(t),n=Qt,r=Kt,o=!1,i=Ut(t.provide);if(te in t)r=t.useValue;else if(t.useFactory)n=t.useFactory;else if(t.useExisting);else if(t.useClass)o=!0,n=Ut(t.useClass);else{if("function"!=typeof i)throw ae("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",t);o=!0,n=i}return{deps:e,fn:n,useNew:o,value:r}}(n);if(!0===n.multi){var s=e.get(o);if(s){if(s.fn!==$t)throw ie(o)}else e.set(o,s={token:n.provide,deps:[],useNew:!1,fn:$t,value:Kt});s.deps.push({token:o=n,options:6})}var a=e.get(o);if(a&&a.fn==$t)throw ie(o);e.set(o,i)}}(r,t)}return t.prototype.get=function(t,e,n){void 0===n&&(n=0);var r=this._records.get(t);try{return function t(e,n,r,o,i,s){try{return function(e,n,r,o,i,s){var a,u;if(!n||4&s)2&s||(u=o.get(e,i,0));else{if((u=n.value)==Jt)throw Error(re+"Circular dependency");if(u===Kt){n.value=Jt;var l=n.useNew,h=n.fn,p=n.deps,d=Kt;if(p.length){d=[];for(var f=0;f<p.length;f++){var v=p[f],g=v.options,m=2&g?r.get(v.token):void 0;d.push(t(v.token,m,r,m||4&g?o:ee,1&g?null:Zt.THROW_IF_NOT_FOUND,0))}}n.value=u=l?new((a=h).bind.apply(a,c([void 0],d))):h.apply(void 0,d)}}return u}(e,n,r,o,i,s)}catch(a){throw a instanceof Error||(a=new Error(a)),(a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(e),n&&n.value==Jt&&(n.value=Kt),a}}(t,r,this._records,this.parent,e,n)}catch(i){var o=i.ngTempTokenPath;throw t[Gt]&&o.unshift(t[Gt]),i.message=se("\n"+i.message,o,this.source),i.ngTokenPath=o,i.ngTempTokenPath=null,i}},t.prototype.toString=function(){var t=[];return this._records.forEach(function(e,n){return t.push(Lt(n))}),"StaticInjector["+t.join(", ")+"]"},t}();function ie(t){return ae("Cannot mix multi providers and regular providers",t)}function se(t,e,n){void 0===n&&(n=null),t=t&&"\n"===t.charAt(0)&&t.charAt(1)==re?t.substr(2):t;var r=Lt(e);if(e instanceof Array)r=e.map(Lt).join(" -> ");else if("object"==typeof e){var o=[];for(var i in e)if(e.hasOwnProperty(i)){var s=e[i];o.push(i+":"+("string"==typeof s?JSON.stringify(s):Lt(s)))}r="{"+o.join(", ")+"}"}return"StaticInjectorError"+(n?"("+n+")":"")+"["+r+"]: "+t.replace(ne,"\n  ")}function ae(t,e){return new Error(se(t,e))}var ue=void 0;function le(t){var e=ue;return ue=t,e}function ce(t,e){if(void 0===e&&(e=0),void 0===ue)throw new Error("inject() must be called from an injection context");if(null===ue){var n=xt(t);if(n&&"root"==n.providedIn)return void 0===n.value?n.value=n.factory():n.value;if(8&e)return null;throw new Error("Injector: NOT_FOUND ["+Lt(t)+"]")}return ue.get(t,8&e?null:void 0,e)}function he(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var o=void 0,i=0,s=0;s<r.length;s++){var a=r[s];a instanceof Vt||"Optional"===a.ngMetadataName?i|=8:a instanceof zt||"SkipSelf"===a.ngMetadataName?i|=4:a instanceof Bt||"Self"===a.ngMetadataName?i|=2:o=a instanceof Ht?a.token:a}e.push(ce(o,i))}else e.push(ce(r))}return e}Function;var pe=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),de="__ngContext__",fe=17,ve=0,ge=1,me=2,ye=3,be=4,_e=5,we=6,Ce=7,xe=8,Pe=9,Ee=10,Se=11,je=12,Ie=14,De=16;function Ae(t,e){var n=Oe(t),r=Oe(e);return n&&r?function(t,e,n){for(var r=t[Mt()](),o=e[Mt()]();;){var i=r.next(),s=o.next();if(i.done&&s.done)return!0;if(i.done||s.done)return!1;if(!n(i.value,s.value))return!1}}(t,e,Ae):!(n||!t||"object"!=typeof t&&"function"!=typeof t||r||!e||"object"!=typeof e&&"function"!=typeof e)||Nt(t,e)}var ke=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}(),Te=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Oe(t){return!!Me(t)&&(Array.isArray(t)||!(t instanceof Map)&&Mt()in t)}function Me(t){return null!==t&&("function"==typeof t||"object"==typeof t)}var Re=0,Ne=1,Le=6;function Fe(t){for(;Array.isArray(t);)t=t[_e];return t}function Ue(t,e){return Fe(e[t.index])}function He(t,e){var n=e[t];return n.length>=fe?n:n[_e]}function Ve(t){return t[de]}function Be(t){var e=Ve(t);return e?Array.isArray(e)?e:e.lViewData:null}function ze(t,e){t[de]=e}function Ge(t,e,n){t.afterContentInit&&(e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentInit),t.afterContentChecked&&((e.contentHooks||(e.contentHooks=[])).push(n,t.afterContentChecked),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,t.afterContentChecked))}function We(t,e,n){t.afterViewInit&&(e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewInit),t.afterViewChecked&&((e.viewHooks||(e.viewHooks=[])).push(n,t.afterViewChecked),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,t.afterViewChecked))}function qe(t,e,n){null!=t.onDestroy&&(e.destroyHooks||(e.destroyHooks=[])).push(n,t.onDestroy)}function Ye(t,e,n){16&t[ge]&&(Xe(t,e.initHooks,e.checkHooks,n),t[ge]&=-17)}function Xe(t,e,n,r){var o=r?e:n;o&&Ze(t,o)}function Ze(t,e){for(var n=0;n<e.length;n+=2)e[n+1].call(t[e[n]])}var Qe=9,Ke="ngProjectAs";function Je(t){return!!t.listen}var $e={createRenderer:function(t,e){return document}},tn=[];function en(t){for(var e=t[we];e&&2===e.type;)e=(t=t[me])[we];return t}function nn(t,e,n,r,o){0===t?Je(e)?e.insertBefore(n,r,o):n.insertBefore(r,o,!0):1===t?Je(e)?e.removeChild(n,r):n.removeChild(r):2===t&&e.destroyNode(r)}function rn(t){var e=t[ve].childIndex;return-1===e?null:t[e]}function on(t,e){var n;return t.length>=fe&&(n=t[we])&&2===n.type?function(e,n){if(-1===e.index){var r=t[Ie];return r>-1?t[me][r]:null}return t[me][e.parent.index]}(n):t[me]===e?null:t[me]}function sn(t){if(t.length>=fe){var e=t;!function(t){var e=t[ve].cleanup;if(null!=e){for(var n=0;n<e.length-1;n+=2)"string"==typeof e[n]?(Fe(t[e[n+1]]).removeEventListener(e[n],t[xe][e[n+2]],e[n+3]),n+=2):"number"==typeof e[n]?(0,t[xe][e[n]])():e[n].call(t[xe][e[n+1]]);t[xe]=null}}(e),function(t){var e,n=t[ve];null!=n&&null!=(e=n.destroyHooks)&&Ze(t,e)}(e),(r=(n=e)[ve]&&n[ve].pipeDestroyHooks)&&Ze(n,r),-1===e[ve].id&&Je(e[Se])&&e[Se].destroy()}var n,r}var an,un,ln,cn,hn,pn,dn,fn,vn=Promise.resolve(null);function gn(){return un}var mn=!1,yn=!0,bn=-1;function _n(t,e){var n=fn;return hn=t&&t[ve],dn=t&&1==(1&t[ge]),yn=t&&hn.firstTemplatePass,bn=t&&hn.bindingStartIndex,an=t&&t[Se],ln=e,cn=!0,fn=t,n&&(n[be]=pn),pn=t&&t[be],n}function wn(t,e){e||(mn||Xe(fn,hn.viewHooks,hn.viewCheckHooks,dn),fn[ge]&=-6),fn[ge]|=16,fn[Ce]=hn.bindingStartIndex,_n(t,null)}function Cn(){xn();var t=yn;hn.firstTemplatePass=yn=!1,mn||Ye(fn,hn,dn),function(t){for(var e=rn(fn);null!==e;e=e[ye])if(e.length<fe&&-1===e[Re])for(var n=e,r=0;r<n[Ne].length;r++){var o=n[Ne][r];Sn(o,o[ve],o[Pe],2)}}(),function(t){if(null!=t.contentQueries)for(var e=0;e<t.contentQueries.length;e+=2){var n=t.contentQueries[e];t.data[n].contentQueriesRefresh(n-fe,t.contentQueries[e+1])}}(hn),mn||Xe(fn,hn.contentHooks,hn.contentCheckHooks,dn),function(t,e){if(null!=t)for(var n=0;n<t.length;n++)Mn(t[n],e)}(hn.components,t)}function xn(){if(hn.expandoInstructions){bn=fn[Ce]=hn.expandoStartIndex;for(var t=-1,e=-1,n=0;n<hn.expandoInstructions.length;n++){var r=hn.expandoInstructions[n];"number"==typeof r?r<=0?(e=-r,"number"==typeof fn[bn]&&(bn+=Qe),t=bn):bn+=r:(fn[Ce]=bn,r(t-fe,e),t++)}}}function Pn(t,e,n,r,o){var i=e.blueprint.slice();return i[ge]=25|r,i[me]=i[De]=fn,i[Pe]=n,i[Ee]=fn?fn[Ee]:null,i[Se]=t,i[je]=o||null,i}function En(t,e,n,r,o){var i=t+fe;fn[i]=n;var s=hn.data[i];return null==s&&(s=hn.data[i]=On(e,i,r,o,null),ln&&(!cn||null!=ln.child||null===s.parent&&2!==ln.type?cn||(ln.next=s):ln.child=s)),null==hn.firstChild&&3===e&&(hn.firstChild=s),ln=s,cn=!0,s}function Sn(t,e,n,r){var o,i=cn,s=ln;if(64&t[ge])Nn(t[Pe]);else try{cn=!0,ln=null,o=_n(t,t[we]),An(),e.template(r,n),2&r?Cn():t[ve].firstTemplatePass=yn=!1}finally{wn(o,1==(1&r)),cn=i,ln=s}}function jn(t,e,n){var r=_n(t,t[we]);try{un.begin&&un.begin(),n?(An(),n(In(t),e),Cn()):(mn||(Ye(fn,hn,dn),Xe(fn,hn.contentHooks,hn.contentCheckHooks,dn)),xn(),Mn(fe,!1))}finally{un.end&&un.end(),wn(r)}}function In(t){return 1&t[ge]?3:2}var Dn=null;function An(){Dn=null}function kn(t,e,n,r,o,i,s){var a=fe+n,u=a+r,l=function(t,e){var n=new Array(e).fill(null,0,t).fill(Hn,t);return n[Ie]=-1,n[Ce]=t,n}(a,u);return l[ve]={id:t,blueprint:l,template:e,viewQuery:s,node:null,data:l.slice(),childIndex:-1,bindingStartIndex:a,expandoStartIndex:u,expandoInstructions:null,firstTemplatePass:!0,initHooks:null,checkHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,pipeDestroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof i?i():i,currentMatches:null,firstChild:null}}function Tn(t,e){un=t;var n=t.createRenderer(null,null);return"string"==typeof e?Je(n)?n.selectRootElement(e):n.querySelector(e):e}function On(t,e,n,r,o){var i=cn?ln:ln&&ln.parent,s=i&&fn&&i!==fn[we]?i:null;return{type:t,index:e,injectorIndex:s?s.injectorIndex:-1,flags:0,tagName:n,attrs:r,localNames:null,initialInputs:void 0,inputs:void 0,outputs:void 0,tViews:o,next:null,child:null,parent:s,detached:null,stylingTemplate:null,projection:null}}function Mn(t,e){var n=He(t,fn);Rn(n)&&6&n[ge]&&(e&&function(t){for(var e=t[ve],n=t.length;n<e.blueprint.length;n++)t[n]=e.blueprint[n]}(n),Un(n,n[Pe]))}function Rn(t){return 8==(8&t[ge])}function Nn(t){for(var e=0;e<t.components.length;e++){var n=t.components[e];jn(Be(n),n)}}function Ln(t){Un(function(t){var e,n=Ve(t);if(Array.isArray(n)){var r=function(t,e){var n=t[ve].components;if(n)for(var r=0;r<n.length;r++){var o=n[r];if(He(o,t)[Pe]===e)return o}else if(He(fe,t)[Pe]===e)return fe;return-1}(n,t);(o=function(t,e,n){return{lViewData:t,nodeIndex:e,native:n,component:void 0,directives:void 0,localRefs:void 0}}(n,r,(e=He(r,n))[_e])).component=t,ze(t,o),ze(o.native,o)}else{var o;e=He((o=n).nodeIndex,o.lViewData)}return e}(t),t)}function Fn(t){Nn(t[Pe])}function Un(t,e){var n=t[ve],r=_n(t,t[we]),o=n.template,i=n.viewQuery;try{An(),function(e,n,r){e&&1&t[ge]&&e(1,r)}(i,0,e),o(In(t),e),Cn(),function(t,e){t&&t(2,e)}(i,e)}finally{wn(r)}}var Hn={},Vn=vn,Bn=[0,1];function zn(t,e,n,r,o,i){var s=function(t,e,n,r){if(ze(e,fn),r&&ze(r,fn),fn[t]=e,yn){var o=ln.flags;0===o?ln.flags=t<<15|4096&o|1:ln.flags++,hn.data.push(n),hn.blueprint.push(null),n.hostBindings&&hn.expandoInstructions.push((s=n).hostBindings,s.hostVars)}else{var i=n.diPublic;i&&i(n)}var s;return null!=n.attributes&&3==ln.type&&function(t,e){for(var n=Je(an),r=0;r<e.length;){var o=e[r];if(1===o)break;if(o===Ke)r+=2;else if(0===o){var i=e[r+1],s=e[r+2],a=e[r+3];n?an.setAttribute(t,s,a,i):t.setAttributeNS(i,s,a),r+=4}else a=e[r+1],n?an.setAttribute(t,o,a):t.setAttribute(o,a),r+=2}}(r,n.attributes),e}(r.length,n.factory(),n,t);return o.components.push(s),e[Pe]=s,i&&i.forEach(function(t){return t(s,n)}),r[ve].firstTemplatePass&&function(t){for(var e=0;e<t;e++)fn.push(Hn),hn.blueprint.push(Hn),hn.data.push(null)}(n.hostVars),xn(),s}function Gn(t,e){return{components:[],scheduler:t,clean:Vn,playerHandler:e||null,flags:0}}function Wn(t,e){var n,r,o,i,s=Be(t)[ve],a=s.data.length-1;n=a,o=e.doCheck,i=s,(r=e.onInit)&&(i.initHooks||(i.initHooks=[])).push(n,r),o&&((i.initHooks||(i.initHooks=[])).push(n,o),(i.checkHooks||(i.checkHooks=[])).push(n,o)),function(t,e){if(e.firstTemplatePass)for(var n=t>>15,r=n+(4095&t),o=n;o<r;o++){var i=e.data[o];Ge(i,e,o),We(i,e,o),qe(i,e,o)}}(a<<15|1,s)}var qn=function(){return function(){}}(),Yn=function(){return function(){}}();function Xn(t){var e=Error("No component factory found for "+Lt(t)+". Did you add it to @NgModule.entryComponents?");return e[Qn]=t,e}var Zn,Qn="ngComponent",Kn=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw Xn(t)},t}(),Jn=function(){function t(){}return t.NULL=new Kn,t}(),$n=function(){function t(t,e,n){this._parent=e,this._ngModule=n,this._factories=new Map;for(var r=0;r<t.length;r++){var o=t[r];this._factories.set(o.componentType,o)}}return t.prototype.resolveComponentFactory=function(t){var e=this._factories.get(t);if(!e&&this._parent&&(e=this._parent.resolveComponentFactory(t)),!e)throw Xn(t);return new tr(e,this._ngModule)},t}(),tr=function(t){function e(e,n){var r=t.call(this)||this;return r.factory=e,r.ngModule=n,r.selector=e.selector,r.componentType=e.componentType,r.ngContentSelectors=e.ngContentSelectors,r.inputs=e.inputs,r.outputs=e.outputs,r}return o(e,t),e.prototype.create=function(t,e,n,r){return this.factory.create(t,e,n,r||this.ngModule)},e}(Yn),er=function(){return function(){}}(),nr=function(){return function(){}}(),rr=function(t){function e(e){var n=t.call(this,e,null,-1)||this;return n._view=e,n}return o(e,t),e.prototype.detectChanges=function(){Fn(this._view)},e.prototype.checkNoChanges=function(){!function(t){mn=!0;try{Fn(t)}finally{mn=!1}}(this._view)},e}(function(){function t(t,e,n){this._context=e,this._componentIndex=n,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null,this._view=t}return Object.defineProperty(t.prototype,"context",{get:function(){return this._context?this._context:this._lookUpContext()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 32==(32&this._view[ge])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){var t,e;this._viewContainerRef&&Rn(this._view)&&(this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),this._viewContainerRef=null),Je(e=(t=this._view)[Se])&&e.destroyNode&&function(e,n,r,o,i){for(var s=t[ve].node,a=-1,u=t,l=s.child;l;){var c=null;if(3===l.type){nn(2,r,null,Ue(l,u),i);var h=u[l.index];v=h,Array.isArray(v)&&"number"==typeof v[Re]&&nn(2,r,null,h[Le],i)}else if(0===l.type){var p=u[l.index];nn(2,r,null,p[Le],i),p[Ne].length&&(c=(u=p[Ne][0])[ve].node,i=p[Le])}else if(1===l.type){var d=en(u),f=d[we].projection[l.projection];tn[++a]=l,tn[++a]=u,f&&(c=(u=d[me])[ve].data[f.index])}else c=l.child;if(null===c)for(null===l.next&&8192&l.flags&&(u=tn[a--],l=tn[a--]),c=l.next;!c;){if(null===(l=l.parent||u[ve].node)||l===s)return null;0===l.type&&(i=(u=u[me])[l.index][Le]),c=2===l.type&&u[ye]?(u=u[ye])[ve].node:l.next}l=c}var v}(0,0,e),function(t){if(-1===t[ve].childIndex)return sn(t);for(var e=rn(t);e;){var n=null;if(e.length>=fe?e[ve].childIndex>-1&&(n=rn(e)):e[Ne].length&&(n=e[Ne][0]),null==n){for(;e&&!e[ye]&&e!==t;)sn(e),e=on(e,t);sn(e||t),n=e&&e[ye]}e=n}}(t),t[ge]|=32},t.prototype.onDestroy=function(t){var e,n;n=t,function(t){return t[xe]||(t[xe]=[])}(e=this._view).push(n),e[ve].firstTemplatePass&&function(t){return t[ve].cleanup||(t[ve].cleanup=[])}(e).push(e[xe].length-1,null)},t.prototype.markForCheck=function(){!function(t){for(var e=t;e&&!(64&e[ge]);)e[ge]|=4,e=e[me];var n,r,o;e[ge]|=4,o=0===(n=e[Pe]).flags,n.flags|=1,o&&n.clean==vn&&(n.clean=new Promise(function(t){return r=t}),n.scheduler(function(){if(1&n.flags&&(n.flags&=-2,Nn(n)),2&n.flags){n.flags&=-3;var t=n.playerHandler;t&&t.flushPlayers()}n.clean=vn,r(null)}))}(this._view)},t.prototype.detach=function(){this._view[ge]&=-9},t.prototype.reattach=function(){this._view[ge]|=8},t.prototype.detectChanges=function(){var t=gn();t.begin&&t.begin(),Ln(this.context),t.end&&t.end()},t.prototype.checkNoChanges=function(){!function(t){mn=!0;try{Ln(t)}finally{mn=!1}}(this.context)},t.prototype.attachToViewContainerRef=function(t){this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){this._appRef=null},t.prototype.attachToAppRef=function(t){this._appRef=t},t.prototype._lookUpContext=function(){return this._context=this._view[me][this._componentIndex]},t}());function or(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]}var ir=or,sr=or,ar=or,ur=or,lr=or,cr=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return ir(t)},t}(),hr=function(){return function(){}}(),pr=function(){return function(){}}(),dr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),fr=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return lr()},t}(),vr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.resolveComponentFactory=function(t){return new _r(t[yt]||null)},e}(Jn);function gr(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var mr=new Et("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:function(){return Gn(ce(yr))}}),yr=new Et("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return"undefined"!=typeof requestAnimationFrame&&"undefined"!=typeof window?requestAnimationFrame.bind(window):setTimeout}}),br=new Et("WRAP_RENDERER_FACTORY2"),_r=function(t){function e(e){var n=t.call(this)||this;return n.componentDef=e,n.componentType=e.type,n.selector=e.selectors[0][0],n.ngContentSelectors=[],n}return o(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return gr(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return gr(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i,s=void 0===n;i=r?r.injector.get(br,function(t){return t})(r.injector.get(pr)):$e;var a,u,l=s?(a=this.selector,Je(u=i.createRenderer(null,this.componentDef)||an)?u.createElement(a,Dn):null===Dn?u.createElement(a):u.createElementNS(Dn,a)):Tn(i,n),c=this.componentDef.onPush?68:66,h=r&&!s?r.injector.get(mr):Gn(requestAnimationFrame.bind(window)),p=i.createRenderer(l,this.componentDef),d=Pn(p,kn(-1,null,1,0,null,null,null),h,c);d[Ee]=r&&r.injector||null;var f,v,g,m,y=_n(d,null);try{i.begin&&i.begin();var b=function(t,e,n,r,o){cn=!1,ln=null;var i,s=n[ve],a=Pn(r,(i=e.template).ngPrivateData||(i.ngPrivateData=kn(-1,i,e.consts,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery)),null,e.onPush?4:2,o),u=En(0,3,t,null,null);return s.firstTemplatePass&&(s.expandoInstructions=Bn.slice(),e.diPublic&&e.diPublic(e),u.flags=n.length<<15|4096),a[_e]=n[fe],a[we]=u,n[fe]=a}(l,this.componentDef,d,p);if(v=d[ve].data[0+fe],e)for(var _=0,w=v.projection=[],C=0;C<e.length;C++){for(var x=e[C],P=null,E=null,S=0;S<x.length;S++){m=void 0,(m=(g=d)[ve]).firstTemplatePass&&(m.expandoStartIndex++,m.blueprint.push(null),g.push(null));var j=En(++_,3,x[S],null,null);E?E.next=j:P=j,E=j}w.push(P)}f=zn(l,b,this.componentDef,d,h,[Wn]),Sn(b,b[ve],f,1),b[ge]&=-2}finally{_n(y,null),i.end&&i.end()}var I=new wr(this.componentType,f,d,t,function(t,e,n){return Zn||(Zn=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e}(cr)),new Zn(Ue(e,n))}(0,v,d));return s&&(I.hostView._tViewNode.child=v),I},e}(Yn),wr=function(t){function e(e,n,r,o,i){var s,a=t.call(this)||this;return a.location=i,a.destroyCbs=[],a.instance=n,a.hostView=a.changeDetectorRef=new rr(r),a.hostView._tViewNode=(-1,null==(s=r)[ve].node&&(s[ve].node=On(2,-1,null,null,null)),cn=!0,ln=s[we]=s[ve].node),a.injector=o,a.componentType=e,a}return o(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(qn),Cr=new Et("The presence of this token marks an injector as being the root injector."),xr={},Pr={},Er=[],Sr=void 0;function jr(){return void 0===Sr&&(Sr=new Xt),Sr}var Ir=function(){function t(t,e,n){var r=this;this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this.destroyed=!1,kr([t],function(t){return r.processInjectorType(t,new Set)}),e&&kr(e,function(t){return r.processProvider(t)}),this.records.set(Yt,Ar(void 0,this)),this.isRootInjector=this.records.has(Cr),this.injectorDefTypes.forEach(function(t){return r.get(t)})}return t.prototype.destroy=function(){this.assertNotDestroyed(),this.destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=qt),void 0===n&&(n=0),this.assertNotDestroyed();var r,o=le(this);try{if(!(4&n)){var i=this.records.get(t);if(void 0===i){var s=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Et)&&xt(t);s&&this.injectableDefInScope(s)&&(i=Dr(t),this.records.set(t,i))}if(void 0!==i)return this.hydrate(t,i)}return 2&n&&jr(),this.parent.get(t,e)}finally{le(o)}},t.prototype.assertNotDestroyed=function(){if(this.destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e){var n=this,r=Pt(t=Ut(t)),o=null==r&&t.ngModule||void 0,i=void 0===o?t:o,s=void 0!==o&&t.providers||Er;if(void 0!==o&&(r=Pt(o)),null!=r){if(e.has(i))throw new Error("Circular dependency: type "+Lt(i)+" ends up importing itself.");if(this.injectorDefTypes.add(i),this.records.set(i,Ar(r.factory)),null!=r.imports){e.add(i);try{kr(r.imports,function(t){return n.processInjectorType(t,e)})}finally{e.delete(i)}}null!=r.providers&&kr(r.providers,function(t){return n.processProvider(t)}),kr(s,function(t){return n.processProvider(t)})}},t.prototype.processProvider=function(t){var e=Tr(t=Ut(t))?t:Ut(t.provide),n=function(t){var e=Ut(t),n=xr,r=void 0;if(Tr(t))return Dr(t);if(e=Ut(t.provide),te in t)n=t.useValue;else if(t.useExisting)r=function(){return ce(t.useExisting)};else if(t.useFactory)r=function(){return t.useFactory.apply(t,c(he(t.deps||[])))};else{var o=t.useClass||e;if(!t.deps)return Dr(o);r=function(){return new(o.bind.apply(o,c([void 0],he(t.deps))))}}return Ar(r,n)}(t);if(Tr(t)||!0!==t.multi){var r=this.records.get(e);if(r&&void 0!==r.multi)throw new Error("Mixed multi-provider for "+Lt(e))}else{var o=this.records.get(e);if(o){if(void 0===o.multi)throw new Error("Mixed multi-provider for "+e+".")}else(o=Ar(void 0,xr,!0)).factory=function(){return he(o.multi)},this.records.set(e,o);e=t,o.multi.push(t)}this.records.set(e,n)},t.prototype.hydrate=function(t,e){if(e.value===Pr)throw new Error("Circular dep for "+Lt(t));var n;return e.value===xr&&(e.value=Pr,e.value=e.factory()),"object"==typeof e.value&&e.value&&"object"==typeof(n=e.value)&&null!=n&&n.ngOnDestroy&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||"root"===t.providedIn&&this.isRootInjector:this.injectorDefTypes.has(t.providedIn))},t}();function Dr(t){var e=xt(t);if(null===e){if(t instanceof Et)throw new Error("Token "+Lt(t)+" is missing an ngInjectableDef definition.");return Ar(function(){return new t})}return Ar(e.factory)}function Ar(t,e,n){return void 0===e&&(e=xr),void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function kr(t,e){t.forEach(function(t){return Array.isArray(t)?kr(t,e):e(t)})}function Tr(t){return"function"==typeof t}var Or={provide:Jn,useFactory:function(){return new vr},deps:[]},Mr=function(t){function e(e,n){var r=t.call(this)||this;return r._bootstrapComponents=[],r.destroyCbs=[],r._bootstrapComponents=(e[wt]||null).bootstrap,r.injector=function(t,e,n){return void 0===e&&(e=null),void 0===n&&(n=null),e=e||jr(),new Ir(t,n,e)}(e,n,[Or,{provide:er,useValue:r}]),r.instance=r.injector.get(e),r.componentFactoryResolver=new vr,r}return o(e,t),e.prototype.destroy=function(){this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(er);!function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,n}o(e,t),e.prototype.create=function(t){return new Mr(this.moduleType,t)}}(nr);var Rr=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return o(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var o,i=function(t){return null},s=function(){return null};e&&"object"==typeof e?(o=this.__isAsync?function(t){setTimeout(function(){return e.next(t)})}:function(t){e.next(t)},e.error&&(i=this.__isAsync?function(t){setTimeout(function(){return e.error(t)})}:function(t){e.error(t)}),e.complete&&(s=this.__isAsync?function(){setTimeout(function(){return e.complete()})}:function(){e.complete()})):(o=this.__isAsync?function(t){setTimeout(function(){return e(t)})}:function(t){e(t)},n&&(i=this.__isAsync?function(t){setTimeout(function(){return n(t)})}:function(t){n(t)}),r&&(s=this.__isAsync?function(){setTimeout(function(){return r()})}:function(){r()}));var a=t.prototype.subscribe.call(this,o,i,s);return e instanceof _&&e.add(a),a},e}(U),Nr=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return sr(t,cr)},t}(),Lr=!0,Fr=!1;function Ur(){return Fr=!0,Lr}var Hr=function(){function t(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(t){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return t.prototype.getInertBodyElement_XHR=function(t){t="<body><remove></remove>"+t+"</body>";try{t=encodeURI(t)}catch(r){return null}var e=new XMLHttpRequest;e.responseType="document",e.open("GET","data:text/html;charset=utf-8,"+t,!1),e.send(void 0);var n=e.response.body;return n.removeChild(n.firstChild),n},t.prototype.getInertBodyElement_DOMParser=function(t){t="<body><remove></remove>"+t+"</body>";try{var e=(new window.DOMParser).parseFromString(t,"text/html").body;return e.removeChild(e.firstChild),e}catch(n){return null}},t.prototype.getInertBodyElement_InertDocument=function(t){var e=this.inertDocument.createElement("template");return"content"in e?(e.innerHTML=t,e):(this.inertBodyElement.innerHTML=t,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)},t.prototype.stripCustomNsAttrs=function(t){for(var e=t.attributes,n=e.length-1;0<n;n--){var r=e.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||t.removeAttribute(r)}for(var o=t.firstChild;o;)o.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(o),o=o.nextSibling},t}(),Vr=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,Br=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function zr(t){return(t=String(t)).match(Vr)||t.match(Br)?t:(Ur()&&console.warn("WARNING: sanitizing unsafe URL value "+t+" (see http://g.co/ng/security#xss)"),"unsafe:"+t)}function Gr(t){var e,n,r={};try{for(var o=u(t.split(",")),i=o.next();!i.done;i=o.next())r[i.value]=!0}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return r}function Wr(){for(var t,e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o={};try{for(var i=u(n),s=i.next();!s.done;s=i.next()){var a=s.value;for(var l in a)a.hasOwnProperty(l)&&(o[l]=!0)}}catch(c){t={error:c}}finally{try{s&&!s.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}return o}var qr,Yr=Gr("area,br,col,hr,img,wbr"),Xr=Gr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zr=Gr("rp,rt"),Qr=Wr(Zr,Xr),Kr=Wr(Yr,Wr(Xr,Gr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Wr(Zr,Gr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qr),Jr=Gr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),$r=Gr("srcset"),to=Wr(Jr,$r,Gr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width")),eo=function(){function t(){this.sanitizedSomething=!1,this.buf=[]}return t.prototype.sanitizeChildren=function(t){for(var e=t.firstChild;e;)if(e.nodeType===Node.ELEMENT_NODE?this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);var n=this.checkClobberedElement(e,e.nextSibling);if(n){e=n;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")},t.prototype.startElement=function(t){var e=t.nodeName.toLowerCase();if(Kr.hasOwnProperty(e)){this.buf.push("<"),this.buf.push(e);for(var n,r=t.attributes,o=0;o<r.length;o++){var i=r.item(o),s=i.name,a=s.toLowerCase();if(to.hasOwnProperty(a)){var u=i.value;Jr[a]&&(u=zr(u)),$r[a]&&(n=u,u=(n=String(n)).split(",").map(function(t){return zr(t.trim())}).join(", ")),this.buf.push(" ",s,'="',oo(u),'"')}else this.sanitizedSomething=!0}this.buf.push(">")}else this.sanitizedSomething=!0},t.prototype.endElement=function(t){var e=t.nodeName.toLowerCase();Kr.hasOwnProperty(e)&&!Yr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))},t.prototype.chars=function(t){this.buf.push(oo(t))},t.prototype.checkClobberedElement=function(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+t.outerHTML);return e},t}(),no=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ro=/([^\#-~ |!])/g;function oo(t){return t.replace(/&/g,"&amp;").replace(no,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(ro,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function io(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var so=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({}),ao=function(){return function(){}}(),uo=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),lo=/^url\(([^)]+)\)$/;String,String;var co=new(function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}())("7.0.4"),ho="ngDebugContext",po="ngOriginalError",fo="ngErrorLogger";function vo(t){return t[ho]}function go(t){return t[po]}function mo(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,c(e))}var yo=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t[fo]||mo}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?vo(t)?vo(t):this._findContext(go(t)):null},t.prototype._findOriginalError=function(t){for(var e=go(t);e&&go(e);)e=go(e);return e},t}();function bo(t){return!!t&&"function"==typeof t.then}function _o(t){return!!t&&"function"==typeof t.subscribe}var wo=new Et("Application Initializer"),Co=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,n){e.resolve=t,e.reject=n})}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var o=this.appInits[r]();bo(o)&&e.push(o)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}},t}(),xo=new Et("AppId");function Po(){return""+Eo()+Eo()+Eo()}function Eo(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var So=new Et("Platform Initializer"),jo=new Et("Platform ID"),Io=new Et("appBootstrapListener"),Do=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t}();function Ao(){throw new Error("Runtime compiler is not loaded")}var ko,To,Oo=function(){function t(){}return t.prototype.compileModuleSync=function(t){throw Ao()},t.prototype.compileModuleAsync=function(t){throw Ao()},t.prototype.compileModuleAndAllComponentsSync=function(t){throw Ao()},t.prototype.compileModuleAndAllComponentsAsync=function(t){throw Ao()},t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t}(),Mo=function(){return function(){}}();function Ro(){var t=kt.wtf;return!(!t||!(ko=t.trace)||(To=ko.events,0))}var No=Ro();function Lo(t,e){return null}var Fo=No?function(t,e){return void 0===e&&(e=null),To.createScope(t,e)}:function(t,e){return Lo},Uo=No?function(t,e){return ko.leaveScope(t,e),e}:function(t,e){return e},Ho=function(){function t(t){var e,n=t.enableLongStackTrace,r=void 0!==n&&n;if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rr(!1),this.onMicrotaskEmpty=new Rr(!1),this.onStable=new Rr(!1),this.onError=new Rr(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(e=this)._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,n,r,o,i,s){try{return Go(e),t.invokeTask(r,o,i,s)}finally{Wo(e)}},onInvoke:function(t,n,r,o,i,s,a){try{return Go(e),t.invoke(r,o,i,s,a)}finally{Wo(e)}},onHasTask:function(t,n,r,o){t.hasTask(r,o),n===r&&("microTask"==o.change?(e.hasPendingMicrotasks=o.microTask,zo(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:function(t,n,r,o){return t.handleError(r,o),e.runOutsideAngular(function(){return e.onError.emit(o)}),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+r,t,Bo,Vo,Vo);try{return o.runTask(i,e,n)}finally{o.cancelTask(i)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function Vo(){}var Bo={};function zo(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Go(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Wo(t){t._nesting--,zo(t)}var qo,Yo=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rr,this.onMicrotaskEmpty=new Rr,this.onStable=new Rr,this.onError=new Rr}return t.prototype.run=function(t){return t()},t.prototype.runGuarded=function(t){return t()},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t){return t()},t}(),Xo=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this._watchAngularEvents(),t.run(function(){e.taskTrackingZone=Zone.current.get("TaskTrackingZone")})}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){Ho.assertNotInAngularZone(),Rt(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Rt(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]},t.prototype.addCallback=function(t,e,n){var r=this,o=-1;e&&e>0&&(o=setTimeout(function(){r._callbacks=r._callbacks.filter(function(t){return t.timeoutId!==o}),t(r._didWork,r.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t}(),Zo=function(){function t(){this._applications=new Map,Qo.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),Qo.findTestabilityInTree(this,t,e)},s([a("design:paramtypes",[])],t)}(),Qo=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),Ko=new Et("AllowMultipleToken"),Jo=function(){return function(t,e){this.name=t,this.token=e}}();function $o(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,o=new Et(r);return function(e){void 0===e&&(e=[]);var i=ti();if(!i||i.injector.get(Ko,!1))if(t)t(n.concat(e).concat({provide:o,useValue:!0}));else{var s=n.concat(e).concat({provide:o,useValue:!0});!function(t){if(qo&&!qo.destroyed&&!qo.injector.get(Ko,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");qo=t.get(ei);var e=t.get(So,null);e&&e.forEach(function(t){return t()})}(Zt.create({providers:s,name:r}))}return function(t){var e=ti();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(o)}}function ti(){return qo&&!qo.destroyed?qo:null}var ei=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r=this,o="noop"===(n=e?e.ngZone:void 0)?new Yo:("zone.js"===n?void 0:n)||new Ho({enableLongStackTrace:Ur()}),i=[{provide:Ho,useValue:o}];return o.run(function(){var e=Zt.create({providers:i,parent:r.injector,name:t.moduleType.name}),n=t.create(e),s=n.injector.get(yo,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy(function(){return oi(r._modules,n)}),o.runOutsideAngular(function(){return o.onError.subscribe({next:function(t){s.handleError(t)}})}),function(t,e,o){try{var i=((s=n.injector.get(Co)).runInitializers(),s.donePromise.then(function(){return r._moduleDoBootstrap(n),n}));return bo(i)?i.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):i}catch(a){throw e.runOutsideAngular(function(){return t.handleError(a)}),a}var s}(s,o)})},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=ni({},e);return function(t,e,n){return t.get(Mo).createCompiler([e]).compileModuleAsync(n)}(this.injector,r,t).then(function(t){return n.bootstrapModuleFactory(t,r)})},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(ri);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Lt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t}();function ni(t,e){return Array.isArray(e)?e.reduce(ni,t):i({},t,e)}var ri=function(){function t(t,e,n,r,o,i){var s=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=o,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ur(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new O(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),u=new O(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){Ho.assertNotInAngularZone(),Rt(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){Ho.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return V(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof O?t[0]:lt(n)(rt(t,r))}(a,u.pipe(function(t){return ct()((e=gt,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,ft);return r.source=t,r.subjectFactory=n,r})(t));var e}))}var e;return e=t,t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Yn?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var o=n instanceof tr?null:this._injector.get(er),i=n.create(Zt.NULL,[],e||n.selector,o);i.onDestroy(function(){r._unloadComponent(i)});var s=i.injector.get(Xo,null);return s&&i.injector.get(Zo).registerApplication(i.location.nativeElement,s),this._loadComponent(i),Ur()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i},t.prototype.tick=function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0,this._views.forEach(function(t){return t.detectChanges()}),this._enforceNoNewChanges&&this._views.forEach(function(t){return t.checkNoChanges()})}catch(r){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(r)})}finally{this._runningTick=!1,Uo(n)}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;oi(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Io,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),oi(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach(function(t){return t.destroy()})},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t._tickScope=Fo("ApplicationRef#tick()"),t}();function oi(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var ii=function(){return function(){}}(),si=function(){function t(){this.dirty=!0,this._results=[],this.changes=new Rr,this.length=0}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype[Mt()]=function(){return this._results[Mt()]()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e){return e.reduce(function(e,n){var r=Array.isArray(n)?t(n):n;return e.concat(r)},[])}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),ai=function(){return function(){}}(),ui={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},li=function(){function t(t,e){this._compiler=t,this._config=e||ui}return t.prototype.load=function(t){return this._compiler instanceof Oo?this.loadFactory(t):this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=l(t.split("#"),2),o=r[0],i=r[1];return void 0===i&&(i="default"),n("crnd")(o).then(function(t){return t[i]}).then(function(t){return ci(t,o,i)}).then(function(t){return e._compiler.compileModuleAsync(t)})},t.prototype.loadFactory=function(t){var e=l(t.split("#"),2),r=e[0],o=e[1],i="NgFactory";return void 0===o&&(o="default",i=""),n("crnd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then(function(t){return t[o+i]}).then(function(t){return ci(t,r,o)})},t}();function ci(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var hi,pi=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ur(t,cr)},t}(),di=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return ar()},t}(),fi=(o(function(){return null!==hi&&hi.apply(this,arguments)||this},hi=di),function(){return function(t,e){this.name=t,this.callback=e}}()),vi=function(){function t(t,e,n){this.nativeNode=t,this._debugContext=n,this.listeners=[],this.parent=null,e&&e instanceof gi&&e.addChild(this)}return Object.defineProperty(t.prototype,"injector",{get:function(){return this._debugContext.injector},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentInstance",{get:function(){return this._debugContext.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._debugContext.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){return this._debugContext.references},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){return this._debugContext.providerTokens},enumerable:!0,configurable:!0}),t}(),gi=function(t){function e(e,n,r){var o=t.call(this,e,n,r)||this;return o.properties={},o.attributes={},o.classes={},o.styles={},o.childNodes=[],o.nativeElement=e,o}return o(e,t),e.prototype.addChild=function(t){t&&(this.childNodes.push(t),t.parent=this)},e.prototype.removeChild=function(t){var e=this.childNodes.indexOf(t);-1!==e&&(t.parent=null,this.childNodes.splice(e,1))},e.prototype.insertChildrenAfter=function(t,e){var n,r=this,o=this.childNodes.indexOf(t);-1!==o&&((n=this.childNodes).splice.apply(n,c([o+1,0],e)),e.forEach(function(t){t.parent&&t.parent.removeChild(t),t.parent=r}))},e.prototype.insertBefore=function(t,e){var n=this.childNodes.indexOf(t);-1===n?this.addChild(e):(e.parent&&e.parent.removeChild(e),e.parent=this,this.childNodes.splice(n,0,e))},e.prototype.query=function(t){return this.queryAll(t)[0]||null},e.prototype.queryAll=function(t){var e=[];return function t(e,n,r){e.childNodes.forEach(function(e){e instanceof gi&&(n(e)&&r.push(e),t(e,n,r))})}(this,t,e),e},e.prototype.queryAllNodes=function(t){var e=[];return function t(e,n,r){e instanceof gi&&e.childNodes.forEach(function(e){n(e)&&r.push(e),e instanceof gi&&t(e,n,r)})}(this,t,e),e},Object.defineProperty(e.prototype,"children",{get:function(){return this.childNodes.filter(function(t){return t instanceof e})},enumerable:!0,configurable:!0}),e.prototype.triggerEventHandler=function(t,e){this.listeners.forEach(function(n){n.name==t&&n.callback(e)})},e}(vi),mi=new Map;function yi(t){return mi.get(t)||null}function bi(t){mi.set(t.nativeNode,t)}var _i=function(){function t(){}return t.prototype.supports=function(t){return Oe(t)},t.prototype.create=function(t){return new Ci(t)},t}(),wi=function(t,e){return e},Ci=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||wi}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,o=null;e||n;){var i=!n||e&&e.currentIndex<Si(n,r,o)?e:n,s=Si(i,r,o),a=i.currentIndex;if(i===n)r--,n=n._nextRemoved;else if(e=e._next,null==i.previousIndex)r++;else{o||(o=[]);var u=s-r,l=a-r;if(u!=l){for(var c=0;c<u;c++){var h=c<o.length?o[c]:o[c]=0,p=h+c;l<=p&&p<u&&(o[c]=h+1)}o[i.previousIndex]=l-u}}s!==a&&t(i,s,a)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Oe(t))throw new Error("Error trying to diff '"+Lt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,o,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)o=this._trackByFn(a,r=t[a]),null!==i&&Nt(i.trackById,o)?(s&&(i=this._verifyReinsertion(i,r,o,a)),Nt(i.item,r)||this._addIdentityChange(i,r)):(i=this._mismatch(i,r,o,a),s=!0),i=i._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[Mt()](),o=void 0;!(o=r.next()).done;)e(o.value)}(t,function(t){o=e._trackByFn(n,t),null!==i&&Nt(i.trackById,o)?(s&&(i=e._verifyReinsertion(i,t,o,n)),Nt(i.item,t)||e._addIdentityChange(i,t)):(i=e._mismatch(i,t,o,n),s=!0),i=i._next,n++}),this.length=n;return this._truncate(i),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Nt(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,o,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Nt(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,o,r)):t=this._addAfter(new xi(e,n),o,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==o?t=this._reinsertAfter(o,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,o=t._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ei),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e?t:(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t,t)},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ei),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),xi=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Pi=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Nt(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Ei=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Pi,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Si(t,e,n){var r=t.previousIndex;if(null===r)return r;var o=0;return n&&r<n.length&&(o=n[r]),r+e+o}var ji=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Me(t)},t.prototype.create=function(){return new Ii},t}(),Ii=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Me(t)))throw new Error("Error trying to diff '"+Lt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var o=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,o=n._next;return r&&(r._next=o),o&&(o._prev=r),n._next=null,n._prev=null,n}var i=new Di(t);return this._records.set(t,i),i.currentValue=e,this._addToAdditions(i),i},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Nt(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})},t}(),Di=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),Ai=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new zt,new Vt]]}},t.prototype.find=function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.ngInjectableDef=Ct({providedIn:"root",factory:function(){return new t([new _i])}}),t}(),ki=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new zt,new Vt]]}},t.prototype.find=function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t}(),Ti=[new ji],Oi=new Ai([new _i]),Mi=new ki(Ti),Ri=$o(null,"core",[{provide:jo,useValue:"unknown"},{provide:ei,deps:[Zt]},{provide:Zo,deps:[]},{provide:Do,deps:[]}]),Ni=new Et("LocaleId");function Li(){return Oi}function Fi(){return Mi}function Ui(t){return t||"en-US"}var Hi=function(){return function(t){}}();function Vi(t,e,n){var r=t.state,o=1792&r;return o===e?(t.state=-1793&r|n,t.initIndex=-1,!0):o===n}function Bi(t,e,n){return(1792&t.state)===e&&t.initIndex<=n&&(t.initIndex=n+1,!0)}function zi(t,e){return t.nodes[e]}function Gi(t,e){return t.nodes[e]}function Wi(t,e){return t.nodes[e]}function qi(t,e){return t.nodes[e]}function Yi(t,e){return t.nodes[e]}var Xi={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Zi(t,e,n,r){var o="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '"+e+"'. Current value: '"+n+"'.";return r&&(o+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(t,e){var n=new Error(t);return Qi(n,e),n}(o,t)}function Qi(t,e){t[ho]=e,t[fo]=e.logError.bind(e)}function Ki(t){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+t)}var Ji=function(){},$i=new Map;function ts(t){var e=$i.get(t);return e||(e=Lt(t)+"_"+$i.size,$i.set(t,e)),e}var es="$$undefined",ns="$$empty";function rs(t){return{id:es,styles:t.styles,encapsulation:t.encapsulation,data:t.data}}var os=0;function is(t,e,n,r){return!(!(2&t.state)&&Nt(t.oldValues[e.bindingIndex+n],r))}function ss(t,e,n,r){return!!is(t,e,n,r)&&(t.oldValues[e.bindingIndex+n]=r,!0)}function as(t,e,n,r){var o=t.oldValues[e.bindingIndex+n];if(1&t.state||!Ae(o,r)){var i=e.bindings[n].name;throw Zi(Xi.createDebugContext(t,e.nodeIndex),i+": "+o,i+": "+r,0!=(1&t.state))}}function us(t){for(var e=t;e;)2&e.def.flags&&(e.state|=8),e=e.viewContainerParent||e.parent}function ls(t,e){for(var n=t;n&&n!==e;)n.state|=64,n=n.viewContainerParent||n.parent}function cs(t,e,n,r){try{return us(33554432&t.def.nodes[e].flags?Gi(t,e).componentView:t),Xi.handleEvent(t,e,n,r)}catch(o){t.root.errorHandler.handleError(o)}}function hs(t){return t.parent?Gi(t.parent,t.parentNodeDef.nodeIndex):null}function ps(t){return t.parent?t.parentNodeDef.parent:null}function ds(t,e){switch(201347067&e.flags){case 1:return Gi(t,e.nodeIndex).renderElement;case 2:return zi(t,e.nodeIndex).renderText}}function fs(t){return!!t.parent&&!!(32768&t.parentNodeDef.flags)}function vs(t){return!(!t.parent||32768&t.parentNodeDef.flags)}function gs(t){var e={},n=0,r={};return t&&t.forEach(function(t){var o=l(t,2),i=o[0],s=o[1];"number"==typeof i?(e[i]=s,n|=function(t){return 1<<t%32}(i)):r[i]=s}),{matchedQueries:e,references:r,matchedQueryIds:n}}function ms(t,e){return t.map(function(t){var n,r,o;return Array.isArray(t)?(o=(n=l(t,2))[0],r=n[1]):(o=0,r=t),r&&("function"==typeof r||"object"==typeof r)&&e&&Object.defineProperty(r,Gt,{value:e,configurable:!0}),{flags:o,token:r,tokenKey:ts(r)}})}function ys(t,e,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===pe.Native?Gi(t,n.renderParent.nodeIndex).renderElement:void 0:e}var bs=new WeakMap;function _s(t){var e=bs.get(t);return e||((e=t(function(){return Ji})).factory=t,bs.set(t,e)),e}function ws(t,e,n,r,o){3===e&&(n=t.renderer.parentNode(ds(t,t.def.lastRenderRootNode))),Cs(t,e,0,t.def.nodes.length-1,n,r,o)}function Cs(t,e,n,r,o,i,s){for(var a=n;a<=r;a++){var u=t.def.nodes[a];11&u.flags&&Ps(t,u,e,o,i,s),a+=u.childCount}}function xs(t,e,n,r,o,i){for(var s=t;s&&!fs(s);)s=s.parent;for(var a=s.parent,u=ps(s),l=u.nodeIndex+u.childCount,c=u.nodeIndex+1;c<=l;c++){var h=a.def.nodes[c];h.ngContentIndex===e&&Ps(a,h,n,r,o,i),c+=h.childCount}if(!a.parent){var p=t.root.projectableNodes[e];if(p)for(c=0;c<p.length;c++)Es(t,p[c],n,r,o,i)}}function Ps(t,e,n,r,o,i){if(8&e.flags)xs(t,e.ngContent.index,n,r,o,i);else{var s=ds(t,e);if(3===n&&33554432&e.flags&&48&e.bindingFlags?(16&e.bindingFlags&&Es(t,s,n,r,o,i),32&e.bindingFlags&&Es(Gi(t,e.nodeIndex).componentView,s,n,r,o,i)):Es(t,s,n,r,o,i),16777216&e.flags)for(var a=Gi(t,e.nodeIndex).viewContainer._embeddedViews,u=0;u<a.length;u++)ws(a[u],n,r,o,i);1&e.flags&&!e.element.name&&Cs(t,n,e.nodeIndex+1,e.nodeIndex+e.childCount,r,o,i)}}function Es(t,e,n,r,o,i){var s=t.renderer;switch(n){case 1:s.appendChild(r,e);break;case 2:s.insertBefore(r,e,o);break;case 3:s.removeChild(r,e);break;case 0:i.push(e)}}var Ss=/^:([^:]+):(.+)$/;function js(t){if(":"===t[0]){var e=t.match(Ss);return[e[1],e[2]]}return["",t]}function Is(t){for(var e=0,n=0;n<t.length;n++)e|=t[n].flags;return e}function Ds(t,e,n,r,o,i){t|=1;var s=gs(e);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:t,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s.matchedQueries,matchedQueryIds:s.matchedQueryIds,references:s.references,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?_s(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:o||Ji},provider:null,text:null,query:null,ngContent:null}}function As(t,e,n,r,o,i,s,a,u,c,h,p){var d;void 0===s&&(s=[]),c||(c=Ji);var f=gs(n),v=f.matchedQueries,g=f.references,m=f.matchedQueryIds,y=null,b=null;i&&(y=(d=l(js(i),2))[0],b=d[1]),a=a||[];for(var _=new Array(a.length),w=0;w<a.length;w++){var C=l(a[w],3),x=C[0],P=C[2],E=l(js(C[1]),2),S=E[0],j=E[1],I=void 0,D=void 0;switch(15&x){case 4:D=P;break;case 1:case 8:I=P}_[w]={flags:x,ns:S,name:j,nonMinifiedName:j,securityContext:I,suffix:D}}u=u||[];var A=new Array(u.length);for(w=0;w<u.length;w++){var k=l(u[w],2);A[w]={type:0,target:k[0],eventName:k[1],propName:null}}var T=(s=s||[]).map(function(t){var e=l(t,2),n=e[1],r=l(js(e[0]),2);return[r[0],r[1],n]});return p=function(t){if(t&&t.id===es){var e=null!=t.encapsulation&&t.encapsulation!==pe.None||t.styles.length||Object.keys(t.data).length;t.id=e?"c"+os++:ns}return t&&t.id===ns&&(t=null),t||null}(p),h&&(e|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:v,matchedQueryIds:m,references:g,ngContentIndex:r,childCount:o,bindings:_,bindingFlags:Is(_),outputs:A,element:{ns:y,name:b,attrs:T,template:null,componentProvider:null,componentView:h||null,componentRendererType:p,publicProviders:null,allProviders:null,handleEvent:c||Ji},provider:null,text:null,query:null,ngContent:null}}function ks(t,e,n){var r,o=n.element,i=t.root.selectorOrNode,s=t.renderer;if(t.parent||!i){r=o.name?s.createElement(o.name,o.ns):s.createComment("");var a=ys(t,e,n);a&&s.appendChild(a,r)}else r=s.selectRootElement(i,!!o.componentRendererType&&o.componentRendererType.encapsulation===pe.ShadowDom);if(o.attrs)for(var u=0;u<o.attrs.length;u++){var c=l(o.attrs[u],3);s.setAttribute(r,c[1],c[2],c[0])}return r}function Ts(t,e,n,r){for(var o=0;o<n.outputs.length;o++){var i=n.outputs[o],s=Os(t,n.nodeIndex,(h=i.eventName,(c=i.target)?c+":"+h:h)),a=i.target,u=t;"component"===i.target&&(a=null,u=e);var l=u.renderer.listen(a||r,i.eventName,s);t.disposables[n.outputIndex+o]=l}var c,h}function Os(t,e,n){return function(r){return cs(t,e,n,r)}}function Ms(t,e,n,r){if(!ss(t,e,n,r))return!1;var o=e.bindings[n],i=Gi(t,e.nodeIndex),s=i.renderElement,a=o.name;switch(15&o.flags){case 1:!function(t,e,n,r,o,i){var s=e.securityContext,a=s?t.root.sanitizer.sanitize(s,i):i;a=null!=a?a.toString():null;var u=t.renderer;null!=i?u.setAttribute(n,o,a,r):u.removeAttribute(n,o,r)}(t,o,s,o.ns,a,r);break;case 2:!function(t,e,n,r){var o=t.renderer;r?o.addClass(e,n):o.removeClass(e,n)}(t,s,a,r);break;case 4:!function(t,e,n,r,o){var i=t.root.sanitizer.sanitize(so.STYLE,o);if(null!=i){i=i.toString();var s=e.suffix;null!=s&&(i+=s)}else i=null;var a=t.renderer;null!=i?a.setStyle(n,r,i):a.removeStyle(n,r)}(t,o,s,a,r);break;case 8:!function(t,e,n,r,o){var i=e.securityContext,s=i?t.root.sanitizer.sanitize(i,o):o;t.renderer.setProperty(n,r,s)}(33554432&e.flags&&32&o.flags?i.componentView:t,o,s,a,r)}return!0}var Rs=new Object,Ns=ts(Zt),Ls=ts(Yt),Fs=ts(er);function Us(t,e,n,r){return n=Ut(n),{index:-1,deps:ms(r,Lt(e)),flags:t,token:e,value:n}}function Hs(t,e,n){void 0===n&&(n=Zt.THROW_IF_NOT_FOUND);var r,o,i=le(t);try{if(8&e.flags)return e.token;if(2&e.flags&&(n=null),1&e.flags)return t._parent.get(e.token,n);var s=e.tokenKey;switch(s){case Ns:case Ls:case Fs:return t}var a,u=t._def.providersByKey[s];if(u){var l=t._providers[u.index];return void 0===l&&(l=t._providers[u.index]=Vs(t,u)),l===Rs?void 0:l}if((a=xt(e.token))&&(r=t,null!=(o=a).providedIn&&(function(t,e){return t._def.modules.indexOf(o.providedIn)>-1}(r)||"root"===o.providedIn&&r._def.isRoot))){var c=t._providers.length;return t._def.providersByKey[e.tokenKey]={flags:5120,value:a.factory,deps:[],index:c,token:e.token},t._providers[c]=Rs,t._providers[c]=Vs(t,t._def.providersByKey[e.tokenKey])}return 4&e.flags?n:t._parent.get(e.token,n)}finally{le(i)}}function Vs(t,e){var n;switch(201347067&e.flags){case 512:n=function(t,e,n){var r=n.length;switch(r){case 0:return new e;case 1:return new e(Hs(t,n[0]));case 2:return new e(Hs(t,n[0]),Hs(t,n[1]));case 3:return new e(Hs(t,n[0]),Hs(t,n[1]),Hs(t,n[2]));default:for(var o=new Array(r),i=0;i<r;i++)o[i]=Hs(t,n[i]);return new(e.bind.apply(e,c([void 0],o)))}}(t,e.value,e.deps);break;case 1024:n=function(t,e,n){var r=n.length;switch(r){case 0:return e();case 1:return e(Hs(t,n[0]));case 2:return e(Hs(t,n[0]),Hs(t,n[1]));case 3:return e(Hs(t,n[0]),Hs(t,n[1]),Hs(t,n[2]));default:for(var o=Array(r),i=0;i<r;i++)o[i]=Hs(t,n[i]);return e.apply(void 0,c(o))}}(t,e.value,e.deps);break;case 2048:n=Hs(t,e.deps[0]);break;case 256:n=e.value}return n===Rs||null==n||"object"!=typeof n||131072&e.flags||"function"!=typeof n.ngOnDestroy||(e.flags|=131072),void 0===n?Rs:n}function Bs(t,e){var n=t.viewContainer._embeddedViews;if((null==e||e>=n.length)&&(e=n.length-1),e<0)return null;var r=n[e];return r.viewContainerParent=null,qs(n,e),Xi.dirtyParentQueries(r),Gs(r),r}function zs(t,e,n){var r=e?ds(e,e.def.lastRenderRootNode):t.renderElement,o=n.renderer.parentNode(r),i=n.renderer.nextSibling(r);ws(n,2,o,i,void 0)}function Gs(t){ws(t,3,null,null,void 0)}function Ws(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function qs(t,e){e>=t.length-1?t.pop():t.splice(e,1)}var Ys=new Object;function Xs(t,e,n,r,o,i){return new Zs(t,e,n,r,o,i)}var Zs=function(t){function e(e,n,r,o,i,s){var a=t.call(this)||this;return a.selector=e,a.componentType=n,a._inputs=o,a._outputs=i,a.ngContentSelectors=s,a.viewDefFactory=r,a}return o(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){var t=[],e=this._inputs;for(var n in e)t.push({propName:n,templateName:e[n]});return t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){var t=[];for(var e in this._outputs)t.push({propName:e,templateName:this._outputs[e]});return t},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){if(!r)throw new Error("ngModule should be provided");var o=_s(this.viewDefFactory),i=o.nodes[0].element.componentProvider.nodeIndex,s=Xi.createRootView(t,e||[],n,o,r,Ys),a=Wi(s,i).instance;return n&&s.renderer.setAttribute(Gi(s,0).renderElement,"ng-version",co.full),new Qs(s,new ta(s),a)},e}(Yn),Qs=function(t){function e(e,n,r){var o=t.call(this)||this;return o._view=e,o._viewRef=n,o._component=r,o._elDef=o._view.def.nodes[0],o.hostView=n,o.changeDetectorRef=n,o.instance=r,o}return o(e,t),Object.defineProperty(e.prototype,"location",{get:function(){return new cr(Gi(this._view,this._elDef.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"injector",{get:function(){return new oa(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentType",{get:function(){return this._component.constructor},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this._viewRef.destroy()},e.prototype.onDestroy=function(t){this._viewRef.onDestroy(t)},e}(qn);function Ks(t,e,n){return new Js(t,e,n)}var Js=function(){function t(t,e,n){this._view=t,this._elDef=e,this._data=n,this._embeddedViews=[]}return Object.defineProperty(t.prototype,"element",{get:function(){return new cr(this._data.renderElement)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return new oa(this._view,this._elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentInjector",{get:function(){for(var t=this._view,e=this._elDef.parent;!e&&t;)e=ps(t),t=t.parent;return t?new oa(t,e):new oa(this._view,null)},enumerable:!0,configurable:!0}),t.prototype.clear=function(){for(var t=this._embeddedViews.length-1;t>=0;t--){var e=Bs(this._data,t);Xi.destroyView(e)}},t.prototype.get=function(t){var e=this._embeddedViews[t];if(e){var n=new ta(e);return n.attachToViewContainerRef(this),n}return null},Object.defineProperty(t.prototype,"length",{get:function(){return this._embeddedViews.length},enumerable:!0,configurable:!0}),t.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},t.prototype.createComponent=function(t,e,n,r,o){var i=n||this.parentInjector;o||t instanceof tr||(o=i.get(er));var s=t.create(i,r,void 0,o);return this.insert(s.hostView,e),s},t.prototype.insert=function(t,e){if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,o,i,s=t;return i=(n=this._data).viewContainer._embeddedViews,null==(r=e)&&(r=i.length),(o=s._view).viewContainerParent=this._view,Ws(i,r,o),function(t,e){var n=hs(e);if(n&&n!==t&&!(16&e.state)){e.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(e),function(t,n){if(!(4&n.flags)){e.parent.def.nodeFlags|=4,n.flags|=4;for(var r=n.parent;r;)r.childFlags|=4,r=r.parent}}(0,e.parentNodeDef)}}(n,o),Xi.dirtyParentQueries(o),zs(n,r>0?i[r-1]:null,o),s.attachToViewContainerRef(this),t},t.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,o,i,s,a=this._embeddedViews.indexOf(t._view);return o=e,s=(i=(n=this._data).viewContainer._embeddedViews)[r=a],qs(i,r),null==o&&(o=i.length),Ws(i,o,s),Xi.dirtyParentQueries(s),Gs(s),zs(n,o>0?i[o-1]:null,s),t},t.prototype.indexOf=function(t){return this._embeddedViews.indexOf(t._view)},t.prototype.remove=function(t){var e=Bs(this._data,t);e&&Xi.destroyView(e)},t.prototype.detach=function(t){var e=Bs(this._data,t);return e?new ta(e):null},t}();function $s(t){return new ta(t)}var ta=function(){function t(t){this._view=t,this._viewContainerRef=null,this._appRef=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){return ws(this._view,0,void 0,void 0,t=[]),t;var t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._view.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 0!=(128&this._view.state)},enumerable:!0,configurable:!0}),t.prototype.markForCheck=function(){us(this._view)},t.prototype.detach=function(){this._view.state&=-5},t.prototype.detectChanges=function(){var t=this._view.root.rendererFactory;t.begin&&t.begin();try{Xi.checkAndUpdateView(this._view)}finally{t.end&&t.end()}},t.prototype.checkNoChanges=function(){Xi.checkNoChangesView(this._view)},t.prototype.reattach=function(){this._view.state|=4},t.prototype.onDestroy=function(t){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(t)},t.prototype.destroy=function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Xi.destroyView(this._view)},t.prototype.detachFromAppRef=function(){this._appRef=null,Gs(this._view),Xi.dirtyParentQueries(this._view)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t}();function ea(t,e){return new na(t,e)}var na=function(t){function e(e,n){var r=t.call(this)||this;return r._parentView=e,r._def=n,r}return o(e,t),e.prototype.createEmbeddedView=function(t){return new ta(Xi.createEmbeddedView(this._parentView,this._def,this._def.element.template,t))},Object.defineProperty(e.prototype,"elementRef",{get:function(){return new cr(Gi(this._parentView,this._def.nodeIndex).renderElement)},enumerable:!0,configurable:!0}),e}(Nr);function ra(t,e){return new oa(t,e)}var oa=function(){function t(t,e){this.view=t,this.elDef=e}return t.prototype.get=function(t,e){return void 0===e&&(e=Zt.THROW_IF_NOT_FOUND),Xi.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:t,tokenKey:ts(t)},e)},t}();function ia(t){return new sa(t.renderer)}var sa=function(){function t(t){this.delegate=t}return t.prototype.selectRootElement=function(t){return this.delegate.selectRootElement(t)},t.prototype.createElement=function(t,e){var n=l(js(e),2),r=this.delegate.createElement(n[1],n[0]);return t&&this.delegate.appendChild(t,r),r},t.prototype.createViewRoot=function(t){return t},t.prototype.createTemplateAnchor=function(t){var e=this.delegate.createComment("");return t&&this.delegate.appendChild(t,e),e},t.prototype.createText=function(t,e){var n=this.delegate.createText(e);return t&&this.delegate.appendChild(t,n),n},t.prototype.projectNodes=function(t,e){for(var n=0;n<e.length;n++)this.delegate.appendChild(t,e[n])},t.prototype.attachViewAfter=function(t,e){for(var n=this.delegate.parentNode(t),r=this.delegate.nextSibling(t),o=0;o<e.length;o++)this.delegate.insertBefore(n,e[o],r)},t.prototype.detachView=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}},t.prototype.destroyView=function(t,e){for(var n=0;n<e.length;n++)this.delegate.destroyNode(e[n])},t.prototype.listen=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.listenGlobal=function(t,e,n){return this.delegate.listen(t,e,n)},t.prototype.setElementProperty=function(t,e,n){this.delegate.setProperty(t,e,n)},t.prototype.setElementAttribute=function(t,e,n){var r=l(js(e),2),o=r[0],i=r[1];null!=n?this.delegate.setAttribute(t,i,n,o):this.delegate.removeAttribute(t,i,o)},t.prototype.setBindingDebugInfo=function(t,e,n){},t.prototype.setElementClass=function(t,e,n){n?this.delegate.addClass(t,e):this.delegate.removeClass(t,e)},t.prototype.setElementStyle=function(t,e,n){null!=n?this.delegate.setStyle(t,e,n):this.delegate.removeStyle(t,e)},t.prototype.invokeElementMethod=function(t,e,n){t[e].apply(t,n)},t.prototype.setText=function(t,e){this.delegate.setValue(t,e)},t.prototype.animate=function(){throw new Error("Renderer.animate is no longer supported!")},t}();function aa(t,e,n,r){return new ua(t,e,n,r)}var ua=function(){function t(t,e,n,r){this._moduleType=t,this._parent=e,this._bootstrapComponents=n,this._def=r,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(t){for(var e=t._def,n=t._providers=new Array(e.providers.length),r=0;r<e.providers.length;r++){var o=e.providers[r];4096&o.flags||void 0===n[r]&&(n[r]=Vs(t,o))}}(this)}return t.prototype.get=function(t,e,n){void 0===e&&(e=Zt.THROW_IF_NOT_FOUND),void 0===n&&(n=0);var r=0;return 4&n?r|=1:2&n&&(r|=4),Hs(this,{token:t,tokenKey:ts(t),flags:r},e)},Object.defineProperty(t.prototype,"instance",{get:function(){return this.get(this._moduleType)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentFactoryResolver",{get:function(){return this.get(Jn)},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The ng module "+Lt(this.instance.constructor)+" has already been destroyed.");this._destroyed=!0,function(t,e){for(var n=t._def,r=new Set,o=0;o<n.providers.length;o++)if(131072&n.providers[o].flags){var i=t._providers[o];if(i&&i!==Rs){var s=i.ngOnDestroy;"function"!=typeof s||r.has(i)||(s.apply(i),r.add(i))}}}(this),this._destroyListeners.forEach(function(t){return t()})},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},t}(),la=ts(hr),ca=ts(fr),ha=ts(cr),pa=ts(pi),da=ts(Nr),fa=ts(di),va=ts(Zt),ga=ts(Yt);function ma(t,e,n,r,o,i,s,a){var u=[];if(s)for(var c in s){var h=l(s[c],2);u[h[0]]={flags:8,name:c,nonMinifiedName:h[1],ns:null,securityContext:null,suffix:null}}var p=[];if(a)for(var d in a)p.push({type:1,propName:d,target:null,eventName:a[d]});return function(t,e,n,r,o,i,s,a,u){var l=gs(n),c=l.matchedQueries,h=l.references,p=l.matchedQueryIds;u||(u=[]),a||(a=[]),i=Ut(i);var d=ms(s,Lt(o));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:p,references:h,ngContentIndex:-1,childCount:r,bindings:a,bindingFlags:Is(a),outputs:u,element:null,provider:{token:o,value:i,deps:d},text:null,query:null,ngContent:null}}(t,e|=16384,n,r,o,o,i,u,p)}function ya(t,e){return Ca(t,e)}function ba(t,e){for(var n=t;n.parent&&!fs(n);)n=n.parent;return xa(n.parent,ps(n),!0,e.provider.value,e.provider.deps)}function _a(t,e){var n=xa(t,e.parent,(32768&e.flags)>0,e.provider.value,e.provider.deps);if(e.outputs.length)for(var r=0;r<e.outputs.length;r++){var o=e.outputs[r],i=n[o.propName];if(!_o(i))throw new Error("@Output "+o.propName+" not initialized in '"+n.constructor.name+"'.");var s=i.subscribe(wa(t,e.parent.nodeIndex,o.eventName));t.disposables[e.outputIndex+r]=s.unsubscribe.bind(s)}return n}function wa(t,e,n){return function(r){return cs(t,e,n,r)}}function Ca(t,e){var n=(8192&e.flags)>0,r=e.provider;switch(201347067&e.flags){case 512:return xa(t,e.parent,n,r.value,r.deps);case 1024:return function(t,e,n,r,o){var i=o.length;switch(i){case 0:return r();case 1:return r(Ea(t,e,n,o[0]));case 2:return r(Ea(t,e,n,o[0]),Ea(t,e,n,o[1]));case 3:return r(Ea(t,e,n,o[0]),Ea(t,e,n,o[1]),Ea(t,e,n,o[2]));default:for(var s=Array(i),a=0;a<i;a++)s[a]=Ea(t,e,n,o[a]);return r.apply(void 0,c(s))}}(t,e.parent,n,r.value,r.deps);case 2048:return Ea(t,e.parent,n,r.deps[0]);case 256:return r.value}}function xa(t,e,n,r,o){var i=o.length;switch(i){case 0:return new r;case 1:return new r(Ea(t,e,n,o[0]));case 2:return new r(Ea(t,e,n,o[0]),Ea(t,e,n,o[1]));case 3:return new r(Ea(t,e,n,o[0]),Ea(t,e,n,o[1]),Ea(t,e,n,o[2]));default:for(var s=new Array(i),a=0;a<i;a++)s[a]=Ea(t,e,n,o[a]);return new(r.bind.apply(r,c([void 0],s)))}}var Pa={};function Ea(t,e,n,r,o){if(void 0===o&&(o=Zt.THROW_IF_NOT_FOUND),8&r.flags)return r.token;var i=t;2&r.flags&&(o=null);var s=r.tokenKey;s===fa&&(n=!(!e||!e.element.componentView)),e&&1&r.flags&&(n=!1,e=e.parent);for(var a=t;a;){if(e)switch(s){case la:return ia(Sa(a,e,n));case ca:return Sa(a,e,n).renderer;case ha:return new cr(Gi(a,e.nodeIndex).renderElement);case pa:return Gi(a,e.nodeIndex).viewContainer;case da:if(e.element.template)return Gi(a,e.nodeIndex).template;break;case fa:return $s(Sa(a,e,n));case va:case ga:return ra(a,e);default:var u=(n?e.element.allProviders:e.element.publicProviders)[s];if(u){var l=Wi(a,u.nodeIndex);return l||(l={instance:Ca(a,u)},a.nodes[u.nodeIndex]=l),l.instance}}n=fs(a),e=ps(a),a=a.parent,4&r.flags&&(a=null)}var c=i.root.injector.get(r.token,Pa);return c!==Pa||o===Pa?c:i.root.ngModule.injector.get(r.token,o)}function Sa(t,e,n){var r;if(n)r=Gi(t,e.nodeIndex).componentView;else for(r=t;r.parent&&!fs(r);)r=r.parent;return r}function ja(t,e,n,r,o,i){if(32768&n.flags){var s=Gi(t,n.parent.nodeIndex).componentView;2&s.def.flags&&(s.state|=8)}if(e.instance[n.bindings[r].name]=o,524288&n.flags){i=i||{};var a=ke.unwrap(t.oldValues[n.bindingIndex+r]);i[n.bindings[r].nonMinifiedName]=new Te(a,o,0!=(2&t.state))}return t.oldValues[n.bindingIndex+r]=o,i}function Ia(t,e){if(t.def.nodeFlags&e)for(var n=t.def.nodes,r=0,o=0;o<n.length;o++){var i=n[o],s=i.parent;for(!s&&i.flags&e&&Aa(t,o,i.flags&e,r++),0==(i.childFlags&e)&&(o+=i.childCount);s&&1&s.flags&&o===s.nodeIndex+s.childCount;)s.directChildFlags&e&&(r=Da(t,s,e,r)),s=s.parent}}function Da(t,e,n,r){for(var o=e.nodeIndex+1;o<=e.nodeIndex+e.childCount;o++){var i=t.def.nodes[o];i.flags&n&&Aa(t,o,i.flags&n,r++),o+=i.childCount}return r}function Aa(t,e,n,r){var o=Wi(t,e);if(o){var i=o.instance;i&&(Xi.setCurrentNode(t,e),1048576&n&&Bi(t,512,r)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&Bi(t,768,r)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}}function ka(t){for(var e=t.def.nodeMatchedQueries;t.parent&&vs(t);){var n=t.parentNodeDef;t=t.parent;for(var r=n.nodeIndex+n.childCount,o=0;o<=r;o++)67108864&(i=t.def.nodes[o]).flags&&536870912&i.flags&&(i.query.filterId&e)===i.query.filterId&&Yi(t,o).setDirty(),!(1&i.flags&&o+i.childCount<n.nodeIndex)&&67108864&i.childFlags&&536870912&i.childFlags||(o+=i.childCount)}if(134217728&t.def.nodeFlags)for(o=0;o<t.def.nodes.length;o++){var i;134217728&(i=t.def.nodes[o]).flags&&536870912&i.flags&&Yi(t,o).setDirty(),o+=i.childCount}}function Ta(t,e){var n=Yi(t,e.nodeIndex);if(n.dirty){var r,o=void 0;if(67108864&e.flags){var i=e.parent.parent;o=Oa(t,i.nodeIndex,i.nodeIndex+i.childCount,e.query,[]),r=Wi(t,e.parent.nodeIndex).instance}else 134217728&e.flags&&(o=Oa(t,0,t.def.nodes.length-1,e.query,[]),r=t.component);n.reset(o);for(var s=e.query.bindings,a=!1,u=0;u<s.length;u++){var l=s[u],c=void 0;switch(l.bindingType){case 0:c=n.first;break;case 1:c=n,a=!0}r[l.propName]=c}a&&n.notifyOnChanges()}}function Oa(t,e,n,r,o){for(var i=e;i<=n;i++){var s=t.def.nodes[i],a=s.matchedQueries[r.id];if(null!=a&&o.push(Ma(t,s,a)),1&s.flags&&s.element.template&&(s.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var u=Gi(t,i);if((s.childMatchedQueries&r.filterId)===r.filterId&&(Oa(t,i+1,i+s.childCount,r,o),i+=s.childCount),16777216&s.flags)for(var l=u.viewContainer._embeddedViews,c=0;c<l.length;c++){var h=l[c],p=hs(h);p&&p===u&&Oa(h,0,h.def.nodes.length-1,r,o)}var d=u.template._projectedViews;if(d)for(c=0;c<d.length;c++){var f=d[c];Oa(f,0,f.def.nodes.length-1,r,o)}}(s.childMatchedQueries&r.filterId)!==r.filterId&&(i+=s.childCount)}return o}function Ma(t,e,n){if(null!=n)switch(n){case 1:return Gi(t,e.nodeIndex).renderElement;case 0:return new cr(Gi(t,e.nodeIndex).renderElement);case 2:return Gi(t,e.nodeIndex).template;case 3:return Gi(t,e.nodeIndex).viewContainer;case 4:return Wi(t,e.nodeIndex).instance}}function Ra(t,e,n){var r=ys(t,e,n);r&&xs(t,n.ngContent.index,1,r,null,void 0)}function Na(t,e,n){for(var r=new Array(n.length-1),o=1;o<n.length;o++)r[o-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[o]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function La(t,e,n){var r,o=t.renderer;r=o.createText(n.text.prefix);var i=ys(t,e,n);return i&&o.appendChild(i,r),{renderText:r}}function Fa(t,e){return(null!=t?t.toString():"")+e.suffix}function Ua(t,e,n,r){for(var o=0,i=0,s=0,a=0,u=0,l=null,c=null,h=!1,p=!1,d=null,f=0;f<e.length;f++){var v=e[f];if(v.nodeIndex=f,v.parent=l,v.bindingIndex=o,v.outputIndex=i,v.renderParent=c,s|=v.flags,u|=v.matchedQueryIds,v.element){var g=v.element;g.publicProviders=l?l.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,p=!1,v.element.template&&(u|=v.element.template.nodeMatchedQueries)}if(Va(l,v,e.length),o+=v.bindings.length,i+=v.outputs.length,!c&&3&v.flags&&(d=v),20224&v.flags){h||(h=!0,l.element.publicProviders=Object.create(l.element.publicProviders),l.element.allProviders=l.element.publicProviders);var m=0!=(32768&v.flags);0==(8192&v.flags)||m?l.element.publicProviders[ts(v.provider.token)]=v:(p||(p=!0,l.element.allProviders=Object.create(l.element.publicProviders)),l.element.allProviders[ts(v.provider.token)]=v),m&&(l.element.componentProvider=v)}if(l?(l.childFlags|=v.flags,l.directChildFlags|=v.flags,l.childMatchedQueries|=v.matchedQueryIds,v.element&&v.element.template&&(l.childMatchedQueries|=v.element.template.nodeMatchedQueries)):a|=v.flags,v.childCount>0)l=v,Ha(v)||(c=v);else for(;l&&f===l.nodeIndex+l.childCount;){var y=l.parent;y&&(y.childFlags|=l.childFlags,y.childMatchedQueries|=l.childMatchedQueries),c=(l=y)&&Ha(l)?l.renderParent:l}}return{factory:null,nodeFlags:s,rootNodeFlags:a,nodeMatchedQueries:u,flags:t,nodes:e,updateDirectives:n||Ji,updateRenderer:r||Ji,handleEvent:function(t,n,r,o){return e[n].element.handleEvent(t,r,o)},bindingCount:o,outputCount:i,lastRenderRootNode:d}}function Ha(t){return 0!=(1&t.flags)&&null===t.element.name}function Va(t,e,n){var r=e.element&&e.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index "+e.nodeIndex+"!")}if(20224&e.flags&&0==(1&(t?t.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index "+e.nodeIndex+"!");if(e.query){if(67108864&e.flags&&(!t||0==(16384&t.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index "+e.nodeIndex+"!");if(134217728&e.flags&&t)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index "+e.nodeIndex+"!")}if(e.childCount){var o=t?t.nodeIndex+t.childCount:n-1;if(e.nodeIndex<=o&&e.nodeIndex+e.childCount>o)throw new Error("Illegal State: childCount of node leads outside of parent, at index "+e.nodeIndex+"!")}}function Ba(t,e,n,r){var o=Wa(t.root,t.renderer,t,e,n);return qa(o,t.component,r),Ya(o),o}function za(t,e,n){var r=Wa(t,t.renderer,null,null,e);return qa(r,n,n),Ya(r),r}function Ga(t,e,n,r){var o,i=e.element.componentRendererType;return o=i?t.root.rendererFactory.createRenderer(r,i):t.root.renderer,Wa(t.root,o,t,e.element.componentProvider,n)}function Wa(t,e,n,r,o){var i=new Array(o.nodes.length),s=o.outputCount?new Array(o.outputCount):null;return{def:o,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:i,state:13,root:t,renderer:e,oldValues:new Array(o.bindingCount),disposables:s,initIndex:-1}}function qa(t,e,n){t.component=e,t.context=n}function Ya(t){var e;fs(t)&&(e=Gi(t.parent,t.parentNodeDef.parent.nodeIndex).renderElement);for(var n=t.def,r=t.nodes,o=0;o<n.nodes.length;o++){var i=n.nodes[o];Xi.setCurrentNode(t,o);var s=void 0;switch(201347067&i.flags){case 1:var a=ks(t,e,i),u=void 0;if(33554432&i.flags){var l=_s(i.element.componentView);u=Xi.createComponentView(t,i,l,a)}Ts(t,u,i,a),s={renderElement:a,componentView:u,viewContainer:null,template:i.element.template?ea(t,i):void 0},16777216&i.flags&&(s.viewContainer=Ks(t,i,s));break;case 2:s=La(t,e,i);break;case 512:case 1024:case 2048:case 256:(s=r[o])||4096&i.flags||(s={instance:ya(t,i)});break;case 16:s={instance:ba(t,i)};break;case 16384:(s=r[o])||(s={instance:_a(t,i)}),32768&i.flags&&qa(Gi(t,i.parent.nodeIndex).componentView,s.instance,s.instance);break;case 32:case 64:case 128:s={value:void 0};break;case 67108864:case 134217728:s=new si;break;case 8:Ra(t,e,i),s=void 0}r[o]=s}nu(t,eu.CreateViewNodes),su(t,201326592,268435456,0)}function Xa(t){Ka(t),Xi.updateDirectives(t,1),ru(t,eu.CheckNoChanges),Xi.updateRenderer(t,1),nu(t,eu.CheckNoChanges),t.state&=-97}function Za(t){1&t.state?(t.state&=-2,t.state|=2):t.state&=-3,Vi(t,0,256),Ka(t),Xi.updateDirectives(t,0),ru(t,eu.CheckAndUpdate),su(t,67108864,536870912,0);var e=Vi(t,256,512);Ia(t,2097152|(e?1048576:0)),Xi.updateRenderer(t,0),nu(t,eu.CheckAndUpdate),su(t,134217728,536870912,0),Ia(t,8388608|((e=Vi(t,512,768))?4194304:0)),2&t.def.flags&&(t.state&=-9),t.state&=-97,Vi(t,768,1024)}function Qa(t,e,n,r,o,i,s,a,u,l,h,p,d){return 0===n?function(t,e,n,r,o,i,s,a,u,l,c,h){switch(201347067&e.flags){case 1:return function(t,e,n,r,o,i,s,a,u,l,c,h){var p=e.bindings.length,d=!1;return p>0&&Ms(t,e,0,n)&&(d=!0),p>1&&Ms(t,e,1,r)&&(d=!0),p>2&&Ms(t,e,2,o)&&(d=!0),p>3&&Ms(t,e,3,i)&&(d=!0),p>4&&Ms(t,e,4,s)&&(d=!0),p>5&&Ms(t,e,5,a)&&(d=!0),p>6&&Ms(t,e,6,u)&&(d=!0),p>7&&Ms(t,e,7,l)&&(d=!0),p>8&&Ms(t,e,8,c)&&(d=!0),p>9&&Ms(t,e,9,h)&&(d=!0),d}(t,e,n,r,o,i,s,a,u,l,c,h);case 2:return function(t,e,n,r,o,i,s,a,u,l,c,h){var p=!1,d=e.bindings,f=d.length;if(f>0&&ss(t,e,0,n)&&(p=!0),f>1&&ss(t,e,1,r)&&(p=!0),f>2&&ss(t,e,2,o)&&(p=!0),f>3&&ss(t,e,3,i)&&(p=!0),f>4&&ss(t,e,4,s)&&(p=!0),f>5&&ss(t,e,5,a)&&(p=!0),f>6&&ss(t,e,6,u)&&(p=!0),f>7&&ss(t,e,7,l)&&(p=!0),f>8&&ss(t,e,8,c)&&(p=!0),f>9&&ss(t,e,9,h)&&(p=!0),p){var v=e.text.prefix;f>0&&(v+=Fa(n,d[0])),f>1&&(v+=Fa(r,d[1])),f>2&&(v+=Fa(o,d[2])),f>3&&(v+=Fa(i,d[3])),f>4&&(v+=Fa(s,d[4])),f>5&&(v+=Fa(a,d[5])),f>6&&(v+=Fa(u,d[6])),f>7&&(v+=Fa(l,d[7])),f>8&&(v+=Fa(c,d[8])),f>9&&(v+=Fa(h,d[9]));var g=zi(t,e.nodeIndex).renderText;t.renderer.setValue(g,v)}return p}(t,e,n,r,o,i,s,a,u,l,c,h);case 16384:return function(t,e,n,r,o,i,s,a,u,l,c,h){var p=Wi(t,e.nodeIndex),d=p.instance,f=!1,v=void 0,g=e.bindings.length;return g>0&&is(t,e,0,n)&&(f=!0,v=ja(t,p,e,0,n,v)),g>1&&is(t,e,1,r)&&(f=!0,v=ja(t,p,e,1,r,v)),g>2&&is(t,e,2,o)&&(f=!0,v=ja(t,p,e,2,o,v)),g>3&&is(t,e,3,i)&&(f=!0,v=ja(t,p,e,3,i,v)),g>4&&is(t,e,4,s)&&(f=!0,v=ja(t,p,e,4,s,v)),g>5&&is(t,e,5,a)&&(f=!0,v=ja(t,p,e,5,a,v)),g>6&&is(t,e,6,u)&&(f=!0,v=ja(t,p,e,6,u,v)),g>7&&is(t,e,7,l)&&(f=!0,v=ja(t,p,e,7,l,v)),g>8&&is(t,e,8,c)&&(f=!0,v=ja(t,p,e,8,c,v)),g>9&&is(t,e,9,h)&&(f=!0,v=ja(t,p,e,9,h,v)),v&&d.ngOnChanges(v),65536&e.flags&&Bi(t,256,e.nodeIndex)&&d.ngOnInit(),262144&e.flags&&d.ngDoCheck(),f}(t,e,n,r,o,i,s,a,u,l,c,h);case 32:case 64:case 128:return function(t,e,n,r,o,i,s,a,u,l,c,h){var p=e.bindings,d=!1,f=p.length;if(f>0&&ss(t,e,0,n)&&(d=!0),f>1&&ss(t,e,1,r)&&(d=!0),f>2&&ss(t,e,2,o)&&(d=!0),f>3&&ss(t,e,3,i)&&(d=!0),f>4&&ss(t,e,4,s)&&(d=!0),f>5&&ss(t,e,5,a)&&(d=!0),f>6&&ss(t,e,6,u)&&(d=!0),f>7&&ss(t,e,7,l)&&(d=!0),f>8&&ss(t,e,8,c)&&(d=!0),f>9&&ss(t,e,9,h)&&(d=!0),d){var v=qi(t,e.nodeIndex),g=void 0;switch(201347067&e.flags){case 32:g=new Array(p.length),f>0&&(g[0]=n),f>1&&(g[1]=r),f>2&&(g[2]=o),f>3&&(g[3]=i),f>4&&(g[4]=s),f>5&&(g[5]=a),f>6&&(g[6]=u),f>7&&(g[7]=l),f>8&&(g[8]=c),f>9&&(g[9]=h);break;case 64:g={},f>0&&(g[p[0].name]=n),f>1&&(g[p[1].name]=r),f>2&&(g[p[2].name]=o),f>3&&(g[p[3].name]=i),f>4&&(g[p[4].name]=s),f>5&&(g[p[5].name]=a),f>6&&(g[p[6].name]=u),f>7&&(g[p[7].name]=l),f>8&&(g[p[8].name]=c),f>9&&(g[p[9].name]=h);break;case 128:var m=n;switch(f){case 1:g=m.transform(n);break;case 2:g=m.transform(r);break;case 3:g=m.transform(r,o);break;case 4:g=m.transform(r,o,i);break;case 5:g=m.transform(r,o,i,s);break;case 6:g=m.transform(r,o,i,s,a);break;case 7:g=m.transform(r,o,i,s,a,u);break;case 8:g=m.transform(r,o,i,s,a,u,l);break;case 9:g=m.transform(r,o,i,s,a,u,l,c);break;case 10:g=m.transform(r,o,i,s,a,u,l,c,h)}}v.value=g}return d}(t,e,n,r,o,i,s,a,u,l,c,h);default:throw"unreachable"}}(t,e,r,o,i,s,a,u,l,h,p,d):function(t,e,n){switch(201347067&e.flags){case 1:return function(t,e,n){for(var r=!1,o=0;o<n.length;o++)Ms(t,e,o,n[o])&&(r=!0);return r}(t,e,n);case 2:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)ss(t,e,i,n[i])&&(o=!0);if(o){var s="";for(i=0;i<n.length;i++)s+=Fa(n[i],r[i]);s=e.text.prefix+s;var a=zi(t,e.nodeIndex).renderText;t.renderer.setValue(a,s)}return o}(t,e,n);case 16384:return function(t,e,n){for(var r=Wi(t,e.nodeIndex),o=r.instance,i=!1,s=void 0,a=0;a<n.length;a++)is(t,e,a,n[a])&&(i=!0,s=ja(t,r,e,a,n[a],s));return s&&o.ngOnChanges(s),65536&e.flags&&Bi(t,256,e.nodeIndex)&&o.ngOnInit(),262144&e.flags&&o.ngDoCheck(),i}(t,e,n);case 32:case 64:case 128:return function(t,e,n){for(var r=e.bindings,o=!1,i=0;i<n.length;i++)ss(t,e,i,n[i])&&(o=!0);if(o){var s=qi(t,e.nodeIndex),a=void 0;switch(201347067&e.flags){case 32:a=n;break;case 64:for(a={},i=0;i<n.length;i++)a[r[i].name]=n[i];break;case 128:var u=n[0],l=n.slice(1);a=u.transform.apply(u,c(l))}s.value=a}return o}(t,e,n);default:throw"unreachable"}}(t,e,r)}function Ka(t){var e=t.def;if(4&e.nodeFlags)for(var n=0;n<e.nodes.length;n++){var r=e.nodes[n];if(4&r.flags){var o=Gi(t,n).template._projectedViews;if(o)for(var i=0;i<o.length;i++){var s=o[i];s.state|=32,ls(s,t)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ja(t,e,n,r,o,i,s,a,u,l,c,h,p){return 0===n?function(t,e,n,r,o,i,s,a,u,l,c,h){var p=e.bindings.length;p>0&&as(t,e,0,n),p>1&&as(t,e,1,r),p>2&&as(t,e,2,o),p>3&&as(t,e,3,i),p>4&&as(t,e,4,s),p>5&&as(t,e,5,a),p>6&&as(t,e,6,u),p>7&&as(t,e,7,l),p>8&&as(t,e,8,c),p>9&&as(t,e,9,h)}(t,e,r,o,i,s,a,u,l,c,h,p):function(t,e,n){for(var r=0;r<n.length;r++)as(t,e,r,n[r])}(t,e,r),!1}function $a(t,e){if(Yi(t,e.nodeIndex).dirty)throw Zi(Xi.createDebugContext(t,e.nodeIndex),"Query "+e.query.id+" not dirty","Query "+e.query.id+" dirty",0!=(1&t.state))}function tu(t){if(!(128&t.state)){if(ru(t,eu.Destroy),nu(t,eu.Destroy),Ia(t,131072),t.disposables)for(var e=0;e<t.disposables.length;e++)t.disposables[e]();!function(t){if(16&t.state){var e=hs(t);if(e){var n=e.template._projectedViews;n&&(qs(n,n.indexOf(t)),Xi.dirtyParentQueries(t))}}}(t),t.renderer.destroyNode&&function(t){for(var e=t.def.nodes.length,n=0;n<e;n++){var r=t.def.nodes[n];1&r.flags?t.renderer.destroyNode(Gi(t,n).renderElement):2&r.flags?t.renderer.destroyNode(zi(t,n).renderText):(67108864&r.flags||134217728&r.flags)&&Yi(t,n).destroy()}}(t),fs(t)&&t.renderer.destroy(),t.state|=128}}var eu=function(t){return t[t.CreateViewNodes=0]="CreateViewNodes",t[t.CheckNoChanges=1]="CheckNoChanges",t[t.CheckNoChangesProjectedViews=2]="CheckNoChangesProjectedViews",t[t.CheckAndUpdate=3]="CheckAndUpdate",t[t.CheckAndUpdateProjectedViews=4]="CheckAndUpdateProjectedViews",t[t.Destroy=5]="Destroy",t}({});function nu(t,e){var n=t.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];33554432&o.flags?ou(Gi(t,r).componentView,e):0==(33554432&o.childFlags)&&(r+=o.childCount)}}function ru(t,e){var n=t.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var o=n.nodes[r];if(16777216&o.flags)for(var i=Gi(t,r).viewContainer._embeddedViews,s=0;s<i.length;s++)ou(i[s],e);else 0==(16777216&o.childFlags)&&(r+=o.childCount)}}function ou(t,e){var n=t.state;switch(e){case eu.CheckNoChanges:0==(128&n)&&(12==(12&n)?Xa(t):64&n&&iu(t,eu.CheckNoChangesProjectedViews));break;case eu.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Xa(t):64&n&&iu(t,e));break;case eu.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Za(t):64&n&&iu(t,eu.CheckAndUpdateProjectedViews));break;case eu.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Za(t):64&n&&iu(t,e));break;case eu.Destroy:tu(t);break;case eu.CreateViewNodes:Ya(t)}}function iu(t,e){ru(t,e),nu(t,e)}function su(t,e,n,r){if(t.def.nodeFlags&e&&t.def.nodeFlags&n)for(var o=t.def.nodes.length,i=0;i<o;i++){var s=t.def.nodes[i];if(s.flags&e&&s.flags&n)switch(Xi.setCurrentNode(t,s.nodeIndex),r){case 0:Ta(t,s);break;case 1:$a(t,s)}s.childFlags&e&&s.childFlags&n||(i+=s.childCount)}}var au=!1;function uu(t,e,n,r,o,i){var s=o.injector.get(pr);return za(cu(t,o,s,e,n),r,i)}function lu(t,e,n,r,o,i){var s=o.injector.get(pr),a=cu(t,o,new Gu(s),e,n),u=_u(r);return Bu(Du.create,za,null,[a,u,i])}function cu(t,e,n,r,o){var i=e.injector.get(ao),s=e.injector.get(yo),a=n.createRenderer(null,null);return{ngModule:e,injector:t,projectableNodes:r,selectorOrNode:o,sanitizer:i,rendererFactory:n,renderer:a,errorHandler:s}}function hu(t,e,n,r){var o=_u(n);return Bu(Du.create,Ba,null,[t,e,o,r])}function pu(t,e,n,r){return n=gu.get(e.element.componentProvider.provider.token)||_u(n),Bu(Du.create,Ga,null,[t,e,n,r])}function du(t,e,n,r){return aa(t,e,n,function(t){var e=function(t){var e=!1,n=!1;return 0===fu.size?{hasOverrides:e,hasDeprecatedOverrides:n}:(t.providers.forEach(function(t){var r=fu.get(t.token);3840&t.flags&&r&&(e=!0,n=n||r.deprecatedBehavior)}),t.modules.forEach(function(t){vu.forEach(function(r,o){xt(o).providedIn===t&&(e=!0,n=n||r.deprecatedBehavior)})}),{hasOverrides:e,hasDeprecatedOverrides:n})}(t),n=e.hasDeprecatedOverrides;return e.hasOverrides?(function(t){for(var e=0;e<t.providers.length;e++){var r=t.providers[e];n&&(r.flags|=4096);var o=fu.get(r.token);o&&(r.flags=-3841&r.flags|o.flags,r.deps=ms(o.deps),r.value=o.value)}if(vu.size>0){var i=new Set(t.modules);vu.forEach(function(e,r){if(i.has(xt(r).providedIn)){var o={token:r,flags:e.flags|(n?4096:0),deps:ms(e.deps),value:e.value,index:t.providers.length};t.providers.push(o),t.providersByKey[ts(r)]=o}})}}(t=t.factory(function(){return Ji})),t):t}(r))}var fu=new Map,vu=new Map,gu=new Map;function mu(t){var e;fu.set(t.token,t),"function"==typeof t.token&&(e=xt(t.token))&&"function"==typeof e.providedIn&&vu.set(t.token,t)}function yu(t,e){var n=_s(e.viewDefFactory),r=_s(n.nodes[0].element.componentView);gu.set(t,r)}function bu(){fu.clear(),vu.clear(),gu.clear()}function _u(t){if(0===fu.size)return t;var e=function(t){for(var e=[],n=null,r=0;r<t.nodes.length;r++){var o=t.nodes[r];1&o.flags&&(n=o),n&&3840&o.flags&&fu.has(o.provider.token)&&(e.push(n.nodeIndex),n=null)}return e}(t);if(0===e.length)return t;t=t.factory(function(){return Ji});for(var n=0;n<e.length;n++)r(t,e[n]);return t;function r(t,e){for(var n=e+1;n<t.nodes.length;n++){var r=t.nodes[n];if(1&r.flags)return;if(3840&r.flags){var o=r.provider,i=fu.get(o.token);i&&(r.flags=-3841&r.flags|i.flags,o.deps=ms(i.deps),o.value=i.value)}}}}function wu(t,e,n,r,o,i,s,a,u,l,c,h,p){var d=t.def.nodes[e];return Qa(t,d,n,r,o,i,s,a,u,l,c,h,p),224&d.flags?qi(t,e).value:void 0}function Cu(t,e,n,r,o,i,s,a,u,l,c,h,p){var d=t.def.nodes[e];return Ja(t,d,n,r,o,i,s,a,u,l,c,h,p),224&d.flags?qi(t,e).value:void 0}function xu(t){return Bu(Du.detectChanges,Za,null,[t])}function Pu(t){return Bu(Du.checkNoChanges,Xa,null,[t])}function Eu(t){return Bu(Du.destroy,tu,null,[t])}var Su,ju,Iu,Du=function(t){return t[t.create=0]="create",t[t.detectChanges=1]="detectChanges",t[t.checkNoChanges=2]="checkNoChanges",t[t.destroy=3]="destroy",t[t.handleEvent=4]="handleEvent",t}({});function Au(t,e){ju=t,Iu=e}function ku(t,e,n,r){return Au(t,e),Bu(Du.handleEvent,t.def.handleEvent,null,[t,e,n,r])}function Tu(t,e){if(128&t.state)throw Ki(Du[Su]);return Au(t,Fu(t,0)),t.def.updateDirectives(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=t.def.nodes[n];return 0===e?Mu(t,s,r,o):Ru(t,s,r,o),16384&s.flags&&Au(t,Fu(t,n)),224&s.flags?qi(t,s.nodeIndex).value:void 0},t)}function Ou(t,e){if(128&t.state)throw Ki(Du[Su]);return Au(t,Uu(t,0)),t.def.updateRenderer(function(t,n,r){for(var o=[],i=3;i<arguments.length;i++)o[i-3]=arguments[i];var s=t.def.nodes[n];return 0===e?Mu(t,s,r,o):Ru(t,s,r,o),3&s.flags&&Au(t,Uu(t,n)),224&s.flags?qi(t,s.nodeIndex).value:void 0},t)}function Mu(t,e,n,r){if(Qa.apply(void 0,c([t,e,n],r))){var o=1===n?r[0]:r;if(16384&e.flags){for(var i={},s=0;s<e.bindings.length;s++){var a=e.bindings[s],u=o[s];8&a.flags&&(i[(d=a.nonMinifiedName,f=void 0,f=d.replace(/[$@]/g,"_"),"ng-reflect-"+(d=f.replace(Nu,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return"-"+t[1].toLowerCase()})))]=Lu(u))}var l=e.parent,h=Gi(t,l.nodeIndex).renderElement;if(l.element.name)for(var p in i)null!=(u=i[p])?t.renderer.setAttribute(h,p,u):t.renderer.removeAttribute(h,p);else t.renderer.setValue(h,"bindings="+JSON.stringify(i,null,2))}}var d,f}function Ru(t,e,n,r){Ja.apply(void 0,c([t,e,n],r))}var Nu=/([A-Z])/g;function Lu(t){try{return null!=t?t.toString().slice(0,30):t}catch(e){return"[ERROR] Exception while trying to serialize the value"}}function Fu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Uu(t,e){for(var n=e;n<t.def.nodes.length;n++){var r=t.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Hu=function(){function t(t,e){this.view=t,this.nodeIndex=e,null==e&&(this.nodeIndex=e=0),this.nodeDef=t.def.nodes[e];for(var n=this.nodeDef,r=t;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&r;)n=ps(r),r=r.parent;this.elDef=n,this.elView=r}return Object.defineProperty(t.prototype,"elOrCompView",{get:function(){return Gi(this.elView,this.elDef.nodeIndex).componentView||this.view},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"injector",{get:function(){return ra(this.elView,this.elDef)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){return this.elOrCompView.component},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this.elOrCompView.context},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"providerTokens",{get:function(){var t=[];if(this.elDef)for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&t.push(n.provider.token),e+=n.childCount}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"references",{get:function(){var t={};if(this.elDef){Vu(this.elView,this.elDef,t);for(var e=this.elDef.nodeIndex+1;e<=this.elDef.nodeIndex+this.elDef.childCount;e++){var n=this.elView.def.nodes[e];20224&n.flags&&Vu(this.elView,n,t),e+=n.childCount}}return t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"componentRenderElement",{get:function(){var t=function(t){for(;t&&!fs(t);)t=t.parent;return t.parent?Gi(t.parent,ps(t).nodeIndex):null}(this.elOrCompView);return t?t.renderElement:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderNode",{get:function(){return 2&this.nodeDef.flags?ds(this.view,this.nodeDef):ds(this.elView,this.elDef)},enumerable:!0,configurable:!0}),t.prototype.logError=function(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];2&this.nodeDef.flags?(e=this.view.def,n=this.nodeDef.nodeIndex):(e=this.elView.def,n=this.elDef.nodeIndex);var i=function(t,e){for(var n=-1,r=0;r<=e;r++)3&t.nodes[r].flags&&n++;return n}(e,n),s=-1;e.factory(function(){var e;return++s===i?(e=t.error).bind.apply(e,c([t],r)):Ji}),s<i&&(t.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),t.error.apply(t,c(r)))},t}();function Vu(t,e,n){for(var r in e.references)n[r]=Ma(t,e,e.references[r])}function Bu(t,e,n,r){var o=Su,i=ju,s=Iu;try{Su=t;var a=e.apply(n,r);return ju=i,Iu=s,Su=o,a}catch(u){if(vo(u)||!ju)throw u;throw function(t,e){return t instanceof Error||(t=new Error(t.toString())),Qi(t,e),t}(u,zu())}}function zu(){return ju?new Hu(ju,Iu):null}var Gu=function(){function t(t){this.delegate=t}return t.prototype.createRenderer=function(t,e){return new Wu(this.delegate.createRenderer(t,e))},t.prototype.begin=function(){this.delegate.begin&&this.delegate.begin()},t.prototype.end=function(){this.delegate.end&&this.delegate.end()},t.prototype.whenRenderingDone=function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)},t}(),Wu=function(){function t(t){this.delegate=t,this.debugContextFactory=zu,this.data=this.delegate.data}return t.prototype.createDebugContext=function(t){return this.debugContextFactory(t)},t.prototype.destroyNode=function(t){!function(t){mi.delete(t.nativeNode)}(yi(t)),this.delegate.destroyNode&&this.delegate.destroyNode(t)},t.prototype.destroy=function(){this.delegate.destroy()},t.prototype.createElement=function(t,e){var n=this.delegate.createElement(t,e),r=this.createDebugContext(n);if(r){var o=new gi(n,null,r);o.name=t,bi(o)}return n},t.prototype.createComment=function(t){var e=this.delegate.createComment(t),n=this.createDebugContext(e);return n&&bi(new vi(e,null,n)),e},t.prototype.createText=function(t){var e=this.delegate.createText(t),n=this.createDebugContext(e);return n&&bi(new vi(e,null,n)),e},t.prototype.appendChild=function(t,e){var n=yi(t),r=yi(e);n&&r&&n instanceof gi&&n.addChild(r),this.delegate.appendChild(t,e)},t.prototype.insertBefore=function(t,e,n){var r=yi(t),o=yi(e),i=yi(n);r&&o&&r instanceof gi&&r.insertBefore(i,o),this.delegate.insertBefore(t,e,n)},t.prototype.removeChild=function(t,e){var n=yi(t),r=yi(e);n&&r&&n instanceof gi&&n.removeChild(r),this.delegate.removeChild(t,e)},t.prototype.selectRootElement=function(t,e){var n=this.delegate.selectRootElement(t,e),r=zu()||null;return r&&bi(new gi(n,null,r)),n},t.prototype.setAttribute=function(t,e,n,r){var o=yi(t);o&&o instanceof gi&&(o.attributes[r?r+":"+e:e]=n),this.delegate.setAttribute(t,e,n,r)},t.prototype.removeAttribute=function(t,e,n){var r=yi(t);r&&r instanceof gi&&(r.attributes[n?n+":"+e:e]=null),this.delegate.removeAttribute(t,e,n)},t.prototype.addClass=function(t,e){var n=yi(t);n&&n instanceof gi&&(n.classes[e]=!0),this.delegate.addClass(t,e)},t.prototype.removeClass=function(t,e){var n=yi(t);n&&n instanceof gi&&(n.classes[e]=!1),this.delegate.removeClass(t,e)},t.prototype.setStyle=function(t,e,n,r){var o=yi(t);o&&o instanceof gi&&(o.styles[e]=n),this.delegate.setStyle(t,e,n,r)},t.prototype.removeStyle=function(t,e,n){var r=yi(t);r&&r instanceof gi&&(r.styles[e]=null),this.delegate.removeStyle(t,e,n)},t.prototype.setProperty=function(t,e,n){var r=yi(t);r&&r instanceof gi&&(r.properties[e]=n),this.delegate.setProperty(t,e,n)},t.prototype.listen=function(t,e,n){if("string"!=typeof t){var r=yi(t);r&&r.listeners.push(new fi(e,n))}return this.delegate.listen(t,e,n)},t.prototype.parentNode=function(t){return this.delegate.parentNode(t)},t.prototype.nextSibling=function(t){return this.delegate.nextSibling(t)},t.prototype.setValue=function(t,e){return this.delegate.setValue(t,e)},t}();function qu(t,e,n){return new Yu(t,e,n)}var Yu=function(t){function e(e,n,r){var o=t.call(this)||this;return o.moduleType=e,o._bootstrapComponents=n,o._ngModuleDefFactory=r,o}return o(e,t),e.prototype.create=function(t){!function(){if(!au){au=!0;var t=Ur()?{setCurrentNode:Au,createRootView:lu,createEmbeddedView:hu,createComponentView:pu,createNgModuleRef:du,overrideProvider:mu,overrideComponentView:yu,clearOverrides:bu,checkAndUpdateView:xu,checkNoChangesView:Pu,destroyView:Eu,createDebugContext:function(t,e){return new Hu(t,e)},handleEvent:ku,updateDirectives:Tu,updateRenderer:Ou}:{setCurrentNode:function(){},createRootView:uu,createEmbeddedView:Ba,createComponentView:Ga,createNgModuleRef:aa,overrideProvider:Ji,overrideComponentView:Ji,clearOverrides:Ji,checkAndUpdateView:Za,checkNoChangesView:Xa,destroyView:tu,createDebugContext:function(t,e){return new Hu(t,e)},handleEvent:function(t,e,n,r){return t.def.handleEvent(t,e,n,r)},updateDirectives:function(t,e){return t.def.updateDirectives(0===e?wu:Cu,t)},updateRenderer:function(t,e){return t.def.updateRenderer(0===e?wu:Cu,t)}};Xi.setCurrentNode=t.setCurrentNode,Xi.createRootView=t.createRootView,Xi.createEmbeddedView=t.createEmbeddedView,Xi.createComponentView=t.createComponentView,Xi.createNgModuleRef=t.createNgModuleRef,Xi.overrideProvider=t.overrideProvider,Xi.overrideComponentView=t.overrideComponentView,Xi.clearOverrides=t.clearOverrides,Xi.checkAndUpdateView=t.checkAndUpdateView,Xi.checkNoChangesView=t.checkNoChangesView,Xi.destroyView=t.destroyView,Xi.resolveDep=Ea,Xi.createDebugContext=t.createDebugContext,Xi.handleEvent=t.handleEvent,Xi.updateDirectives=t.updateDirectives,Xi.updateRenderer=t.updateRenderer,Xi.dirtyParentQueries=ka}}();var e=function(t){var e=Array.from(t.providers),n=Array.from(t.modules),r={};for(var o in t.providersByKey)r[o]=t.providersByKey[o];return{factory:t.factory,isRoot:t.isRoot,providers:e,modules:n,providersByKey:r}}(_s(this._ngModuleDefFactory));return Xi.createNgModuleRef(this.moduleType,t||Zt.NULL,this._bootstrapComponents,e)},e}(nr),Xu=function(){return function(){}}(),Zu=n("4ZMo"),Qu={isSource:!0,isTarget:!0,maxConnections:-1,endpoint:["Dot",{radius:5}],style:{fill:"blue"},connector:["Bezier",{curviness:150}],dropOptions:{drop:function(t,e){alert("Event: connection dropped!")}}},Ku=function(){function t(t){this.title="jsPlumb",this.boxes=[{name:"Box 1"},{name:"Box 2"},{name:"Box 3"}]}return t.prototype.ngAfterViewInit=function(){document.getElementById("box0").style.top="100px",document.getElementById("box1").style.top="100px",document.getElementById("box1").style.left="300px",document.getElementById("box2").style.top="100px",document.getElementById("box2").style.left="600px",this.jsPlumbInstance=Zu.jsPlumb.getInstance();var t=document.querySelectorAll(".draggable");this.jsPlumbInstance.draggable(t),this.jsPlumbInstance.addEndpoint(t,{anchor:"Left"},Qu),this.jsPlumbInstance.bind("beforeDrop",function(t){var e="",n=!1;return"box0"===t.sourceId&&"box2"===t.targetId||"box2"===t.sourceId&&"box0"===t.targetId?e="Denied!!":(e=document.getElementById(t.sourceId).innerText+" linked to "+document.getElementById(t.targetId).innerText,n=!0),alert(e),n}),this.jsPlumbInstance.bind("beforeStartDetach",function(t){var e=!0;return"box2"===t.sourceId&&(alert("Locked in place!"),e=!1),e})},t.prototype.add=function(t){var e=this,n="box"+t.toString();this.boxes.push({name:"Box "+(t+1).toString()}),setTimeout(function(){e.jsPlumbInstance.draggable(n),e.jsPlumbInstance.addEndpoint("box"+t.toString(),{anchor:"Right"},Qu)},100)},t}(),Ju=new O(function(t){return t.complete()});function $u(t){return t?function(t){return new O(function(e){return t.schedule(function(){return e.complete()})})}(t):Ju}function tl(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n,r,o=t[t.length-1];switch(V(o)?t.pop():o=void 0,t.length){case 0:return $u(o);case 1:return o?rt(t,o):(n=t[0],(r=new O(function(t){t.next(n),t.complete()}))._isScalar=!0,r.value=n,r);default:return rt(t,o)}}var el=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return o(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new N;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(U);function nl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}nl.prototype=Object.create(Error.prototype);var rl=nl;function ol(){return lt(1)}function il(t,e){return function(n){return n.lift(new sl(t,e))}}var sl=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new al(t,this.predicate,this.thisArg))},t}(),al=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(j);function ul(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ul.prototype=Object.create(Error.prototype);var ll=ul;function cl(t){return function(e){return 0===t?$u():e.lift(new hl(t))}}var hl=function(){function t(t){if(this.total=t,this.total<0)throw new ll}return t.prototype.call=function(t,e){return e.subscribe(new pl(t,this.total))},t}(),pl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return o(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(j);function dl(t,e,n){return function(r){return r.lift(new fl(t,e,n))}}var fl=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new vl(t,this.nextOrObserver,this.error,this.complete))},t}(),vl=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=A,i._tapError=A,i._tapComplete=A,i._tapError=r||A,i._tapComplete=o||A,d(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||A,i._tapError=n.error||A,i._tapComplete=n.complete||A),i}return o(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(j),gl=function(t){return void 0===t&&(t=ml),dl({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function ml(){return new rl}function yl(t){return void 0===t&&(t=null),function(e){return e.lift(new bl(t))}}var bl=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new _l(t,this.defaultValue))},t}(),_l=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return o(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(j);function wl(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?il(function(e,n){return t(e,n,r)}):ut,cl(1),n?yl(e):gl(function(){return new rl}))}}function Cl(t,e){return function(n){return n.lift(new xl(t,e,n))}}var xl=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Pl(t,this.predicate,this.thisArg,this.source))},t}(),Pl=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return o(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(j);function El(t){return function(e){var n=new Sl(t),r=e.lift(n);return n.caught=r}}var Sl=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new jl(t,this.selector,this.caught))},t}(),jl=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return o(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new B(this,void 0,void 0);this.add(r),J(this,n,void 0,void 0,r)}},e}($),Il=function(){function t(t){if(this.total=t,this.total<0)throw new ll}return t.prototype.call=function(t,e){return e.subscribe(new Dl(t,this.total))},t}(),Dl=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return o(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(j);function Al(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?il(function(e,n){return t(e,n,r)}):ut,function(t){return t.lift(new Il(1))},n?yl(e):gl(function(){return new rl}))}}function kl(t,e){return"function"==typeof e?function(n){return n.pipe(kl(function(n,r){return ot(t(n,r)).pipe(tt(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new Tl(t))}}var Tl=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Ol(t,this.project))},t}(),Ol=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return o(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var o=new B(this,void 0,void 0);this.destination.add(o),this.innerSubscription=J(this,t,e,n,o)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e}($);function Ml(t,e){return it(t,e,1)}function Rl(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Nl(t,e,n))}}var Nl=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new Ll(t,this.accumulator,this.seed,this.hasSeed))},t}(),Ll=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return o(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(j),Fl=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Ul(t,this.callback))},t}(),Ul=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new _(n)),r}return o(e,t),e}(j),Hl=function(){return function(){}}(),Vl=new Et("Location Initialized"),Bl=function(){return function(){}}(),zl=new Et("appBaseHref"),Gl=function(){function t(t){var n=this;this._subject=new Rr,this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._baseHref=e.stripTrailingSlash(Wl(r)),this._platformStrategy.onPopState(function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})})}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.isCurrentPathEqualTo=function(t,n){return void 0===n&&(n=""),this.path()==this.normalize(t+e.normalizeQueryParams(n))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,Wl(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=function(t){return t&&"?"!==t[0]?"?"+t:t},t.joinWithSlash=function(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e},t.stripTrailingSlash=function(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)},t}();function Wl(t){return t.replace(/\/index.html$/,"")}var ql=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return o(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Gl.joinWithSlash(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Gl.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Gl.normalizeQueryParams(r));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Bl),Yl=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return o(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Gl.joinWithSlash(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Gl.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Gl.normalizeQueryParams(r));this._platformLocation.pushState(t,e,o)},e.prototype.replaceState=function(t,e,n,r){var o=this.prepareExternalUrl(n+Gl.normalizeQueryParams(r));this._platformLocation.replaceState(t,e,o)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e}(Bl),Xl=void 0,Zl=["en",[["a","p"],["AM","PM"],Xl],[["AM","PM"],Xl,Xl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Xl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Xl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Xl,"{1} 'at' {0}",Xl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ql={},Kl=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Jl=new Et("UseV4Plurals"),$l=function(){return function(){}}(),tc=function(t){function e(e,n){var r=t.call(this)||this;return r.locale=e,r.deprecatedPluralFn=n,r}return o(e,t),e.prototype.getPluralCategory=function(t,e){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(e||this.locale,t):function(t){return function(t){var e=t.toLowerCase().replace(/_/g,"-"),n=Ql[e];if(n)return n;var r=e.split("-")[0];if(n=Ql[r])return n;if("en"===r)return Zl;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[18]}(e||this.locale)(t)){case Kl.Zero:return"zero";case Kl.One:return"one";case Kl.Two:return"two";case Kl.Few:return"few";case Kl.Many:return"many";default:return"other"}},e}($l),ec=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),nc=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){Ur()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation(function(t,r,o){if(null==t.previousIndex){var i=e._viewContainer.createEmbeddedView(e._template,new ec(null,e._ngForOf,-1,-1),o),s=new rc(t,i);n.push(s)}else null==o?e._viewContainer.remove(r):(i=e._viewContainer.get(r),e._viewContainer.move(i,o),s=new rc(t,i),n.push(s))});for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var o=this._viewContainer.length;r<o;r++){var i=this._viewContainer.get(r);i.context.index=r,i.context.count=o,i.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t}(),rc=function(){return function(t,e){this.record=t,this.view=e}}(),oc=function(){return function(){}}(),ic=new Et("DocumentToken"),sc="server",ac=function(){function t(){}return t.ngInjectableDef=Ct({providedIn:"root",factory:function(){return new uc(ce(ic),window)}}),t}(),uc=function(){function t(t,e){this.document=t,this.window=e,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(n-o[0],r-o[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),lc=null;function cc(){return lc}var hc,pc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},dc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},fc={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};kt.Node&&(hc=kt.Node.prototype.contains||function(t){return!!(16&this.compareDocumentPosition(t))});var vc,gc=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.parse=function(t){throw new Error("parse not implemented")},e.makeCurrent=function(){var t;t=new e,lc||(lc=t)},e.prototype.hasProperty=function(t,e){return e in t},e.prototype.setProperty=function(t,e,n){t[e]=n},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.invoke=function(t,e,n){var r;(r=t)[e].apply(r,c(n))},e.prototype.logError=function(t){window.console&&(console.error?console.error(t):console.log(t))},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},Object.defineProperty(e.prototype,"attrToPropMap",{get:function(){return pc},enumerable:!0,configurable:!0}),e.prototype.contains=function(t,e){return hc.call(t,e)},e.prototype.querySelector=function(t,e){return t.querySelector(e)},e.prototype.querySelectorAll=function(t,e){return t.querySelectorAll(e)},e.prototype.on=function(t,e,n){t.addEventListener(e,n,!1)},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.createMouseEvent=function(t){var e=this.getDefaultDocument().createEvent("MouseEvent");return e.initEvent(t,!0,!0),e},e.prototype.createEvent=function(t){var e=this.getDefaultDocument().createEvent("Event");return e.initEvent(t,!0,!0),e},e.prototype.preventDefault=function(t){t.preventDefault(),t.returnValue=!1},e.prototype.isPrevented=function(t){return t.defaultPrevented||null!=t.returnValue&&!t.returnValue},e.prototype.getInnerHTML=function(t){return t.innerHTML},e.prototype.getTemplateContent=function(t){return"content"in t&&this.isTemplateElement(t)?t.content:null},e.prototype.getOuterHTML=function(t){return t.outerHTML},e.prototype.nodeName=function(t){return t.nodeName},e.prototype.nodeValue=function(t){return t.nodeValue},e.prototype.type=function(t){return t.type},e.prototype.content=function(t){return this.hasProperty(t,"content")?t.content:t},e.prototype.firstChild=function(t){return t.firstChild},e.prototype.nextSibling=function(t){return t.nextSibling},e.prototype.parentElement=function(t){return t.parentNode},e.prototype.childNodes=function(t){return t.childNodes},e.prototype.childNodesAsList=function(t){for(var e=t.childNodes,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e[r];return n},e.prototype.clearNodes=function(t){for(;t.firstChild;)t.removeChild(t.firstChild)},e.prototype.appendChild=function(t,e){t.appendChild(e)},e.prototype.removeChild=function(t,e){t.removeChild(e)},e.prototype.replaceChild=function(t,e,n){t.replaceChild(e,n)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.insertBefore=function(t,e,n){t.insertBefore(n,e)},e.prototype.insertAllBefore=function(t,e,n){n.forEach(function(n){return t.insertBefore(n,e)})},e.prototype.insertAfter=function(t,e,n){t.insertBefore(n,e.nextSibling)},e.prototype.setInnerHTML=function(t,e){t.innerHTML=e},e.prototype.getText=function(t){return t.textContent},e.prototype.setText=function(t,e){t.textContent=e},e.prototype.getValue=function(t){return t.value},e.prototype.setValue=function(t,e){t.value=e},e.prototype.getChecked=function(t){return t.checked},e.prototype.setChecked=function(t,e){t.checked=e},e.prototype.createComment=function(t){return this.getDefaultDocument().createComment(t)},e.prototype.createTemplate=function(t){var e=this.getDefaultDocument().createElement("template");return e.innerHTML=t,e},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createElementNS=function(t,e,n){return(n=n||this.getDefaultDocument()).createElementNS(t,e)},e.prototype.createTextNode=function(t,e){return(e=e||this.getDefaultDocument()).createTextNode(t)},e.prototype.createScriptTag=function(t,e,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(t,e),r},e.prototype.createStyleElement=function(t,e){var n=(e=e||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(t,e)),n},e.prototype.createShadowRoot=function(t){return t.createShadowRoot()},e.prototype.getShadowRoot=function(t){return t.shadowRoot},e.prototype.getHost=function(t){return t.host},e.prototype.clone=function(t){return t.cloneNode(!0)},e.prototype.getElementsByClassName=function(t,e){return t.getElementsByClassName(e)},e.prototype.getElementsByTagName=function(t,e){return t.getElementsByTagName(e)},e.prototype.classList=function(t){return Array.prototype.slice.call(t.classList,0)},e.prototype.addClass=function(t,e){t.classList.add(e)},e.prototype.removeClass=function(t,e){t.classList.remove(e)},e.prototype.hasClass=function(t,e){return t.classList.contains(e)},e.prototype.setStyle=function(t,e,n){t.style[e]=n},e.prototype.removeStyle=function(t,e){t.style[e]=""},e.prototype.getStyle=function(t,e){return t.style[e]},e.prototype.hasStyle=function(t,e,n){var r=this.getStyle(t,e)||"";return n?r==n:r.length>0},e.prototype.tagName=function(t){return t.tagName},e.prototype.attributeMap=function(t){for(var e=new Map,n=t.attributes,r=0;r<n.length;r++){var o=n.item(r);e.set(o.name,o.value)}return e},e.prototype.hasAttribute=function(t,e){return t.hasAttribute(e)},e.prototype.hasAttributeNS=function(t,e,n){return t.hasAttributeNS(e,n)},e.prototype.getAttribute=function(t,e){return t.getAttribute(e)},e.prototype.getAttributeNS=function(t,e,n){return t.getAttributeNS(e,n)},e.prototype.setAttribute=function(t,e,n){t.setAttribute(e,n)},e.prototype.setAttributeNS=function(t,e,n,r){t.setAttributeNS(e,n,r)},e.prototype.removeAttribute=function(t,e){t.removeAttribute(e)},e.prototype.removeAttributeNS=function(t,e,n){t.removeAttributeNS(e,n)},e.prototype.templateAwareRoot=function(t){return this.isTemplateElement(t)?this.content(t):t},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.getBoundingClientRect=function(t){try{return t.getBoundingClientRect()}catch(e){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}},e.prototype.getTitle=function(t){return t.title},e.prototype.setTitle=function(t,e){t.title=e||""},e.prototype.elementMatches=function(t,e){return!!this.isElementNode(t)&&(t.matches&&t.matches(e)||t.msMatchesSelector&&t.msMatchesSelector(e)||t.webkitMatchesSelector&&t.webkitMatchesSelector(e))},e.prototype.isTemplateElement=function(t){return this.isElementNode(t)&&"TEMPLATE"===t.nodeName},e.prototype.isTextNode=function(t){return t.nodeType===Node.TEXT_NODE},e.prototype.isCommentNode=function(t){return t.nodeType===Node.COMMENT_NODE},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.hasShadowRoot=function(t){return null!=t.shadowRoot&&t instanceof HTMLElement},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.importIntoDoc=function(t){return document.importNode(this.templateAwareRoot(t),!0)},e.prototype.adoptNode=function(t){return document.adoptNode(t)},e.prototype.getHref=function(t){return t.getAttribute("href")},e.prototype.getEventKey=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&fc.hasOwnProperty(e)&&(e=fc[e]))}return dc[e]||e},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=mc||(mc=document.querySelector("base"))?mc.getAttribute("href"):null;return null==n?null:(e=n,vc||(vc=document.createElement("a")),vc.setAttribute("href",e),"/"===vc.pathname.charAt(0)?vc.pathname:"/"+vc.pathname)},e.prototype.resetBaseElement=function(){mc=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.setData=function(t,e,n){this.setAttribute(t,"data-"+e,n)},e.prototype.getData=function(t,e){return this.getAttribute(t,"data-"+e)},e.prototype.getComputedStyle=function(t){return getComputedStyle(t)},e.prototype.supportsWebAnimation=function(){return"function"==typeof Element.prototype.animate},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return function(t,e){var n,r;e=encodeURIComponent(e);try{for(var o=u(t.split(";")),i=o.next();!i.done;i=o.next()){var s=i.value,a=s.indexOf("="),c=l(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),h=c[1];if(c[0].trim()===e)return decodeURIComponent(h)}}catch(p){n={error:p}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}(document.cookie,t)},e.prototype.setCookie=function(t,e){document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(e)},e}(function(t){function e(){var e=t.call(this)||this;e._animationPrefix=null,e._transitionEnd=null;try{var n=e.createElement("div",document);if(null!=e.getStyle(n,"animationName"))e._animationPrefix="";else for(var r=["Webkit","Moz","O","ms"],o=0;o<r.length;o++)if(null!=e.getStyle(n,r[o]+"AnimationName")){e._animationPrefix="-"+r[o].toLowerCase()+"-";break}var i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(i).forEach(function(t){null!=e.getStyle(n,t)&&(e._transitionEnd=i[t])})}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return o(e,t),e.prototype.getDistributedNodes=function(t){return t.getDistributedNodes()},e.prototype.resolveAndSetHref=function(t,e,n){t.href=null==n?e:e+"/../"+n},e.prototype.supportsDOMEvents=function(){return!0},e.prototype.supportsNativeShadowDOM=function(){return"function"==typeof document.body.createShadowRoot},e.prototype.getAnimationPrefix=function(){return this._animationPrefix?this._animationPrefix:""},e.prototype.getTransitionEnd=function(){return this._transitionEnd?this._transitionEnd:""},e.prototype.supportsAnimation=function(){return null!=this._animationPrefix&&null!=this._transitionEnd},e}(function(){function t(){this.resourceLoaderType=null}return Object.defineProperty(t.prototype,"attrToPropMap",{get:function(){return this._attrToPropMap},set:function(t){this._attrToPropMap=t},enumerable:!0,configurable:!0}),t}())),mc=null,yc=ic;function bc(){return!!window.history.pushState}var _c=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}var n;return o(e,t),e.prototype._init=function(){this.location=cc().getLocation(),this._history=cc().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return cc().getBaseHref(this._doc)},e.prototype.onPopState=function(t){cc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){cc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){bc()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){bc()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},s([(n=Ht(yc),function(t,e){n(t,e,0)}),a("design:paramtypes",[Object])],e)}(Hl),wc=new Et("TRANSITION_ID"),Cc=[{provide:wo,useFactory:function(t,e,n){return function(){n.get(Co).donePromise.then(function(){var n=cc();Array.prototype.slice.apply(n.querySelectorAll(e,"style[ng-transition]")).filter(function(e){return n.getAttribute(e,"ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[wc,yc,Zt],multi:!0}],xc=function(){function t(){}return t.init=function(){var e;e=new t,Qo=e},t.prototype.addToWindow=function(t){kt.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},kt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},kt.getAllAngularRootElements=function(){return t.getAllRootElements()},kt.frameworkStabilizers||(kt.frameworkStabilizers=[]),kt.frameworkStabilizers.push(function(t){var e=kt.getAllAngularTestabilities(),n=e.length,r=!1,o=function(e){r=r||e,0==--n&&t(r)};e.forEach(function(t){t.whenStable(o)})})},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?cc().isShadowRoot(e)?this.findTestabilityInTree(t,cc().getHost(e),!0):this.findTestabilityInTree(t,cc().parentElement(e),!0):null},t}();function Pc(t,e){"undefined"!=typeof COMPILED&&COMPILED||((kt.ng=kt.ng||{})[t]=e)}var Ec={ApplicationRef:ri,NgZone:Ho};function Sc(t){return yi(t)}var jc=new Et("EventManagerPlugins"),Ic=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach(function(t){return t.manager=n}),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var o=n[r];if(o.supports(t))return this._eventNameToPlugin.set(t,o),o}throw new Error("No event manager plugin found for event "+t)},t}(),Dc=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=cc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),Ac=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t}(),kc=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return o(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach(function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))})},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach(function(n){return e._addStylesToHost(t,n)})},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach(function(t){return cc().remove(t)})},e}(Ac),Tc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Oc=/%COMP%/g,Mc="_nghost-%COMP%",Rc="_ngcontent-%COMP%";function Nc(t,e,n){for(var r=0;r<e.length;r++){var o=e[r];Array.isArray(o)?Nc(t,o,n):(o=o.replace(Oc,t),n.push(o))}return n}function Lc(t){return function(e){!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var Fc=function(){function t(t,e){this.eventManager=t,this.sharedStylesHost=e,this.rendererByCompId=new Map,this.defaultRenderer=new Uc(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case pe.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new zc(this.eventManager,this.sharedStylesHost,e),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case pe.Native:case pe.ShadowDom:return new Gc(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=Nc(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t}(),Uc=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(Tc[e],t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var o=Tc[r];o?t.setAttributeNS(o,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=Tc[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&dr.DashCase?t.style.setProperty(e,n,r&dr.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&dr.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){Vc(e,"property"),t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return Vc(e,"listener"),"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Lc(n)):this.eventManager.addEventListener(t,e,Lc(n))},t}(),Hc="@".charCodeAt(0);function Vc(t,e){if(t.charCodeAt(0)===Hc)throw new Error("Found the synthetic "+e+" "+t+'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.')}var Bc,zc=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.component=r;var i=Nc(r.id,r.styles,[]);return n.addStyles(i),o.contentAttr=Rc.replace(Oc,r.id),o.hostAttr=Mc.replace(Oc,r.id),o}return o(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(Uc),Gc=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;i.sharedStylesHost=n,i.hostEl=r,i.component=o,i.shadowRoot=o.encapsulation===pe.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),i.sharedStylesHost.addHost(i.shadowRoot);for(var s=Nc(o.id,o.styles,[]),a=0;a<s.length;a++){var u=document.createElement("style");u.textContent=s[a],i.shadowRoot.appendChild(u)}return i}return o(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(Uc),Wc="undefined"!=typeof Zone&&Zone.__symbol__||function(t){return"__zone_symbol__"+t},qc=Wc("addEventListener"),Yc=Wc("removeEventListener"),Xc={},Zc="__zone_symbol__propagationStopped";"undefined"!=typeof Zone&&Zone[Wc("BLACK_LISTED_EVENTS")]&&(Bc={});var Qc=function(t){return!!Bc&&Bc.hasOwnProperty(t)},Kc=function(t){var e=Xc[t.type];if(e){var n=this[e];if(n){var r=[t];if(1===n.length)return(s=n[0]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r);for(var o=n.slice(),i=0;i<o.length&&!0!==t[Zc];i++){var s;(s=o[i]).zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Jc=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.ngZone=n,r&&function(t){return t===sc}(r)||o.patchEvent(),o}return o(e,t),e.prototype.patchEvent=function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var t=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Zc]=!0),t&&t.apply(this,arguments)}}},e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this,o=n;if(!t[qc]||Ho.isInAngularZone()&&!Qc(e))t.addEventListener(e,o,!1);else{var i=Xc[e];i||(i=Xc[e]=Wc("ANGULAR"+e+"FALSE"));var s=t[i],a=s&&s.length>0;s||(s=t[i]=[]);var u=Qc(e)?Zone.root:Zone.current;if(0===s.length)s.push({zone:u,handler:o});else{for(var l=!1,c=0;c<s.length;c++)if(s[c].handler===o){l=!0;break}l||s.push({zone:u,handler:o})}a||t[qc](e,Kc,!1)}return function(){return r.removeEventListener(t,e,o)}},e.prototype.removeEventListener=function(t,e,n){var r=t[Yc];if(!r)return t.removeEventListener.apply(t,[e,n,!1]);var o=Xc[e],i=o&&t[o];if(!i)return t.removeEventListener.apply(t,[e,n,!1]);for(var s=!1,a=0;a<i.length;a++)if(i[a].handler===n){s=!0,i.splice(a,1);break}s?0===i.length&&r.apply(t,[e,Kc,!1]):t.removeEventListener.apply(t,[e,n,!1])},e}(Dc),$c={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},th=new Et("HammerGestureConfig"),eh=new Et("HammerLoader"),nh=function(){function t(){this.events=[],this.overrides={}}return t.prototype.buildHammer=function(t){var e=new Hammer(t,this.options);for(var n in e.get("pinch").set({enable:!0}),e.get("rotate").set({enable:!0}),this.overrides)e.get(n).set(this.overrides[n]);return e},t}(),rh=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._config=n,i.console=r,i.loader=o,i}return o(e,t),e.prototype.supports=function(t){return!(!$c.hasOwnProperty(t.toLowerCase())&&!this.isCustomEvent(t)||!window.Hammer&&!this.loader&&(this.console.warn('The "'+t+'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.'),1))},e.prototype.addEventListener=function(t,e,n){var r=this,o=this.manager.getZone();if(e=e.toLowerCase(),!window.Hammer&&this.loader){var i=!1,s=function(){i=!0};return this.loader().then(function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(s=function(){});i||(s=r.addEventListener(t,e,n))}).catch(function(){r.console.warn('The "'+e+'" event cannot be bound because the custom Hammer.JS loader failed.'),s=function(){}}),function(){s()}}return o.runOutsideAngular(function(){var i=r._config.buildHammer(t),s=function(t){o.runGuarded(function(){n(t)})};return i.on(e,s),function(){i.off(e,s),"function"==typeof i.destroy&&i.destroy()}})},e.prototype.isCustomEvent=function(t){return this._config.events.indexOf(t)>-1},e}(Dc),oh=["alt","control","meta","shift"],ih={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},sh=function(t){function e(e){return t.call(this,e)||this}var n;return o(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var o=n.parseEventName(e),i=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return cc().onAndCancel(t,o.domEventName,i)})},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var o=n._normalizeKey(e.pop()),i="";if(oh.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),i+=t+".")}),i+=o,0!=e.length||0===o.length)return null;var s={};return s.domEventName=r,s.fullKey=i,s},e.getEventFullKey=function(t){var e="",n=cc().getEventKey(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),oh.forEach(function(r){r!=n&&(0,ih[r])(t)&&(e+=r+".")}),e+=n},e.eventCallback=function(t,e,r){return function(o){n.getEventFullKey(o)===t&&r.runGuarded(function(){return e(o)})}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e}(Dc),ah=function(){return function(){}}(),uh=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n}return o(e,t),e.prototype.sanitize=function(t,e){if(null==e)return null;switch(t){case so.NONE:return e;case so.HTML:return e instanceof ch?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"HTML"),function(t,e){var n=null;try{qr=qr||new Hr(t);var r=e?String(e):"";n=qr.getInertBodyElement(r);var o=5,i=r;do{if(0===o)throw new Error("Failed to sanitize html because the input is unstable");o--,r=i,i=n.innerHTML,n=qr.getInertBodyElement(r)}while(r!==i);var s=new eo,a=s.sanitizeChildren(io(n)||n);return Ur()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}finally{if(n)for(var u=io(n)||n;u.firstChild;)u.removeChild(u.firstChild)}}(this._doc,String(e)));case so.STYLE:return e instanceof hh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"Style"),function(t){if(!(t=String(t).trim()))return"";var e=t.match(lo);return e&&zr(e[1])===e[1]||t.match(uo)&&function(t){for(var e=!0,n=!0,r=0;r<t.length;r++){var o=t.charAt(r);"'"===o&&n?e=!e:'"'===o&&e&&(n=!n)}return e&&n}(t)?t:(Ur()&&console.warn("WARNING: sanitizing unsafe style value "+t+" (see http://g.co/ng/security#xss)."),"unsafe")}(e));case so.SCRIPT:if(e instanceof ph)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"Script"),new Error("unsafe value used in a script context");case so.URL:return e instanceof fh||e instanceof dh?e.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(e,"URL"),zr(String(e)));case so.RESOURCE_URL:if(e instanceof fh)return e.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(e,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext "+t+" (see http://g.co/ng/security#xss)")}},e.prototype.checkNotSafeValue=function(t,e){if(t instanceof lh)throw new Error("Required a safe "+e+", got a "+t.getTypeName()+" (see http://g.co/ng/security#xss)")},e.prototype.bypassSecurityTrustHtml=function(t){return new ch(t)},e.prototype.bypassSecurityTrustStyle=function(t){return new hh(t)},e.prototype.bypassSecurityTrustScript=function(t){return new ph(t)},e.prototype.bypassSecurityTrustUrl=function(t){return new dh(t)},e.prototype.bypassSecurityTrustResourceUrl=function(t){return new fh(t)},e}(ah),lh=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}(),ch=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"HTML"},e}(lh),hh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"Style"},e}(lh),ph=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"Script"},e}(lh),dh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"URL"},e}(lh),fh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.getTypeName=function(){return"ResourceURL"},e}(lh),vh=$o(Ri,"browser",[{provide:jo,useValue:"browser"},{provide:So,useValue:function(){gc.makeCurrent(),xc.init()},multi:!0},{provide:Hl,useClass:_c,deps:[yc]},{provide:yc,useFactory:function(){return document},deps:[]}]);function gh(){return new yo}var mh=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:xo,useValue:t.appId},{provide:wc,useExisting:xo},Cc]}},t}();"undefined"!=typeof window&&window;var yh=function(){return function(t,e){this.id=t,this.url=e}}(),bh=function(t){function e(e,n,r,o){void 0===r&&(r="imperative"),void 0===o&&(o=null);var i=t.call(this,e,n)||this;return i.navigationTrigger=r,i.restoredState=o,i}return o(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(yh),_h=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o}return o(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(yh),wh=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.reason=r,o}return o(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(yh),Ch=function(t){function e(e,n,r){var o=t.call(this,e,n)||this;return o.error=r,o}return o(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(yh),xh=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yh),Ph=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yh),Eh=function(t){function e(e,n,r,o,i){var s=t.call(this,e,n)||this;return s.urlAfterRedirects=r,s.state=o,s.shouldActivate=i,s}return o(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(yh),Sh=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yh),jh=function(t){function e(e,n,r,o){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i.state=o,i}return o(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(yh),Ih=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),Dh=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),Ah=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),kh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Th=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Oh=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),Mh=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),Rh=function(){return function(){}}(),Nh="primary",Lh=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function Fh(t){return new Lh(t)}function Uh(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var o={},i=0;i<r.length;i++){var s=r[i],a=t[i];if(s.startsWith(":"))o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:o}}var Hh=function(){return function(t,e){this.routes=t,this.module=e}}();function Vh(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];Bh(r,zh(e,r))}}function Bh(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&t.outlet!==Nh)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&Vh(t.children,e)}function zh(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Gh(t){var e=t.children&&t.children.map(Gh),n=e?i({},t,{children:e}):i({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Nh&&(n.component=Rh),n}function Wh(t,e){var n,r=Object.keys(t),o=Object.keys(e);if(r.length!=o.length)return!1;for(var i=0;i<r.length;i++)if(t[n=r[i]]!==e[n])return!1;return!0}function qh(t){return Array.prototype.concat.apply([],t)}function Yh(t){return t.length>0?t[t.length-1]:null}function Xh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Zh(t){return t.pipe(lt(),Cl(function(t){return!0===t}))}function Qh(t){return _o(t)?t:bo(t)?ot(Promise.resolve(t)):tl(t)}function Kh(t,e,n){return n?function(t,e){return Wh(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!ep(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(function(n){return e[n]===t[n]})}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,o){if(n.segments.length>o.length)return!!ep(s=n.segments.slice(0,o.length),o)&&!r.hasChildren();if(n.segments.length===o.length){if(!ep(n.segments,o))return!1;for(var i in r.children){if(!n.children[i])return!1;if(!t(n.children[i],r.children[i]))return!1}return!0}var s=o.slice(0,n.segments.length),a=o.slice(n.segments.length);return!!ep(n.segments,s)&&!!n.children[Nh]&&e(n.children[Nh],r,a)}(e,n,n.segments)}(t.root,e.root)}var Jh=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Fh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return ip.serialize(this)},t}(),$h=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Xh(e,function(t,e){return t.parent=n})}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return sp(this)},t}(),tp=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=Fh(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return pp(this)},t}();function ep(t,e){return t.length===e.length&&t.every(function(t,n){return t.path===e[n].path})}function np(t,e){var n=[];return Xh(t.children,function(t,r){r===Nh&&(n=n.concat(e(t,r)))}),Xh(t.children,function(t,r){r!==Nh&&(n=n.concat(e(t,r)))}),n}var rp=function(){return function(){}}(),op=function(){function t(){}return t.prototype.parse=function(t){var e=new mp(t);return new Jh(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return sp(e);if(n){var r=e.children[Nh]?t(e.children[Nh],!1):"",o=[];return Xh(e.children,function(e,n){n!==Nh&&o.push(n+":"+t(e,!1))}),o.length>0?r+"("+o.join("//")+")":r}var i=np(e,function(n,r){return r===Nh?[t(e.children[Nh],!1)]:[r+":"+t(n,!1)]});return sp(e)+"/("+i.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map(function(t){var n=e[t];return Array.isArray(n)?n.map(function(e){return up(t)+"="+up(e)}).join("&"):up(t)+"="+up(n)})).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),ip=new op;function sp(t){return t.segments.map(function(t){return pp(t)}).join("/")}function ap(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function up(t){return ap(t).replace(/%3B/gi,";")}function lp(t){return ap(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cp(t){return decodeURIComponent(t)}function hp(t){return cp(t.replace(/\+/g,"%20"))}function pp(t){return""+lp(t.path)+(e=t.parameters,Object.keys(e).map(function(t){return";"+lp(t)+"="+lp(e[t])}).join(""));var e}var dp=/^[^\/()?;=#]+/;function fp(t){var e=t.match(dp);return e?e[0]:""}var vp=/^[^=?&#]+/,gp=/^[^?&#]+/,mp=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $h([],{}):new $h([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[Nh]=new $h(t,e)),n},t.prototype.parseSegment=function(){var t=fp(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new tp(cp(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=fp(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=fp(this.remaining);r&&this.capture(n=r)}t[cp(e)]=cp(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(vp))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var o=function(t){var e=t.match(gp);return e?e[0]:""}(this.remaining);o&&this.capture(r=o)}var i=hp(n),s=hp(r);if(t.hasOwnProperty(i)){var a=t[i];Array.isArray(a)||(t[i]=a=[a]),a.push(s)}else t[i]=s}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=fp(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var o=void 0;n.indexOf(":")>-1?(o=n.substr(0,n.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Nh);var i=this.parseChildren();e[o]=1===Object.keys(i).length?i[Nh]:new $h([],i),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),yp=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=bp(t,this._root);return e?e.children.map(function(t){return t.value}):[]},t.prototype.firstChild=function(t){var e=bp(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=_p(t,this._root);return e.length<2?[]:e[e.length-2].children.map(function(t){return t.value}).filter(function(e){return e!==t})},t.prototype.pathFromRoot=function(t){return _p(t,this._root).map(function(t){return t.value})},t}();function bp(t,e){var n,r;if(t===e.value)return e;try{for(var o=u(e.children),i=o.next();!i.done;i=o.next()){var s=bp(t,i.value);if(s)return s}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return null}function _p(t,e){var n,r;if(t===e.value)return[e];try{for(var o=u(e.children),i=o.next();!i.done;i=o.next()){var s=_p(t,i.value);if(s.length)return s.unshift(e),s}}catch(a){n={error:a}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return[]}var wp=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function Cp(t){var e={};return t&&t.children.forEach(function(t){return e[t.value.outlet]=t}),e}var xp=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,Dp(r,e),r}return o(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(yp);function Pp(t,e){var n=function(t,e){var n=new jp([],{},{},"",{},Nh,e,null,t.root,-1,{});return new Ip("",new wp(n,[]))}(t,e),r=new el([new tp("",{})]),o=new el({}),i=new el({}),s=new el({}),a=new el(""),u=new Ep(r,o,s,a,i,Nh,e,n.root);return u.snapshot=n.root,new xp(new wp(u,[]),n)}var Ep=function(){function t(t,e,n,r,o,i,s,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this._futureSnapshot=a}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(tt(function(t){return Fh(t)}))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(tt(function(t){return Fh(t)}))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function Sp(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var o=n[r],s=n[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function(t){return t.reduce(function(t,e){return{params:i({},t.params,e.params),data:i({},t.data,e.data),resolve:i({},t.resolve,e._resolvedData)}},{params:{},data:{},resolve:{}})}(n.slice(r))}var jp=function(){function t(t,e,n,r,o,i,s,a,u,l,c){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=o,this.outlet=i,this.component=s,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=l,this._resolve=c}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=Fh(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=Fh(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map(function(t){return t.toString()}).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),Ip=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,Dp(r,n),r}return o(e,t),e.prototype.toString=function(){return Ap(this._root)},e}(yp);function Dp(t,e){e.value._routerState=t,e.children.forEach(function(e){return Dp(t,e)})}function Ap(t){var e=t.children.length>0?" { "+t.children.map(Ap).join(", ")+" } ":"";return""+t.value+e}function kp(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Wh(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Wh(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Wh(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Wh(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function Tp(t,e){var n,r;return Wh(t.params,e.params)&&ep(n=t.url,r=e.url)&&n.every(function(t,e){return Wh(t.parameters,r[e].parameters)})&&!(!t.parent!=!e.parent)&&(!t.parent||Tp(t.parent,e.parent))}function Op(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Mp(t,e,n,r,o){var i={};return r&&Xh(r,function(t,e){i[e]=Array.isArray(t)?t.map(function(t){return""+t}):""+t}),new Jh(n.root===t?e:function t(e,n,r){var o={};return Xh(e.children,function(e,i){o[i]=e===n?r:t(e,n,r)}),new $h(e.segments,o)}(n.root,t,e),i,o)}var Rp=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Op(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find(function(t){return"object"==typeof t&&null!=t&&t.outlets});if(r&&r!==Yh(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),Np=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function Lp(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets[Nh]:""+t}function Fp(t,e,n){if(t||(t=new $h([],{})),0===t.segments.length&&t.hasChildren())return Up(t,e,n);var r=function(t,e,n){for(var r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};o<t.segments.length;){if(r>=n.length)return i;var s=t.segments[o],a=Lp(n[r]),u=r<n.length-1?n[r+1]:null;if(o>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!zp(a,u,s))return i;r+=2}else{if(!zp(a,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(t,e,n),o=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var i=new $h(t.segments.slice(0,r.pathIndex),{});return i.children[Nh]=new $h(t.segments.slice(r.pathIndex),t.children),Up(i,0,o)}return r.match&&0===o.length?new $h(t.segments,{}):r.match&&!t.hasChildren()?Hp(t,e,n):r.match?Up(t,0,o):Hp(t,e,n)}function Up(t,e,n){if(0===n.length)return new $h(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={})[Nh]=t,e):void 0===t[0].outlets?((n={})[Nh]=t,n):t[0].outlets}(n),o={};return Xh(r,function(n,r){null!==n&&(o[r]=Fp(t.children[r],e,n))}),Xh(t.children,function(t,e){void 0===r[e]&&(o[e]=t)}),new $h(t.segments,o)}function Hp(t,e,n){for(var r=t.segments.slice(0,e),o=0;o<n.length;){if("object"==typeof n[o]&&void 0!==n[o].outlets){var i=Vp(n[o].outlets);return new $h(r,i)}if(0===o&&Op(n[0]))r.push(new tp(t.segments[e].path,n[0])),o++;else{var s=Lp(n[o]),a=o<n.length-1?n[o+1]:null;s&&a&&Op(a)?(r.push(new tp(s,Bp(a))),o+=2):(r.push(new tp(s,{})),o++)}}return new $h(r,{})}function Vp(t){var e={};return Xh(t,function(t,n){null!==t&&(e[n]=Hp(new $h([],{}),0,t))}),e}function Bp(t){var e={};return Xh(t,function(t,n){return e[n]=""+t}),e}function zp(t,e,n){return t==n.path&&Wh(e,n.parameters)}var Gp=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),kp(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,o=Cp(e);t.children.forEach(function(t){var e=t.value.outlet;r.deactivateRoutes(t,o[e],n),delete o[e]}),Xh(o,function(t,e){r.deactivateRouteAndItsChildren(t,n)})},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(r===o)if(r.component){var i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else o&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),o=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:o})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var o=Cp(t),i=t.value.component?r.children:e;Xh(o,function(t,e){return n.deactivateRouteAndItsChildren(t,i)}),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,o=Cp(e);t.children.forEach(function(t){r.activateRoutes(t,o[t.value.outlet],n),r.forwardEvent(new Oh(t.value.snapshot))}),t.children.length&&this.forwardEvent(new kh(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,o=e?e.value:null;if(kp(r),r===o)if(r.component){var i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(i=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),Wp(s.route)}else{var a=function(t){for(var e=r.snapshot.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(),u=a?a.module.componentFactoryResolver:null;i.attachRef=null,i.route=r,i.resolver=u,i.outlet&&i.outlet.activateWith(r,u),this.activateChildRoutes(t,null,i.children)}else this.activateChildRoutes(t,null,n)},t}();function Wp(t){kp(t.value),t.children.forEach(Wp)}var qp=function(){return function(t){this.segmentGroup=t||null}}(),Yp=function(){return function(t){this.urlTree=t}}();function Xp(t){return new O(function(e){return e.error(new qp(t))})}function Zp(t){return new O(function(e){return e.error(new Yp(t))})}function Qp(t){return new O(function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))})}var Kp=function(){function t(t,e,n,r,o){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=o,this.allowRedirects=!0,this.ngModule=t.get(er)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,Nh).pipe(tt(function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)})).pipe(El(function(e){if(e instanceof Yp)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof qp)throw t.noMatchError(e);throw e}))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,Nh).pipe(tt(function(n){return e.createUrlTree(n,t.queryParams,t.fragment)})).pipe(El(function(t){if(t instanceof qp)throw e.noMatchError(t);throw t}))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,o=t.segments.length>0?new $h([],((r={})[Nh]=t,r)):t;return new Jh(o,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(tt(function(t){return new $h([],t)})):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,o){if(0===Object.keys(n).length)return tl({});var i=[],s=[],a={};return Xh(n,function(n,o){var u,l,c=(u=o,l=n,r.expandSegmentGroup(t,e,l,u)).pipe(tt(function(t){return a[o]=t}));o===Nh?i.push(c):s.push(c)}),tl.apply(null,i.concat(s)).pipe(ol(),wl(),tt(function(){return a}))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,o,i){var s=this;return tl.apply(void 0,c(n)).pipe(tt(function(a){return s.expandSegmentAgainstRoute(t,e,n,a,r,o,i).pipe(El(function(t){if(t instanceof qp)return tl(null);throw t}))}),ol(),Al(function(t){return!!t}),El(function(t,n){if(t instanceof rl||"EmptyError"===t.name){if(s.noLeftoversInUrl(e,r,o))return tl(new $h([],{}));throw new qp(e)}throw t}))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,o,i,s){return ed(r)!==i?Xp(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i):Xp(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,o,i)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var o=this,i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Zp(i):this.lineralizeSegments(n,i).pipe(it(function(n){var i=new $h(n,{});return o.expandSegment(t,i,e,n,r,!1)}))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,o,i){var s=this,a=Jp(e,r,o),u=a.consumedSegments,l=a.lastChild,c=a.positionalParamSegments;if(!a.matched)return Xp(e);var h=this.applyRedirectCommands(u,r.redirectTo,c);return r.redirectTo.startsWith("/")?Zp(h):this.lineralizeSegments(r,h).pipe(it(function(r){return s.expandSegment(t,e,n,r.concat(o.slice(l)),i,!1)}))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var o=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(tt(function(t){return n._loadedConfig=t,new $h(r,{})})):tl(new $h(r,{}));var s=Jp(e,n,r),a=s.consumedSegments,l=s.lastChild;if(!s.matched)return Xp(e);var c=r.slice(l);return this.getChildConfig(t,n,r).pipe(it(function(t){var n=t.module,r=t.routes,s=function(t,e,n,r){return n.length>0&&function(t,e,n){return r.some(function(n){return td(t,e,n)&&ed(n)!==Nh})}(t,n)?{segmentGroup:$p(new $h(e,function(t,e){var n,r,o={};o[Nh]=e;try{for(var i=u(t),s=i.next();!s.done;s=i.next()){var a=s.value;""===a.path&&ed(a)!==Nh&&(o[ed(a)]=new $h([],{}))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return o}(r,new $h(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return r.some(function(n){return td(t,e,n)})}(t,n)?{segmentGroup:$p(new $h(t.segments,function(t,e,n,r){var o,s,a={};try{for(var l=u(n),c=l.next();!c.done;c=l.next()){var h=c.value;td(t,e,h)&&!r[ed(h)]&&(a[ed(h)]=new $h([],{}))}}catch(p){o={error:p}}finally{try{c&&!c.done&&(s=l.return)&&s.call(l)}finally{if(o)throw o.error}}return i({},r,a)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,a,c,r),l=s.segmentGroup,h=s.slicedSegments;return 0===h.length&&l.hasChildren()?o.expandChildren(n,r,l).pipe(tt(function(t){return new $h(a,t)})):0===r.length&&0===h.length?tl(new $h(a,{})):o.expandSegment(n,l,r,h,Nh,!0).pipe(tt(function(t){return new $h(a.concat(t.segments),t.children)}))}))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?tl(new Hh(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?tl(e._loadedConfig):function(t,e,n){var r=e.canLoad;return r&&0!==r.length?Zh(ot(r).pipe(tt(function(r){var o=t.get(r);return Qh(o.canLoad?o.canLoad(e,n):o(e,n))}))):tl(!0)}(t.injector,e,n).pipe(it(function(n){return n?r.configLoader.load(t.injector,e).pipe(tt(function(t){return e._loadedConfig=t,t})):function(t){return new O(function(e){return e.error(((n=Error("NavigationCancelingError: Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false")).ngNavigationCancelingError=!0,n));var n})}(e)})):tl(new Hh([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return tl(n);if(r.numberOfChildren>1||!r.children[Nh])return Qp(t.redirectTo);r=r.children[Nh]}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var o=this.createSegmentGroup(t,e.root,n,r);return new Jh(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Xh(t,function(t,r){if("string"==typeof t&&t.startsWith(":")){var o=t.substring(1);n[r]=e[o]}else n[r]=t}),n},t.prototype.createSegmentGroup=function(t,e,n,r){var o=this,i=this.createSegments(t,e.segments,n,r),s={};return Xh(e.children,function(e,i){s[i]=o.createSegmentGroup(t,e,n,r)}),new $h(i,s)},t.prototype.createSegments=function(t,e,n,r){var o=this;return e.map(function(e){return e.path.startsWith(":")?o.findPosParam(t,e,r):o.findOrReturn(e,n)})},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,o=0;try{for(var i=u(e),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.path===t.path)return e.splice(o),a;o++}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return t},t}();function Jp(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||Uh)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function $p(t){if(1===t.numberOfChildren&&t.children[Nh]){var e=t.children[Nh];return new $h(t.segments.concat(e.segments),e.children)}return t}function td(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function ed(t){return t.outlet||Nh}var nd=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),rd=function(){return function(t,e){this.component=t,this.route=e}}();function od(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function id(t,e,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=Cp(e);return t.children.forEach(function(t){!function(t,e,n,r,o){void 0===o&&(o={canDeactivateChecks:[],canActivateChecks:[]});var i=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){var u=function(t,e,n){switch(n){case"always":return!0;case"paramsOrQueryParamsChange":return!Tp(t,e)||!Wh(t.queryParams,e.queryParams);case"paramsChange":default:return!Tp(t,e)}}(s,i,i.routeConfig.runGuardsAndResolvers);u?o.canActivateChecks.push(new nd(r)):(i.data=s.data,i._resolvedData=s._resolvedData),id(t,e,i.component?a?a.children:null:n,r,o),u&&o.canDeactivateChecks.push(new rd(a&&a.outlet&&a.outlet.component||null,s))}else s&&sd(e,a,o),o.canActivateChecks.push(new nd(r)),id(t,null,i.component?a?a.children:null:n,r,o)}(t,i[t.value.outlet],n,r.concat([t.value]),o),delete i[t.value.outlet]}),Xh(i,function(t,e){return sd(t,n.getContext(e),o)}),o}function sd(t,e,n){var r=Cp(t),o=t.value;Xh(r,function(t,r){sd(t,o.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new rd(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}function ad(t,e){return null!==t&&e&&e(new Th(t)),tl(!0)}function ud(t,e){return null!==t&&e&&e(new Ah(t)),tl(!0)}function ld(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Zh(ot(r).pipe(tt(function(r){var o=od(r,e,n);return Qh(o.canActivate?o.canActivate(e,t):o(e,t)).pipe(Al())}))):tl(!0)}function cd(t,e,n){var r=e[e.length-1];return Zh(ot(e.slice(0,e.length-1).reverse().map(function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)}).filter(function(t){return null!==t})).pipe(tt(function(e){return Zh(ot(e.guards).pipe(tt(function(o){var i=od(o,e.node,n);return Qh(i.canActivateChild?i.canActivateChild(r,t):i(r,t)).pipe(Al())})))})))}var hd=function(){return function(){}}(),pd=function(){function t(t,e,n,r,o,i){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=o,this.relativeLinkResolution=i}return t.prototype.recognize=function(){try{var t=vd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Nh),n=new jp([],Object.freeze({}),Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,{},Nh,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new wp(n,e),o=new Ip(this.url,r);return this.inheritParamsAndData(o._root),tl(o)}catch(s){return new O(function(t){return t.error(s)})}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=Sp(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(function(t){return e.inheritParamsAndData(t)})},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,o=np(e,function(e,n){return r.processSegmentGroup(t,e,n)});return n={},o.forEach(function(t){var e=n[t.value.outlet];if(e){var r=e.url.map(function(t){return t.toString()}).join("/"),o=t.value.url.map(function(t){return t.toString()}).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+o+"'.")}n[t.value.outlet]=t.value}),o.sort(function(t,e){return t.value.outlet===Nh?-1:e.value.outlet===Nh?1:t.value.outlet.localeCompare(e.value.outlet)}),o},t.prototype.processSegment=function(t,e,n,r){var o,i;try{for(var s=u(t),a=s.next();!a.done;a=s.next()){var l=a.value;try{return this.processSegmentAgainstRoute(l,e,n,r)}catch(c){if(!(c instanceof hd))throw c}}}catch(h){o={error:h}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new hd},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new hd;if((t.outlet||Nh)!==r)throw new hd;var o,s=[],a=[];if("**"===t.path){var u=n.length>0?Yh(n).parameters:{};o=new jp(n,u,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,yd(t),r,t.component,t,dd(e),fd(e)+n.length,bd(t))}else{var l=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new hd;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||Uh)(n,t,e);if(!r)throw new hd;var o={};Xh(r.posParams,function(t,e){o[e]=t.path});var s=r.consumed.length>0?i({},o,r.consumed[r.consumed.length-1].parameters):o;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:s}}(e,t,n);s=l.consumedSegments,a=n.slice(l.lastChild),o=new jp(s,l.parameters,Object.freeze(i({},this.urlTree.queryParams)),this.urlTree.fragment,yd(t),r,t.component,t,dd(e),fd(e)+s.length,bd(t))}var c=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),h=vd(e,s,a,c,this.relativeLinkResolution),p=h.segmentGroup,d=h.slicedSegments;if(0===d.length&&p.hasChildren()){var f=this.processChildren(c,p);return[new wp(o,f)]}if(0===c.length&&0===d.length)return[new wp(o,[])];var v=this.processSegment(c,p,d,Nh);return[new wp(o,v)]},t}();function dd(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function fd(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function vd(t,e,n,r,o){if(n.length>0&&function(t,e,n){return r.some(function(n){return gd(t,e,n)&&md(n)!==Nh})}(t,n)){var s=new $h(e,function(t,e,n,r){var o,i,s={};s[Nh]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var a=u(n),l=a.next();!l.done;l=a.next()){var c=l.value;if(""===c.path&&md(c)!==Nh){var h=new $h([],{});h._sourceSegment=t,h._segmentIndexShift=e.length,s[md(c)]=h}}}catch(p){o={error:p}}finally{try{l&&!l.done&&(i=a.return)&&i.call(a)}finally{if(o)throw o.error}}return s}(t,e,r,new $h(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return r.some(function(n){return gd(t,e,n)})}(t,n)){var a=new $h(t.segments,function(t,e,n,r,o,s){var a,l,c={};try{for(var h=u(r),p=h.next();!p.done;p=h.next()){var d=p.value;if(gd(t,n,d)&&!o[md(d)]){var f=new $h([],{});f._sourceSegment=t,f._segmentIndexShift="legacy"===s?t.segments.length:e.length,c[md(d)]=f}}}catch(v){a={error:v}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(a)throw a.error}}return i({},o,c)}(t,e,n,r,t.children,o));return a._sourceSegment=t,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:n}}var l=new $h(t.segments,t.children);return l._sourceSegment=t,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:n}}function gd(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function md(t){return t.outlet||Nh}function yd(t){return t.data||{}}function bd(t){return t.resolve||{}}function _d(t,e,n,r){var o=od(t,e,r);return Qh(o.resolve?o.resolve(e,n):o(e,n))}function wd(t){return function(e){return e.pipe(kl(function(e){var n=t(e);return n?ot(n).pipe(tt(function(){return e})):ot([e])}))}}var Cd=function(){return function(){}}(),xd=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),Pd=new Et("ROUTES"),Ed=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(tt(function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var o=r.create(t);return new Hh(qh(o.injector.get(Pd)).map(Gh),o)}))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?ot(this.loader.load(t)):Qh(t()).pipe(it(function(t){return t instanceof nr?tl(t):ot(e.compiler.compileModuleAsync(t))}))},t}(),Sd=function(){return function(){}}(),jd=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function Id(t){throw t}function Dd(t,e,n){return e.parse("/")}function Ad(t,e){return tl(null)}var kd=function(){function t(t,e,n,r,o,i,s,a){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=a,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new U,this.errorHandler=Id,this.malformedUriErrorHandler=Dd,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ad,afterPreactivation:Ad},this.urlHandlingStrategy=new jd,this.routeReuseStrategy=new xd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=o.get(er),this.console=o.get(Do);var l=o.get(Ho);this.isNgZoneEnabled=l instanceof Ho,this.resetConfig(a),this.currentUrlTree=new Jh(new $h([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new Ed(i,s,function(t){return u.triggerEvent(new Ih(t))},function(t){return u.triggerEvent(new Dh(t))}),this.routerState=Pp(this.currentUrlTree,this.rootComponentType),this.transitions=new el({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",state:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(il(function(t){return 0!==t.id}),tt(function(t){return i({},t,{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})}),kl(function(t){var r,o,s,a,l=!1,c=!1;return tl(t).pipe(kl(function(t){var r,o,s,a,u=!e.navigated||t.extractedUrl.toString()!==e.currentUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return tl(t).pipe(dl(function(t){return"eager"===e.urlUpdateStrategy&&!t.extras.skipLocationChange&&e.setBrowserUrl(t.rawUrl,!!t.extras.replaceUrl,t.id)}),kl(function(t){var r=e.transitions.getValue();return n.next(new bh(t.id,e.serializeUrl(t.extractedUrl),t.source,t.state)),r!==e.transitions.getValue()?Ju:[t]}),kl(function(t){return Promise.resolve(t)}),(r=e.ngModule.injector,o=e.configLoader,s=e.urlSerializer,a=e.config,function(t){return t.pipe(kl(function(t){return function(e,n,r,o,i){return new Kp(e,n,r,t.extractedUrl,i).apply()}(r,o,s,0,a).pipe(tt(function(e){return i({},t,{urlAfterRedirects:e})}))}))}),function(t,n,r,o,s){return function(r){return r.pipe(it(function(r){return function(t,e,n,r,o,i){return void 0===o&&(o="emptyOnly"),void 0===i&&(i="legacy"),new pd(t,e,n,r,o,i).recognize()}(t,n,r.urlAfterRedirects,(a=r.urlAfterRedirects,e.serializeUrl(a)),o,s).pipe(tt(function(t){return i({},r,{targetSnapshot:t})}));var a}))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),dl(function(t){var r=new xh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)}));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var l=t.extractedUrl,c=t.source,h=t.state,p=t.extras,d=new bh(t.id,e.serializeUrl(l),c,h);n.next(d);var f=Pp(l,e.rootComponentType).snapshot;return tl(i({},t,{targetSnapshot:f,urlAfterRedirects:l,extras:i({},p,{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,t.resolve(null),Ju}),wd(function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),dl(function(t){var n=new Ph(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),tt(function(t){return i({},t,{guards:(n=t.targetSnapshot,r=t.currentSnapshot,o=e.rootContexts,s=n._root,id(s,r?r._root:null,o,[s.value]))});var n,r,o,s}),function(t,e){return function(n){return n.pipe(it(function(n){var r=n.targetSnapshot,o=n.currentSnapshot,s=n.guards,a=s.canActivateChecks,u=s.canDeactivateChecks;return 0===u.length&&0===a.length?tl(i({},n,{guardsResult:!0})):function(t,e,n,r){return ot(u).pipe(it(function(t){return function(t,e,n,r,o){var i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return i&&0!==i.length?ot(i).pipe(it(function(i){var s=od(i,e,o);return Qh(s.canDeactivate?s.canDeactivate(t,e,n,r):s(t,e,n,r)).pipe(Al())})).pipe(Cl(function(t){return!0===t})):tl(!0)}(t.component,t.route,n,e,r)}),Cl(function(t){return!0===t}))}(0,r,o,t).pipe(it(function(n){return n?function(t,e,n,r){return ot(a).pipe(Ml(function(e){return Zh(ot([ud(e.route.parent,r),ad(e.route,r),cd(t,e.path,n),ld(t,e.route,n)]))}),Cl(function(t){return!0===t}))}(r,0,t,e):tl(!1)}),tt(function(t){return i({},n,{guardsResult:t})}))}))}}(e.ngModule.injector,function(t){return e.triggerEvent(t)}),dl(function(t){var n=new Eh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)}),il(function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new wh(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0}),wd(function(t){if(t.guards.canActivateChecks.length)return tl(t).pipe(dl(function(t){var n=new Sh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(it(function(t){var e=t.targetSnapshot,o=t.guards.canActivateChecks;return o.length?ot(o).pipe(Ml(function(t){return function(t,n,r,o){return function(t,e,n,r){var o=Object.keys(t);if(0===o.length)return tl({});if(1===o.length){var i=o[0];return _d(t[i],e,n,r).pipe(tt(function(t){var e;return(e={})[i]=t,e}))}var s={};return ot(o).pipe(it(function(o){return _d(t[o],e,n,r).pipe(tt(function(t){return s[o]=t,t}))})).pipe(wl(),tt(function(){return s}))}(t._resolve,t,e,o).pipe(tt(function(e){return t._resolvedData=e,t.data=i({},t.data,Sp(t,r).resolve),null}))}(t.route,0,n,r)}),function(t,e){return arguments.length>=2?function(e){return k(Rl(t,void 0),cl(1),yl(void 0))(e)}:function(e){return k(Rl(function(e,n,r){return t(e)}),cl(1))(e)}}(function(t,e){return t}),tt(function(e){return t})):tl(t)}))}),dl(function(t){var n=new jh(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)}));var n,r}),wd(function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})}),tt(function(t){var n,r,o,s=(o=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(l=r.value)._futureSnapshot=n.value;var o=function(e,n,r){return n.children.map(function(n){var o,i;try{for(var s=u(r.children),a=s.next();!a.done;a=s.next()){var l=a.value;if(e.shouldReuseRoute(l.value.snapshot,n.value))return t(e,n,l)}}catch(c){o={error:c}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(o)throw o.error}}return t(e,n)})}(e,n,r);return new wp(l,o)}var i=e.retrieve(n.value);if(i){var s=i.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var a,l=new Ep(new el((a=n.value).url),new el(a.params),new el(a.queryParams),new el(a.fragment),new el(a.data),a.outlet,a.component,a);return o=n.children.map(function(n){return t(e,n)}),new wp(l,o)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new xp(o,n));return i({},t,{targetRouterState:s})}),dl(function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"!==e.urlUpdateStrategy||t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id)}),(o=e.rootContexts,s=e.routeReuseStrategy,a=function(t){return e.triggerEvent(t)},tt(function(t){return new Gp(s,t.targetRouterState,t.currentRouterState,a).activate(o),t})),dl({next:function(){l=!0},complete:function(){l=!0}}),(r=function(){if(!l&&!c){e.resetUrlToCurrentUrlTree();var r=new wh(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}},function(t){return t.lift(new Fl(r))}),El(function(r){if(c=!0,(s=r)&&s.ngNavigationCancelingError){e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var o=new wh(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var i=new Ch(t.id,e.serializeUrl(t.extractedUrl),r);n.next(i);try{t.resolve(e.errorHandler(r))}catch(a){t.reject(a)}}var s;return Ju}))}))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){return this.transitions.value},t.prototype.setTransition=function(t){this.transitions.next(i({},this.getTransition(),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe(function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",o=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(function(){t.scheduleNavigation(n,r,o,{replaceUrl:!0})},0)}))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){Vh(t),this.config=t.map(Gh),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,o=e.fragment,s=e.preserveQueryParams,a=e.queryParamsHandling,u=e.preserveFragment;Ur()&&s&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,h=u?this.currentUrlTree.fragment:o,p=null;if(a)switch(a){case"merge":p=i({},this.currentUrlTree.queryParams,r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}else p=s?this.currentUrlTree.queryParams:r||null;return null!==p&&(p=this.removeEmptyProps(p)),function(t,e,n,r,o){if(0===n.length)return Mp(e.root,e.root,e,r,o);var i=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Rp(!0,0,t);var e=0,n=!1,r=t.reduce(function(t,r,o){if("object"==typeof r&&null!=r){if(r.outlets){var i={};return Xh(r.outlets,function(t,e){i[e]="string"==typeof t?t.split("/"):t}),c(t,[{outlets:i}])}if(r.segmentPath)return c(t,[r.segmentPath])}return"string"!=typeof r?c(t,[r]):0===o?(r.split("/").forEach(function(r,o){0==o&&"."===r||(0==o&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):c(t,[r])},[]);return new Rp(n,e,r)}(n);if(i.toRoot())return Mp(e.root,new $h([],{}),e,r,o);var s=function(t,n,r){if(t.isAbsolute)return new Np(e.root,!0,0);if(-1===r.snapshot._lastPathIndex)return new Np(r.snapshot._urlSegment,!0,0);var o=Op(t.commands[0])?0:1;return function(e,n,i){for(var s=r.snapshot._urlSegment,a=r.snapshot._lastPathIndex+o,u=t.numberOfDoubleDots;u>a;){if(u-=a,!(s=s.parent))throw new Error("Invalid number of '../'");a=s.segments.length}return new Np(s,!1,a-u)}()}(i,0,t),a=s.processChildren?Up(s.segmentGroup,s.index,i.commands):Fp(s.segmentGroup,s.index,i.commands);return Mp(s.segmentGroup,a,e,r,o)}(l,this.currentUrlTree,t,p,h)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),Ur()&&this.isNgZoneEnabled&&!Ho.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=t instanceof Jh?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(t instanceof Jh)return Kh(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Kh(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce(function(e,n){var r=t[n];return null!=r&&(e[n]=r),e},{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe(function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new _h(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),e.resolve(!0)},function(e){t.console.warn("Unhandled Navigation Error: ")})},t.prototype.scheduleNavigation=function(t,e,n,r){var o=this.getTransition();if(o&&"imperative"!==e&&"imperative"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"hashchange"==e&&"popstate"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(o&&"popstate"==e&&"hashchange"===o.source&&o.rawUrl.toString()===t.toString())return Promise.resolve(!0);var i=null,s=null,a=new Promise(function(t,e){i=t,s=e}),u=++this.navigationId;return this.setTransition({id:u,source:e,state:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:i,reject:s,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(function(t){return Promise.reject(t)})},t.prototype.setBrowserUrl=function(t,e,n){var r=this.urlSerializer.serialize(t);this.location.isCurrentPathEqualTo(r)||e?this.location.replaceState(r,"",{navigationId:n}):this.location.go(r,"",{navigationId:n})},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t}(),Td=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Od,this.attachRef=null}}(),Od=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new Td,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),Md=function(){function t(t,e,n,r,o){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new Rr,this.deactivateEvents=new Rr,this.name=r||Nh,t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,o=new Rd(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,o),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t}(),Rd=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===Ep?this.route:t===Od?this.childContexts:this.parent.get(t,e)},t}(),Nd=function(){return function(){}}(),Ld=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(El(function(){return tl(null)}))},t}(),Fd=function(){function t(){}return t.prototype.preload=function(t,e){return tl(null)},t}(),Ud=function(){function t(t,e,n,r,o){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=new Ed(e,n,function(e){return t.triggerEvent(new Ih(e))},function(e){return t.triggerEvent(new Dh(e))})}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(il(function(t){return t instanceof _h}),Ml(function(){return t.preload()})).subscribe(function(){})},t.prototype.preload=function(){var t=this.injector.get(er);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,o=[];try{for(var i=u(e),s=i.next();!s.done;s=i.next()){var a=s.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var l=a._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else a.loadChildren&&!a.canLoad?o.push(this.preloadConfig(t,a)):a.children&&o.push(this.processRoutes(t,a.children))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return ot(o).pipe(lt(),tt(function(t){}))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,function(){return n.loader.load(t.injector,e).pipe(it(function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)}))})},t}(),Hd=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof bh?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof _h&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))})},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe(function(e){e instanceof Mh&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))})},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new Mh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t}(),Vd=new Et("ROUTER_CONFIGURATION"),Bd=new Et("ROUTER_FORROOT_GUARD"),zd=[Gl,{provide:rp,useClass:op},{provide:kd,useFactory:Qd,deps:[ri,rp,Od,Gl,Zt,ii,Oo,Pd,Vd,[Sd,new Vt],[Cd,new Vt]]},Od,{provide:Ep,useFactory:Kd,deps:[kd]},{provide:ii,useClass:li},Ud,Fd,Ld,{provide:Vd,useValue:{enableTracing:!1}}];function Gd(){return new Jo("Router",kd)}var Wd=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[zd,Zd(t),{provide:Bd,useFactory:Xd,deps:[[kd,new Vt,new zt]]},{provide:Vd,useValue:n||{}},{provide:Bl,useFactory:Yd,deps:[Hl,[new Ht(zl),new Vt],Vd]},{provide:Hd,useFactory:qd,deps:[kd,ac,Vd]},{provide:Nd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Fd},{provide:Jo,multi:!0,useFactory:Gd},[Jd,{provide:wo,multi:!0,useFactory:$d,deps:[Jd]},{provide:ef,useFactory:tf,deps:[Jd]},{provide:Io,multi:!0,useExisting:ef}]]}},t.forChild=function(t){return{ngModule:e,providers:[Zd(t)]}},t}();function qd(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Hd(t,e,n)}function Yd(t,e,n){return void 0===n&&(n={}),n.useHash?new ql(t,e):new Yl(t,e)}function Xd(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Zd(t){return[{provide:It,multi:!0,useValue:t},{provide:Pd,multi:!0,useValue:t}]}function Qd(t,e,n,r,o,i,s,a,u,l,c){void 0===u&&(u={});var h=new kd(null,e,n,r,o,i,s,qh(a));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),u.errorHandler&&(h.errorHandler=u.errorHandler),u.malformedUriErrorHandler&&(h.malformedUriErrorHandler=u.malformedUriErrorHandler),u.enableTracing){var p=cc();h.events.subscribe(function(t){p.logGroup("Router Event: "+t.constructor.name),p.log(t.toString()),p.log(t),p.logGroupEnd()})}return u.onSameUrlNavigation&&(h.onSameUrlNavigation=u.onSameUrlNavigation),u.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=u.paramsInheritanceStrategy),u.urlUpdateStrategy&&(h.urlUpdateStrategy=u.urlUpdateStrategy),u.relativeLinkResolution&&(h.relativeLinkResolution=u.relativeLinkResolution),h}function Kd(t){return t.routerState.root}var Jd=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new U}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Vl,Promise.resolve(null)).then(function(){var e=null,n=new Promise(function(t){return e=t}),r=t.injector.get(kd),o=t.injector.get(Vd);if(t.isLegacyDisabled(o)||t.isLegacyEnabled(o))e(!0);else if("disabled"===o.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==o.initialNavigation)throw new Error("Invalid initialNavigation options: '"+o.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?tl(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n})},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Vd),n=this.injector.get(Ud),r=this.injector.get(Hd),o=this.injector.get(kd),i=this.injector.get(ri);t===i.components[0]&&(this.isLegacyEnabled(e)?o.initialNavigation():this.isLegacyDisabled(e)&&o.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),o.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t}();function $d(t){return t.appInitializer.bind(t)}function tf(t){return t.bootstrapListener.bind(t)}var ef=new Et("Router Initializer"),nf=rs({encapsulation:2,styles:[],data:{}});function rf(t){return Ua(0,[(t()(),As(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),ma(1,212992,null,0,Md,[Od,pi,Jn,[8,null],di],null,null)],function(t,e){t(e,1,0)},null)}function of(t){return Ua(0,[(t()(),As(0,0,null,null,1,"ng-component",[],null,null,null,rf,nf)),ma(1,49152,null,0,Rh,[],null,null)],null,null)}var sf=Xs("ng-component",Rh,of,{},{},[]),af=rs({encapsulation:0,styles:[[".draggable[_ngcontent-%COMP%]{position:absolute;cursor:move}.customBox[_ngcontent-%COMP%]{padding:8px 100px;box-shadow:0 10px 40px 0 #b0c1d9}a.button1[_ngcontent-%COMP%]{cursor:pointer;display:inline-block;padding:.35em 1.2em;border:.1em solid #00f;margin:0 .3em .3em 0;border-radius:.12em;box-sizing:border-box;text-decoration:none;font-family:Lato;font-weight:300;color:#00f;text-align:center;transition:all .2s}a.button1[_ngcontent-%COMP%]:hover{color:#fff;background-color:#00f}@media all and (max-width:30em){a.button1[_ngcontent-%COMP%]{display:block;margin:.4em auto}}"]],data:{}});function uf(t){return Ua(0,[(t()(),As(0,0,null,null,1,"div",[["class","customBox draggable"]],[[8,"id",0]],null,null,null,null)),(t()(),Na(1,null,[" "," "]))],null,function(t,e){var n="box"+e.context.index.toString();t(e,0,0,n),t(e,1,0,e.context.$implicit.name)})}function lf(t){return Ua(0,[(t()(),As(0,0,null,null,4,"div",[["class","container"]],null,null,null,null,null)),(t()(),As(1,0,null,null,1,"a",[["class","button1"]],null,[[null,"click"]],function(t,e,n){var r=!0,o=t.component;return"click"===e&&(r=!1!==o.add(o.boxes.length)&&r),r},null,null)),(t()(),Na(-1,null,[" Add "])),(t()(),Ds(16777216,null,null,1,null,uf)),ma(4,278528,null,0,nc,[pi,Nr,Ai],{ngForOf:[0,"ngForOf"]},null)],function(t,e){t(e,4,0,e.component.boxes)},null)}function cf(t){return Ua(0,[(t()(),As(0,0,null,null,1,"app-root",[],null,null,null,lf,af)),ma(1,4243456,null,0,Ku,[cr],null,null)],null,null)}var hf=Xs("app-root",Ku,cf,{},{},[]),pf=function(){return function(){}}(),df=qu(Xu,[Ku],function(t){return function(t){for(var e={},n=[],r=!1,o=0;o<t.length;o++){var i=t[o];i.token===Cr&&!0===i.value&&(r=!0),1073741824&i.flags&&n.push(i.token),i.index=o,e[ts(i.token)]=i}return{factory:null,providersByKey:e,providers:t,modules:n,isRoot:r}}([Us(512,Jn,$n,[[8,[sf,hf]],[3,Jn],er]),Us(5120,Ni,Ui,[[3,Ni]]),Us(4608,$l,tc,[Ni,[2,Jl]]),Us(5120,xo,Po,[]),Us(5120,Ai,Li,[]),Us(5120,ki,Fi,[]),Us(4608,ah,uh,[ic]),Us(6144,ao,null,[ah]),Us(4608,th,nh,[]),Us(5120,jc,function(t,e,n,r,o,i,s,a){return[new Jc(t,e,n),new sh(r),new rh(o,i,s,a)]},[ic,Ho,jo,ic,ic,th,Do,[2,eh]]),Us(4608,Ic,Ic,[jc,Ho]),Us(135680,kc,kc,[ic]),Us(4608,Fc,Fc,[Ic,kc]),Us(6144,pr,null,[Fc]),Us(6144,Ac,null,[kc]),Us(4608,Xo,Xo,[Ho]),Us(5120,Ep,Kd,[kd]),Us(4608,Fd,Fd,[]),Us(6144,Nd,null,[Fd]),Us(135680,Ud,Ud,[kd,ii,Oo,Zt,Nd]),Us(4608,Ld,Ld,[]),Us(5120,Hd,qd,[kd,ac,Vd]),Us(5120,ef,tf,[Jd]),Us(5120,Io,function(t){return[t]},[ef]),Us(1073742336,oc,oc,[]),Us(1024,yo,gh,[]),Us(1024,Jo,function(){return[Gd()]},[]),Us(512,Jd,Jd,[Zt]),Us(1024,wo,function(t,e){return[(n=t,Pc("probe",Sc),Pc("coreTokens",i({},Ec,(n||[]).reduce(function(t,e){return t[e.name]=e.token,t},{}))),function(){return Sc}),$d(e)];var n},[[2,Jo],Jd]),Us(512,Co,Co,[[2,wo]]),Us(131584,ri,ri,[Ho,Do,Zt,yo,Jn,Co]),Us(1073742336,Hi,Hi,[ri]),Us(1073742336,mh,mh,[[3,mh]]),Us(1024,Bd,Xd,[[3,kd]]),Us(512,rp,op,[]),Us(512,Od,Od,[]),Us(256,Vd,{},[]),Us(1024,Bl,Yd,[Hl,[2,zl],Vd]),Us(512,Gl,Gl,[Bl]),Us(512,Oo,Oo,[]),Us(512,ii,li,[Oo,[2,ai]]),Us(1024,Pd,function(){return[[]]},[]),Us(1024,kd,Qd,[ri,rp,Od,Gl,Zt,ii,Oo,Pd,Vd,[2,Sd],[2,Cd]]),Us(1073742336,Wd,Wd,[[2,Bd],[2,kd]]),Us(1073742336,pf,pf,[]),Us(1073742336,Xu,Xu,[]),Us(256,Cr,!0,[])])});(function(){if(Fr)throw new Error("Cannot enable prod mode after platform setup.");Lr=!1})(),vh().bootstrapModuleFactory(df).catch(function(t){return console.error(t)})}},[[0,0]]]);